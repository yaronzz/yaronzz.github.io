<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Linux安装ss客户端</title>
      <link href="/post/ss_install/"/>
      <url>/post/ss_install/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="安装ss"><a href="#安装ss" class="headerlink" title="安装ss"></a>安装ss</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install python-pip</span><br><span class="line">pip install shadowsocks</span><br></pre></td></tr></table></figure><h3 id="创建配置文件"><a href="#创建配置文件" class="headerlink" title="创建配置文件"></a>创建配置文件</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/shadowsocks.json</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">在文件中添加一下内容：</span></span><br><span class="line">&#123;</span><br><span class="line">   "server":["101.101.101.101"],</span><br><span class="line">   "server_port":6666,</span><br><span class="line">   "password":"xxxxxxxx",</span><br><span class="line">   "timeout":300,</span><br><span class="line">   "method":"aes-256-cfb",</span><br><span class="line">   "local_address":"127.0.0.1",</span><br><span class="line">   "local_port":1080,</span><br><span class="line">   "fast_open":false,</span><br><span class="line">   "tunnel_remote":"8.8.8.8",</span><br><span class="line">   "dns_server":["8.8.8.8", "8.8.4.4"],</span><br><span class="line">   "tunnel_remote_port":53,</span><br><span class="line">   "tunnel_port":53</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>server : 服务器地址</li><li>server_port：服务器端口号</li><li>password：密码</li><li>method：加密方式</li></ul><a id="more"></a><h3 id="启动ss"><a href="#启动ss" class="headerlink" title="启动ss"></a>启动ss</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sslocal -c /etc/shadowsocks.json</span><br></pre></td></tr></table></figure><ol><li><p>错误：<code>ERROR method aes-256-gcm not supported</code></p><p>ss版本太低，可以用<code>sslocal --version</code>，一般都是<code>2.8.2</code>，需要升级到<code>3.0</code>：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/shadowsocks/shadowsocks.git master</span><br><span class="line">cd master</span><br><span class="line">git checkout master</span><br><span class="line">python setup.py install</span><br><span class="line">sslocal --version</span><br></pre></td></tr></table></figure><p>也可以直接使用<code>pip</code>进行安装：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install https://github.com/shadowsocks/shadowsocks/archive/master.zip -U</span><br></pre></td></tr></table></figure></li><li><p>错误：<code>libsodium not found</code>，需要手动编译 <code>libsodium 1.0.8</code> 及以上版本</p><ul><li>Debian 7/8、Ubuntu 14/15/16 及其衍生系列：</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install build-essential wget -y</span><br></pre></td></tr></table></figure><ul><li>Centos 6/7、RHEL 7 及其衍生系列：</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum groupinstall "Development Tools" -y</span><br><span class="line">yum install wget -y</span><br></pre></td></tr></table></figure><p>安装<code>libsodium</code>:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wget https://download.libsodium.org/libsodium/releases/LATEST.tar.gz</span><br><span class="line">tar xzvf LATEST.tar.gz</span><br><span class="line">cd libsodium*</span><br><span class="line">./configure --prefix=/usr/local/libsodium</span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure><p>添加运行库位置并加载运行库：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">编辑文件</span></span><br><span class="line">vim /etc/ld.so.conf</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">输入以下内容</span></span><br><span class="line">include ld.so.conf.d/*.conf"</span><br><span class="line">/lib</span><br><span class="line">/usr/lib64</span><br><span class="line">/usr/local/lib</span><br><span class="line">/usr/local/libsodium/lib</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">使配置生效</span></span><br><span class="line">ldconfig</span><br></pre></td></tr></table></figure></li></ol><h3 id="配置服务"><a href="#配置服务" class="headerlink" title="配置服务"></a>配置服务</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">编辑文件</span></span><br><span class="line">vi /etc/systemd/system/shadowsocks.service</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">输入以下内容</span></span><br><span class="line">[Unit]</span><br><span class="line">Description=Shadowsocks</span><br><span class="line">[Service]</span><br><span class="line">TimeoutStartSec=0</span><br><span class="line">ExecStart=sslocal -c /etc/shadowsocks.json</span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">启动</span></span><br><span class="line">systemctl enable shadowsocks.service</span><br><span class="line">systemctl start shadowsocks.service</span><br><span class="line">systemctl status shadowsocks</span><br></pre></td></tr></table></figure><p>检查服务是否运行正常：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl --socks5 127.0.0.1:1080 http://httpbin.org/ip</span><br></pre></td></tr></table></figure><h2 id="使用ss代理"><a href="#使用ss代理" class="headerlink" title="使用ss代理"></a>使用ss代理</h2><h3 id="安装privoxy"><a href="#安装privoxy" class="headerlink" title="安装privoxy"></a>安装privoxy</h3><p>privoxy可以将ss提供的socket5代理转为http代理</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">安装</span></span><br><span class="line">yum install privoxy</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">配置</span></span><br><span class="line">vi /etc/privoxy/config</span><br><span class="line"><span class="meta">#</span><span class="bash">确保文件中有以下两行</span></span><br><span class="line">listen-address 127.0.0.1:8118</span><br><span class="line">forward-socks5t / 127.0.0.1:1080 .</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">启动服务</span></span><br><span class="line">systemctl enable privoxy</span><br><span class="line">systemctl start privoxy</span><br><span class="line">systemctl status privoxy</span><br></pre></td></tr></table></figure><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>临时启动http代理：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export http_proxy=http://127.0.0.1:8118</span><br><span class="line">export https_proxy=http://127.0.0.1:8118</span><br></pre></td></tr></table></figure><p>测试：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl www.google.com</span><br></pre></td></tr></table></figure><p>永久启用http代理：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">编辑配置文件</span></span><br><span class="line">vi /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">配置</span></span><br><span class="line">export http_proxy=http://127.0.0.1:8118</span><br><span class="line">export https_proxy=http://127.0.0.1:8118</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">生效</span></span><br><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 建站 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> ss </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qt-QScrollArea使用</title>
      <link href="/post/qt_qscrollarea/"/>
      <url>/post/qt_qscrollarea/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>QScrollArea作为一个控件容器，主要用于提供横向和纵向的滚动条，常用在图片查看等场景。由于它只作为一个容器存在，所以需要为其设置一个控制：<code>QScrollArea::setWidget(QWidget *)</code>。</p><p>QScrollArea也可以用来设计复杂的列表：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyScrollArea</span> :</span> <span class="keyword">public</span> QScrollArea</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">MyScrollArea</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        m_numItem = <span class="number">0</span>;</span><br><span class="line">        m_layout = <span class="keyword">new</span> QVBoxLayout();</span><br><span class="line">        m_layout-&gt;addStretch(<span class="number">1</span>);</span><br><span class="line">        m_widget = <span class="keyword">new</span> QWidget();</span><br><span class="line">        m_widget-&gt;setLayout(m_layout);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>-&gt;setWidget(m_widget);</span><br><span class="line">        <span class="keyword">this</span>-&gt;setWidgetResizable(True);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addItem</span><span class="params">(QWidget* item)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        m_layout-&gt;insertWidget(m_numItem, item);</span><br><span class="line">        m_numItem ++;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">delItem</span><span class="params">(QWidget* item)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        m_layout-&gt;removeWidget(item);</span><br><span class="line">        m_numItem --;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>列表项一般只需要纵向的滚动条，横向宽度保持与外部窗口一致，所以需要重写QScrollArea的<strong>resizeEvent</strong>：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">resizeEvent</span><span class="params">(QResizeEvent* e)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">QScrollArea::resizeEvent(e);</span><br><span class="line"><span class="keyword">auto</span> <span class="built_in">width</span> = e-&gt;<span class="built_in">size</span>()-&gt;<span class="built_in">width</span>();</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">width</span> &gt; <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">m_widget-&gt;setMaximumWidth(<span class="built_in">width</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++NFS挂载</title>
      <link href="/post/cpp_nfs/"/>
      <url>/post/cpp_nfs/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="挂载NFS"><a href="#挂载NFS" class="headerlink" title="挂载NFS"></a>挂载NFS</h2><h3 id="挂载命令"><a href="#挂载命令" class="headerlink" title="挂载命令"></a>挂载命令</h3><p>挂载NFS时，常用的命令比如：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">将远程目录挂载到本地/home/share目录下</span></span><br><span class="line">mount -t nfs -o nolock 192.168.1.10:/tmp /home/share</span><br></pre></td></tr></table></figure><p>在Linux 下可以用<code>mount</code>函数进行挂载：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Mount</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> remotePath = m_remoteIP + <span class="string">":"</span> + m_remotePath;</span><br><span class="line">    <span class="built_in">string</span> localPath = m_localPath;</span><br><span class="line">    <span class="built_in">string</span> params = <span class="string">"nolock,soft,fg,tcp,timeo=5,retrans=1,rsize=4096,vers=3,addr="</span> + m_remoteIP;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> ret = mount(remotePath.c_str(),</span><br><span class="line">                    localPath.c_str(),</span><br><span class="line">                    <span class="string">"nfs"</span>,</span><br><span class="line">                    MS_SYNCHRONOUS,</span><br><span class="line">                    params.c_str());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (ret != <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">auto</span> errInfo = errno;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="错误码"><a href="#错误码" class="headerlink" title="错误码"></a>错误码</h3><p>挂载失败时，常见错误码<code>errno</code>有：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span>EINVAL22<span class="comment">/* Invalid argument 挂载参数问题，可能是没加addr*/</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>EACCES13<span class="comment">/* Permission denied 权限问题*/</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>EPERM 1<span class="comment">/* Operation not permitted 权限问题*/</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>EBUSY16<span class="comment">/* Device or resource busy 挂载目录正被使用*/</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span>ENOENT 2<span class="comment">/* No such file or directory 挂载目录错误*/</span></span></span><br></pre></td></tr></table></figure><h3 id="挂载参数"><a href="#挂载参数" class="headerlink" title="挂载参数"></a>挂载参数</h3><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>rsize=n</td><td>读时最大字节数</td></tr><tr><td>wsize=n</td><td>写时最大字节数</td></tr><tr><td>timeo=n</td><td>客户端重传请求前等待时间,默认等待重传时间为60s</td></tr><tr><td>retrans=n</td><td>客户端返回错误前的重传次数。默认为重传3次。retrans与soft参数一起使用时才有效。</td></tr><tr><td>soft/hard</td><td>软挂载方式挂载系统，若NFS请求超时，则客户端向调用程序返回错误；<br />如果使用硬连接方式则客户端一直重新请求直至成功。默认为hard</td></tr><tr><td>bg/fg</td><td>设置挂载失败后的行为方式。<br />默认的fg方式将立刻退出返回错误状态，bg方式是退出前将产生一个子进程在后台继续尝试挂载</td></tr><tr><td>vers=xxx</td><td>设置版本</td></tr><tr><td>addr=xxx</td><td>设置服务地址</td></tr><tr><td>tcp/udp</td><td>设置协议，一般使用tcp，网络不稳定可以换udp</td></tr><tr><td>port=n</td><td>设置服务端口号</td></tr><tr><td>lock/nolock</td><td>选择是否使用NLM协议在服务器上锁文件。当选择nolock选项时，锁对于同一主机的应用有效，对不同主机不受锁的影响。默认为lock。</td></tr></tbody></table><h2 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h2><p>卸载函数有<code>mount</code>和<code>mount2</code>，第二个可以加参数，所以一般情况下使用<code>mount2</code>进行强制卸载：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">UnMount</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> umount2(m_localPath.c_str(), MNT_FORCE) == <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如果<code>m_localPath</code>目录没有被挂载，则会返回错误</p><h2 id="检查是否挂载"><a href="#检查是否挂载" class="headerlink" title="检查是否挂载"></a>检查是否挂载</h2><h3 id="检查命令"><a href="#检查命令" class="headerlink" title="检查命令"></a>检查命令</h3><p>Linux下使用命令检查nfs是否挂载成功的方式有很多，比如：</p><ol><li><p>检查文件系统的磁盘空间占用情况 <code>df -h</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Filesystem                Size      Used Available Use% Mounted on</span><br><span class="line">ubi0:rootfs              54.1M     50.8M      3.3M  94% /</span><br><span class="line">devtmpfs                215.8M         0    215.8M   0% /dev</span><br><span class="line">192.168.0.249:/nfs       59.6G      1.6G     57.9G   3% /mnt/udisk</span><br></pre></td></tr></table></figure></li><li><p>查看挂载信息文件 <code>cat /proc/mounts</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ubi0:rootfs / ubifs rw,sync,relatime 0 0</span><br><span class="line">devtmpfs /dev devtmpfs rw,relatime,size=220936k,nr_inodes=55234,mode=755 0 0</span><br><span class="line">192.168.0.249:/nfs /mnt/udisk nfs rw,sync,relatime,vers=3,rsize=4096,wsize=8192,namlen=255,soft,nolock,proto=tcp,timeo=5,retrans=1,sec=sys,mountaddr=192.168.0.249,mountvers=3,mountproto=tcp,local_lock=all,addr=192.168.0.249 0 0</span><br></pre></td></tr></table></figure></li><li><p>直接使用挂载命令 <code>mount</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ubi0:rootfs on / type ubifs (rw,sync,relatime)</span><br><span class="line">devtmpfs on /dev type devtmpfs (rw,relatime,size=220936k,nr_inodes=55234,mode=755)</span><br><span class="line">192.168.0.249:/nfs on /mnt/udisk type nfs (rw,sync,relatime,vers=3,rsize=4096,wsize=8192,namlen=255,soft,nolock,proto=tcp,timeo=5,retrans=1,sec=sys,mountaddr=192.168.0.249,mountvers=3,mountproto=tcp,local_lock=all,addr=192.168.0.249)</span><br></pre></td></tr></table></figure></li><li><p>查看指定目录是否挂载点 <code>mountpoint -d /mnt/udisk</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">打印文件系统的主设备号和次设备号</span></span><br><span class="line">0:21</span><br></pre></td></tr></table></figure></li></ol><h3 id="功能实现"><a href="#功能实现" class="headerlink" title="功能实现"></a>功能实现</h3><p><strong>功能需求：</strong></p><ul><li>检查目录是否挂载成功</li><li>当NFS服务关闭时，检查结果也需要同步</li></ul><p>经过测试，只有<code>mountpoint</code> 能完成第二点功能需求，所以直接使用shell命令来进行检查：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">CheckMount</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> shell = <span class="string">"mountpoint -d "</span> + m_localPath;</span><br><span class="line"></span><br><span class="line">    QProcess proc;</span><br><span class="line">    proc.start(shell.c_str());</span><br><span class="line">    <span class="keyword">if</span> (!proc.waitForFinished(<span class="number">10000</span>))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">auto</span> output = proc.readAll();</span><br><span class="line">    <span class="keyword">return</span> !output.isEmpty())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="NFS服务"><a href="#NFS服务" class="headerlink" title="NFS服务"></a>NFS服务</h2><h3 id="Windows下安装"><a href="#Windows下安装" class="headerlink" title="Windows下安装"></a>Windows下安装</h3><p>Windows下常见的NFS服务软件可以使用<a href="https://www.hanewin.net/nfs-e.htm" target="_blank" rel="noopener">haneWIN NFS Server</a></p><p><strong>1. 下载地址</strong>：<a href="https://r.hanewin.net/nfs1261.zip" target="_blank" rel="noopener">https://r.hanewin.net/nfs1261.zip</a></p><p><strong>2. 配置方法</strong>：打开目录下的<strong>exports</strong>文件，配置NFS服务目录，比如共享D盘下的<strong>NFSData</strong>目录：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">D:\NFSData  -name:nfs -exec -maproot:0 -alldirs</span><br></pre></td></tr></table></figure><ul><li>name：设置挂载的目录名给客户端使用，比如<code>mount -t nfs -o nolock 192.168.1.10:/nfs /home/share</code></li><li>maproot：将root权限开放给客户端</li><li>alldirs：将全部路径开放给客户端</li></ul><p>Linux下安装</p><ol><li>安装：<code>sudo apt-get install nfs-kernel-server</code></li><li>配置方法：编辑文件 <code>/etc/exports</code></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/mnt/nfstest *(rw,sync,no_root_squash,no_subtree_check)</span><br></pre></td></tr></table></figure><ul><li>rw：可读可写</li><li>no_root_squash：root的权限</li><li>sync：资料同步写入存储器中</li><li>no_subtree_check：输出目录是一个子目录，nfs服务器也不检查其父目录的权限，这样可以提高效率</li></ul><p>编辑成功之后运行命令<code>exportfs -au</code>刷新</p>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cpp </tag>
            
            <tag> nfs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GDB-CoreDump调试</title>
      <link href="/post/gdb_coreDump/"/>
      <url>/post/gdb_coreDump/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="配置并生成崩溃信息"><a href="#配置并生成崩溃信息" class="headerlink" title="配置并生成崩溃信息"></a>配置并生成崩溃信息</h2><ol><li>查看并开启core dump功能</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">查看是否开启 0不开</span></span><br><span class="line">ulimit -c</span><br><span class="line"><span class="meta">#</span><span class="bash">开启core dump功能</span></span><br><span class="line">ulimit -c unlimited</span><br></pre></td></tr></table></figure><ol start="2"><li>指定core dump输出目录到<code>/opt/dump/</code></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo /opt/dump/core.%e.%p &gt; /proc/sys/kernel/core_pattern</span><br></pre></td></tr></table></figure><ol start="3"><li>执行问题程序即可，输出如下：</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">崩溃信息</span></span><br><span class="line">[root@test ~]# Alignment trap: not handling instruction e8502f00 at [&lt;75f76aca&gt;]</span><br><span class="line">Unhandled fault: alignment exception (0x001) at 0x0d98b981</span><br><span class="line">pgd = 98be4000</span><br><span class="line">[0d98b981] *pgd=00000000</span><br><span class="line"></span><br><span class="line">[1]-  Bus error (core dumped)    ./test</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="调试崩溃文件"><a href="#调试崩溃文件" class="headerlink" title="调试崩溃文件"></a>调试崩溃文件</h2><p>可执行软件：<code>test</code>，产生的dump文件<code>core-test-775</code></p><ol><li>使用gdb调试程序</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdb test</span><br></pre></td></tr></table></figure><ol start="2"><li>设置程序所需的动态库路径</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">查询所需库</span></span><br><span class="line">(gdb)info sharedlibrary</span><br><span class="line"><span class="meta">#</span><span class="bash">设置库路径/root/lib/和/root/lib2/,用冒号隔开</span></span><br><span class="line">(gdb)set solib-search-path /root/lib/:/root/lib2/</span><br></pre></td></tr></table></figure><ol start="3"><li>打开崩溃文件</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(gdb)core-file core-test-775</span><br></pre></td></tr></table></figure><ol start="4"><li>查询崩溃信息</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(gdb)bt</span><br></pre></td></tr></table></figure><h2 id="设置自动加载动态库路径"><a href="#设置自动加载动态库路径" class="headerlink" title="设置自动加载动态库路径"></a>设置自动加载动态库路径</h2><ol><li>修改用户目录下的<code>~/.gdbinit</code>：</li></ol><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set auto-load safe-path /</span><br></pre></td></tr></table></figure><ol start="2"><li>修改程序软件的目录下的<code>~/.gdbinit</code>：</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set solib-search-path /root/lib/:/root/lib2/</span><br></pre></td></tr></table></figure><ol start="3"><li>调试崩溃信息</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gdb test</span><br><span class="line">(gdb)core-file core-test-775</span><br><span class="line">(gdb)bt</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> gdb </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qt交叉编译</title>
      <link href="/post/qt_cross_compile/"/>
      <url>/post/qt_cross_compile/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><h3 id="下载软件"><a href="#下载软件" class="headerlink" title="下载软件"></a>下载软件</h3><ul><li>下载相应的触摸屏库<code>tslib</code></li><li>下载<code>linaro</code>交叉编译工具链:<a href="http://releases.linaro.org/components/toolchain/binaries/" target="_blank" rel="noopener">Linaro Releases</a></li><li>下载QT源码：<a href="https://download.qt.io/archive/qt/5.9/5.9.6/single/" target="_blank" rel="noopener">Index of /archive/qt/5.9/5.9.6/single</a></li></ul><table><thead><tr><th>文件名</th><th>说明</th></tr></thead><tbody><tr><td>gcc-linaro-arm-linux-gnueabihf-4.9-2014.09_linux.tar.bz2</td><td>交叉编译工具链</td></tr><tr><td>tslib.tar.bz2</td><td>触摸屏库</td></tr><tr><td>qt-everywhere-opensource-src-5.9.6.tar.xz</td><td>qt5.9.6源码</td></tr></tbody></table><a id="more"></a><h3 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h3><ol><li><p>将<code>gcc-linaro-arm-linux-gnueabihf-4.9-2014.09_linux.tar.bz2</code>和<code>tslib.tar.bz2</code>移动到<code>/opt</code>目录下</p></li><li><p>解压 <code>gcc-linaro-arm-linux-gnueabihf-4.9-2014.09_linux.tar.bz2</code>到opt目录</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /opt</span><br><span class="line">sudo tar -xvjf gcc-linaro-arm-linux-gnueabihf-4.9-2014.09_linux.tar.bz2</span><br></pre></td></tr></table></figure></li><li><p>解压 <code>tslib.tar.bz2</code>到opt目录</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /opt</span><br><span class="line">sudo tar -xvjf tslib.tar.bz2</span><br></pre></td></tr></table></figure></li><li><p>测试交叉编译链</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /opt/gcc-linaro-arm-linux-gnueabihf-4.9-2014.09_linux/bin</span><br><span class="line">./arm-linux-gnueabihf-g++ -v</span><br></pre></td></tr></table></figure><p>如果不能运行，可能是系统版本64位与交叉编译链32位不符导致，可以安装32位支持：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo dpkg --add-architecture i386</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install libc6:i386 libncurses5:i386 libstdc++6:i386 zlib1g:i386 -y</span><br></pre></td></tr></table></figure></li></ol><h2 id="配置与编译QT"><a href="#配置与编译QT" class="headerlink" title="配置与编译QT"></a>配置与编译QT</h2><ol><li><p>将<code>qt-everywhere-opensource-src-5.9.6.tar.xz</code>移动到用户目录下，创建<code>qt-5.9.6-source</code>目录用于放源码</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ~</span><br><span class="line">mkdir qt-5.9.6-source</span><br></pre></td></tr></table></figure></li><li><p>解压 <code>qt-everywhere-opensource-src-5.9.6.tar.xz</code>到用户目录</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -xvjf qt-everywhere-opensource-src-5.9.6.tar.xz ./qt-5.9.6-source</span><br></pre></td></tr></table></figure></li><li><p>配置交叉编译链</p><ul><li>打开配置文件</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ~/qt-5.9.6-source/qt-everywhere-opensource-src-5.9.6</span><br><span class="line">vi ./qtbase/mkspecs/linux-arm-gnueabi-g++/qmake.conf</span><br></pre></td></tr></table></figure><ul><li>修改内容，并指定交叉编译链地址</li></ul><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># qmake configuration for building with arm-linux-gnueabi-g++</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="attr">MAKEFILE_GENERATOR</span>      = UNIX</span><br><span class="line">CONFIG                 += incremental</span><br><span class="line"><span class="attr">QMAKE_INCREMENTAL_STYLE</span> = sublib</span><br><span class="line"></span><br><span class="line">include(../common/linux.conf)</span><br><span class="line">include(../common/gcc-base-unix.conf)</span><br><span class="line">include(../common/g++-unix.conf)</span><br><span class="line"></span><br><span class="line"><span class="attr">QT_QPA_DEFAULT_PLATFORM</span> = linuxfb</span><br><span class="line">QMAKE_CFLAGS           += -march=armv7-a -mtune=cortex-a7</span><br><span class="line">QMAKE_CXXFLAGS         += -march=armv7-a -mtune=cortex-a7</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attr">QMAKE_INCDIR</span> = /opt/tslib/include</span><br><span class="line"><span class="attr">QMAKE_LIBDIR</span> = /opt/tslib/lib</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># modifications to g++.conf</span></span><br><span class="line"><span class="attr">QMAKE_CC</span>         = /opt/gcc-linaro-arm-linux-gnueabihf-<span class="number">4.9</span>-<span class="number">2014.09</span>_linux/bin/arm-linux-gnueabihf-gcc -lts</span><br><span class="line"><span class="attr">QMAKE_CXX</span>        = /opt/gcc-linaro-arm-linux-gnueabihf-<span class="number">4.9</span>-<span class="number">2014.09</span>_linux/bin/arm-linux-gnueabihf-g++ -lts</span><br><span class="line"><span class="attr">QMAKE_LINK</span>       = /opt/gcc-linaro-arm-linux-gnueabihf-<span class="number">4.9</span>-<span class="number">2014.09</span>_linux/bin/arm-linux-gnueabihf-g++ -lts</span><br><span class="line"><span class="attr">QMAKE_LINK_SHLIB</span> = /opt/gcc-linaro-arm-linux-gnueabihf-<span class="number">4.9</span>-<span class="number">2014.09</span>_linux/bin/arm-linux-gnueabihf-g++ -lts</span><br><span class="line"></span><br><span class="line"><span class="comment"># modifications to linux.conf</span></span><br><span class="line"><span class="attr">QMAKE_AR</span>      = /opt/gcc-linaro-arm-linux-gnueabihf-<span class="number">4.9</span>-<span class="number">2014.09</span>_linux/bin/arm-linux-gnueabihf-ar cqs</span><br><span class="line"><span class="attr">QMAKE_OBJCOPY</span> = /opt/gcc-linaro-arm-linux-gnueabihf-<span class="number">4.9</span>-<span class="number">2014.09</span>_linux/bin/arm-linux-gnueabihf-objcopy</span><br><span class="line"><span class="attr">QMAKE_NM</span>      = /opt/gcc-linaro-arm-linux-gnueabihf-<span class="number">4.9</span>-<span class="number">2014.09</span>_linux/bin/arm-linux-gnueabihf-nm -P</span><br><span class="line"><span class="attr">QMAKE_STRIP</span>   = /opt/gcc-linaro-arm-linux-gnueabihf-<span class="number">4.9</span>-<span class="number">2014.09</span>_linux/bin/arm-linux-gnueabihf-strip</span><br><span class="line">load(qt_config)</span><br></pre></td></tr></table></figure></li><li><p>创建<code>autoConfig.sh</code>文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi ~/qt-5.9.6-source/qt-everywhere-opensource-src-5.9.6/autoConfig.sh</span><br></pre></td></tr></table></figure><p><code>autoConfig.sh</code>内容：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/bin/sh</span></span><br><span class="line"></span><br><span class="line">./configure \</span><br><span class="line">    -prefix /opt/qt-5.9.6 \</span><br><span class="line">    -v \</span><br><span class="line">    -confirm-license \</span><br><span class="line">    -opensource \</span><br><span class="line">    -release \</span><br><span class="line">    -make libs \</span><br><span class="line">    -xplatform linux-arm-gnueabi-g++ \</span><br><span class="line">    -optimized-qmake \</span><br><span class="line">    -qt-libjpeg \</span><br><span class="line">    -qt-libpng \</span><br><span class="line">    -qt-zlib -tslib \</span><br><span class="line">    -no-opengl -no-sse2 -no-openssl -no-cups -no-glib -no-xcb \</span><br><span class="line">    -no-separate-debug-info -nomake examples \</span><br><span class="line">    -nomake tools -nomake tests -no-iconv -no-dbus \</span><br><span class="line">    -I /opt/tslib/include \</span><br><span class="line">    -L /opt/tslib/lib \</span><br><span class="line">    -recheck-all</span><br></pre></td></tr></table></figure></li><li><p>编译QT</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./autoConfig.sh &amp;&amp; make -j4 &amp;&amp; make install</span><br></pre></td></tr></table></figure><p><em>编译后的qt库放置与/opt目录下</em></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> qt </tag>
            
            <tag> arm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qt-Vnc远程</title>
      <link href="/post/qt_vnc/"/>
      <url>/post/qt_vnc/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="VNC简介"><a href="#VNC简介" class="headerlink" title="VNC简介"></a>VNC简介</h2><p>VNC(Virtual Network Computing)是基于RFB（Remote Frame Buffer）协议的远程系统，C/S端口默认为5900，B/S端口默认为5800。</p><p>RFB (远程帧缓存) 是一个远程图形用户的简单协议，工作在帧缓存级别上，其传输的是像素数据是以XY为起点的方框数据，通过矩形图形数据组进行帧缓存的更新。另外更新是由客户端通过命令驱动的，也就是说更新只是服务器在响应客户端的请求时发生的，如果网络较差时，有些帧的缓存会忽略，这样能减少客户端对网络和绘制速度的要求。</p><a id="more"></a><p>远程桌面协议对比：</p><table><thead><tr><th></th><th>SPICE</th><th>VNC</th><th>RDP</th></tr></thead><tbody><tr><td>BIOS屏幕显示</td><td>能</td><td>能</td><td>不能</td></tr><tr><td>全彩支持</td><td>能</td><td>能</td><td>能</td></tr><tr><td>更改分辨率</td><td>能</td><td>能</td><td>能</td></tr><tr><td>多显示器</td><td>多显示器支持（高达4画面）</td><td>只有一个屏幕</td><td>多显示器支持</td></tr><tr><td>图像传输</td><td>图像和图形传输</td><td>图像传输</td><td>图像和图形传输</td></tr><tr><td>视频播放支持</td><td>GPU加速支持</td><td>不能</td><td>GPU加速支持</td></tr><tr><td>音频传输</td><td>双向语音可以控制</td><td>不能</td><td>双向语音可以控制</td></tr><tr><td>鼠标控制</td><td>客户端服务器都可以控制</td><td>服务器端控制</td><td>服务器端控制</td></tr></tbody></table><p>VNC作为一种远程桌面协议，常常用在嵌入式开发中，在嵌入式设备上运行vnc服务程序，即可在PC端远程控制。</p><h2 id="QT环境要求"><a href="#QT环境要求" class="headerlink" title="QT环境要求"></a>QT环境要求</h2><ol><li>QT版本需要<code>5.8</code>以上，可以下载相应版本的源码包，比如<a href="https://download.qt.io/archive/qt/5.9/5.9.6/single/" target="_blank" rel="noopener">5.9.6.zip</a>，解压之后，在<code>qtbase/src/plugins/platforms</code>下可以看见有<code>vnc</code>的源码</li></ol><p><img src="https://i.loli.net/2021/11/18/J6a4LokphVfqA9U.png" alt="image-20211118090352762"></p><ol start="2"><li>检查qt库安装目录下插件<code>plugins</code>文件夹中<code>platforms</code>目录是否有vnc动态库<code>libqvnc.so</code></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ls /usr/lib/qt5.8/plugins/platforms/</span></span><br><span class="line">libqeglfs.so       libqminimal.so     libqoffscreen.so</span><br><span class="line">libqlinuxfb.so     libqminimalegl.so  libqvnc.so</span><br></pre></td></tr></table></figure><p><strong>注意：</strong>QT提供的VNC服务比较简单，只支持一些基本的功能，另外老版本的VNC中也有一些BUG可能会造成崩溃，所以最好还是尽量使用新版本。</p><h2 id="使用教程"><a href="#使用教程" class="headerlink" title="使用教程"></a>使用教程</h2><h3 id="QT程序启动vnc服务"><a href="#QT程序启动vnc服务" class="headerlink" title="QT程序启动vnc服务"></a>QT程序启动vnc服务</h3><ol><li><p>方式1：通过设置环境变量，改变程序的启动方式</p><p>配置QT程序的启动的方式 <code>export QT_QPA_PLATFORM=vnc</code></p></li><li><p>方式2：启动程序时指定启动方式</p><p>启动参数<code>./test -platform vnc:size=800x600,port=12345</code></p><ul><li>size 分辨率</li><li>port 服务端口号（不加则默认为5900）</li></ul></li></ol><h3 id="使用VNC客户端"><a href="#使用VNC客户端" class="headerlink" title="使用VNC客户端"></a>使用VNC客户端</h3><p>市面上的VNC客户端有很多，常用的比如<a href="https://www.realvnc.com/en/connect/download/viewer/" target="_blank" rel="noopener">Realvnc</a>，另外也有很多开源的项目：</p><ul><li><a href="https://sourceforge.net/projects/tigervnc/files/stable/1.12.0/" target="_blank" rel="noopener">TigerVNC</a></li><li><a href="https://github.com/KangLin/RabbitRemoteControl" target="_blank" rel="noopener">RabbitRemoteControl</a></li></ul><p><strong>参考</strong></p><ul><li><a href="https://tools.ietf.org/html/rfc6143#section-7.7" target="_blank" rel="noopener">VNC PROTOCOL</a></li><li><a href="https://www.cnblogs.com/cnhk19/p/14948622.html" target="_blank" rel="noopener">远程桌面协议对比</a></li><li><a href="https://blog.csdn.net/tylz04/article/details/9181663" target="_blank" rel="noopener">RFB协议解析</a></li><li><a href="https://www.shuzhiduo.com/A/rV57QE6WzP/" target="_blank" rel="noopener">RFB协议具体通信说明</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> qt </tag>
            
            <tag> arm </tag>
            
            <tag> vnc </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UDP组播的说明与使用</title>
      <link href="/post/udp_membership/"/>
      <url>/post/udp_membership/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><p>网络通讯中，数据传输方式有：单播，广播和组播。单播是一对一的通信，广播则是对网络中所有主机进行通信。在需要对网络中某些主机进行通信时，单播会多次重复发送数据，广播则会造成资源浪费与安全问题。而组播是将信息发送到某个组播组，只有加入组播组的主机才能接收到消息，这种方式解决了单播情况下数据的重复拷贝及带宽的重复占用，也解决了广播方式下带宽资源的浪费。</p><p>组播中数据发送者和接收者之间是一对多点的连接方式，多个接收者加入同一个组播组，共享同一个IP地址，同时组播组中的成员是动态的，某个成员的加入和退出并不影响原有的组播组。当网络中的某些用户需要特定数据时，组播数据发送者（即组播源）仅发送一次数据，借助组播路由协议为组播数据包建立组播分发树，被传递的数据到达距离用户端尽可能近的节点后才开始复制和分发。</p><a id="more"></a><h3 id="组播地址"><a href="#组播地址" class="headerlink" title="组播地址"></a>组播地址</h3><p>组播组可以是永久的也可以是临时的。组播组地址中，有一部分由官方分配的，称为永久组播组。永久组播组保持不变的是它的ip地址，组中的成员构成可以发生变化。永久组播组中成员的数量都可以是任意的，甚至可以为零。那些没有保留下来供永久组播组使用的ip组播地址，可以被临时组播组利用。</p><p><code>224.0.0.0～224.0.0.255</code>为预留的组播地址（永久组地址），地址224.0.0.0保留不做分配，其它地址供路由协议使用；<br><code>224.0.1.0～224.0.1.255</code>是公用组播地址，可以用于Internet；<br><code>224.0.2.0～238.255.255.255</code>为用户可用的组播地址（临时组地址），全网范围内有效；<br><code>239.0.0.0～239.255.255.255</code>为本地管理组播地址，仅在特定的本地范围内有效。</p><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><h3 id="配置流程"><a href="#配置流程" class="headerlink" title="配置流程"></a>配置流程</h3><ol><li><p>创建套接字</p><p>  由于UDP与TCP都是全双工的，所以可以使用同一个套接字进行同时收发操作。</p>  <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> UDP_MCAST_PORT 37102        <span class="comment">//组播端口</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> UDP_MCAST_ADDR <span class="meta-string">"224.0.1.88"</span> <span class="comment">//组播地址</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">auto</span> socket = socket(AF_INET,SOCK_DGRAM,<span class="number">0</span>);</span><br><span class="line"><span class="keyword">if</span> (socket &lt;= <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br></pre></td></tr></table></figure></li></ol><ol start="2"><li><p>设置端口复用</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> opt = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span> (setsockopt(socket, SOL_SOCKET, SO_REUSEADDR ,(<span class="keyword">char</span>*)&amp;opt, <span class="keyword">sizeof</span>(opt)) &lt; <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br></pre></td></tr></table></figure></li><li><p>绑定组播端口</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">addr</span>;</span></span><br><span class="line">addr.sin_family = AF_INET;</span><br><span class="line">addr.sin_port = htons(UDP_MCAST_PORT);</span><br><span class="line">addr.sin_addr.s_addr = htonl(INADDR_ANY);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (bind(socket, (struct sockaddr*)&amp;addr, <span class="keyword">sizeof</span>(addr)) &lt; <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br></pre></td></tr></table></figure></li><li><p>加入组播</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ip_mreq</span> <span class="title">mreq</span>;</span></span><br><span class="line">mreq.imr_multiaddr.s_addr = inet_addr(UDP_MCAST_ADDR);</span><br><span class="line">mreq.imr_interface.s_addr = htonl(INADDR_ANY);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (setsockopt(socket, IPPROTO_IP, IP_ADD_MEMBERSHIP, (<span class="keyword">char</span>*)&amp;mreq, <span class="keyword">sizeof</span>(mreq)) &lt; <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br></pre></td></tr></table></figure></li><li><p>发送与接收</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//发送</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">addrSrv</span>;</span></span><br><span class="line">addrSrv.sin_family=AF_INET;</span><br><span class="line">addrSrv.sin_addr.s_addr = inet_addr(UDP_MCAST_ADDR);</span><br><span class="line">addrSrv.sin_port=htons(UDP_MCAST_PORT);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (sendto(socket, data, dataLen, <span class="number">0</span>, (struct sockaddr *)&amp;addrSrv,<span class="keyword">sizeof</span>(addrSrv)) &gt; <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//接收</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span> <span class="title">group_addr</span>;</span></span><br><span class="line"><span class="keyword">socklen_t</span> addr_len = <span class="keyword">sizeof</span>(group_addr);</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> len = recvfrom(socket, buff, buffLen, <span class="number">0</span>, (struct sockaddr *) &amp;group_addr, (<span class="keyword">int</span> *)&amp;addr_len);</span><br><span class="line">recvIP = inet_ntoa(group_addr.sin_addr);</span><br><span class="line">recvPort = group_addr.sin_port;</span><br></pre></td></tr></table></figure></li></ol><h3 id="多网卡配置流程"><a href="#多网卡配置流程" class="headerlink" title="多网卡配置流程"></a>多网卡配置流程</h3><p>多网卡组播需要在加入组播时指定本地IP地址，并且需要在最后多加一步指定组播的出口网卡：</p><ol><li><p>加入组播</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ip_mreq</span> <span class="title">mreq</span>;</span></span><br><span class="line">mreq.imr_multiaddr.s_addr = inet_addr(UDP_MCAST_ADDR);</span><br><span class="line">mreq.imr_interface.s_addr = htonl(INADDR_ANY);</span><br><span class="line"></span><br><span class="line"><span class="comment">//指定接口接收组播信息</span></span><br><span class="line">mreq.imr_interface.s_addr = inet_addr(<span class="built_in">localIP</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (setsockopt(socket, IPPROTO_IP, IP_ADD_MEMBERSHIP, (<span class="keyword">char</span>*)&amp;mreq, <span class="keyword">sizeof</span>(mreq)) &lt; <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br></pre></td></tr></table></figure></li><li><p>指定组播出口网卡</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">in_addr</span> <span class="title">addr</span>;</span></span><br><span class="line"><span class="built_in">memset</span>(&amp;addr, <span class="number">0</span>, <span class="keyword">sizeof</span>(struct in_addr));</span><br><span class="line"></span><br><span class="line">addr.s_addr=inet_addr(<span class="built_in">localIP</span>);</span><br><span class="line"><span class="keyword">if</span> (setsockopt(socket, IPPROTO_IP, IP_MULTICAST_IF, (<span class="keyword">char</span>*)&amp;addr, <span class="keyword">sizeof</span>(addr)) &lt; <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br></pre></td></tr></table></figure></li></ol><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li><p><a href="https://blog.csdn.net/wangzhen_csdn/article/details/76467811" target="_blank" rel="noopener">IP地址划分、组播地址、公有IP、私有IP</a></p></li><li><p><a href="https://blog.csdn.net/weixin_41482303/article/details/88132412" target="_blank" rel="noopener">组播基础</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cpp </tag>
            
            <tag> udp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WSL系统安装与使用</title>
      <link href="/post/wsl_system_install/"/>
      <url>/post/wsl_system_install/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>WSL是适用于 Linux 的 Windows 子系统，可让开发人员按原样运行 GNU/Linux 环境 - 包括大多数命令行工具、实用工具和应用程序 - 且不会产生传统虚拟机或双启动设置开销。</p><p><a href="https://docs.microsoft.com/zh-cn/windows/wsl/" target="_blank" rel="noopener">官方教程</a></p><a id="more"></a><h2 id="启用子系统"><a href="#启用子系统" class="headerlink" title="启用子系统"></a>启用子系统</h2><ul><li><p>控制面板 -&gt; 程序和功能 -&gt; 启用或关闭Windows功能 -&gt; 勾选 <code>适用于Linux的Windows子系统</code></p></li><li><p>控制面板 -&gt; 程序和功能 -&gt; 启用或关闭Windows功能 -&gt; 勾选 <code>虚拟机平台</code></p></li></ul><p><img src="https://s2.loli.net/2021/12/08/p3jtFmLgwvfnshu.png" alt="image-20211208114609489"></p><h2 id="安装Ubuntu"><a href="#安装Ubuntu" class="headerlink" title="安装Ubuntu"></a>安装Ubuntu</h2><ol><li><p>下载<a href="https://wsldownload.azureedge.net/Ubuntu_2004.2020.424.0_x64.appx" target="_blank" rel="noopener">Ubuntu20.04系统</a>，可以将系统下载到其他盘上</p></li><li><p>修改文件后缀名：<code>Ubuntu20.04.appx --&gt; Ubuntu.zip</code>，并解压</p></li><li><p>双击exe文件，输入用户名与密码即可</p><p><img src="https://s2.loli.net/2021/12/08/AUDceGguX1ZH7bs.png" alt="image-20211208114959128"></p></li><li><p>使用默认登录用户为root</p><ul><li>打开管理员模式下的cmd，输入<code>./ubuntu2004.exe config --default-user root</code></li><li>输入 <code>net stop lxssmanager</code>重启wsl即可</li></ul></li></ol><h2 id="WSL配置与使用"><a href="#WSL配置与使用" class="headerlink" title="WSL配置与使用"></a>WSL配置与使用</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">更新</span></span><br><span class="line">wsl --update</span><br><span class="line"><span class="meta">#</span><span class="bash">查询已安装的子系统</span></span><br><span class="line">wsl -l -v</span><br><span class="line"><span class="meta">#</span><span class="bash">设置默认系统为wsl2</span></span><br><span class="line">wsl --set-default-version 2</span><br><span class="line"><span class="meta">#</span><span class="bash">将已安装的子系统升级到wsl2</span></span><br><span class="line">wsl --set-version Ubuntu 2</span><br><span class="line"><span class="meta">#</span><span class="bash">删除子系统</span></span><br><span class="line">wslconfig /unregister xxx</span><br></pre></td></tr></table></figure><ul><li>WSL2需要保证Winows版本不低于<code>19041</code></li><li>windwos下访问子系统目录，在文件夹路径栏上输入：<code>\\wsl$</code></li><li>WSL1和WSL2的区别</li></ul><p><img src="https://s2.loli.net/2021/12/09/QNCXqZuv8siFmRV.png" alt="image-20211209090047432"></p><ul><li>WSL2与VMware和VirtualBox的共存：需要VMware15.5.5+，VirtualBox 6+才能打开</li></ul><h2 id="32位交叉编译环境配置"><a href="#32位交叉编译环境配置" class="headerlink" title="32位交叉编译环境配置"></a>32位交叉编译环境配置</h2><ul><li>只支持WSL2版本</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo dpkg --add-architecture i386</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install libc6:i386 libncurses5:i386 libstdc++6:i386 zlib1g:i386 -y</span><br><span class="line">sudo apt-get install g++ -y</span><br></pre></td></tr></table></figure><h2 id="运行图形界面"><a href="#运行图形界面" class="headerlink" title="运行图形界面"></a>运行图形界面</h2><h3 id="window内核版本为21"><a href="#window内核版本为21" class="headerlink" title="window内核版本为21+"></a>window内核版本为21+</h3><p>先在windows更新WSL：<code>wsl --update</code>， 再在linux安装界面程序：<code>apt-get install gedit</code>，win10 21+系统内置了WSLG（GUI）功能，可以在Window菜单发现多了一个Ubuntu目录，其中显示了已经安装的界面程序，直接点击即可运行：</p><p><img src="https://s2.loli.net/2021/12/16/cmMN4Rrv3qiQ2y5.png" alt="image-20211216103137449"></p><h3 id="内核版本不支持"><a href="#内核版本不支持" class="headerlink" title="内核版本不支持"></a>内核版本不支持</h3><ol><li><p>安装<a href="https://sourceforge.net/projects/vcxsrv/" target="_blank" rel="noopener">VcXsrv Windows X Server download | SourceForge.net</a></p></li><li><p>打开并配置VcXsrv</p><p><img src="https://s2.loli.net/2021/12/16/YxVTGItse5mULNA.png" alt="image-20211216103507780"></p><p><img src="https://s2.loli.net/2021/12/16/DyLqijtZauOf2C7.png" alt="image-20211216103527258"></p><p><img src="https://s2.loli.net/2021/12/16/wZUgAy9H452sRbo.png" alt="image-20211216103540971"></p><ol start="3"><li><p>linux设置显示的服务端</p><ul><li>打开bashrc文件：<code>vi ~/.bashrc</code></li><li>在文件最后添加两行并保存：</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">下面的IP地址为window的ip</span></span><br><span class="line">export DISPLAY=192.168.0.218:0</span><br><span class="line">export LIBGL_ALWAYS_INDIRECT=1</span><br></pre></td></tr></table></figure><ul><li><p>刷新配置：<code>source .bashrc</code></p></li><li><p>测试界面软件：<code>gedit test.ini</code></p></li></ul></li></ol></li></ol>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qt配置与常见问题</title>
      <link href="/post/qt_note/"/>
      <url>/post/qt_note/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>Qt是一个1991年由Qt Company开发的跨平台C++图形用户界面应用程序开发框架。它既可以开发GUI程序，也可用于开发非GUI程序，比如控制台工具和服务器。Qt是面向对象的框架，使用特殊的代码生成扩展（称为元对象编译器(Meta Object Compiler, moc)）以及一些宏，Qt很容易扩展，并且允许真正地组件编程。</p></blockquote><a id="more"></a><h2 id="QT配置"><a href="#QT配置" class="headerlink" title="QT配置"></a>QT配置</h2><h3 id="设置代码片段"><a href="#设置代码片段" class="headerlink" title="设置代码片段"></a>设置代码片段</h3><p>配置路径：<code>工具-&gt;选项-&gt;文本编辑器-&gt;片段</code> </p><ul><li><p>文件头说明</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * @brief $$</span><br><span class="line"> * @author yaronhuang@foxmail.com</span><br><span class="line"> * @date %&#123;CurrentDate:yyyy/MM/dd&#125;</span><br><span class="line"> * @note </span><br><span class="line"> */</span><br></pre></td></tr></table></figure></li><li><p>函数注释</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * @brief $$</span><br><span class="line"> * @param string</span><br><span class="line"> * @return void</span><br><span class="line"> */</span><br></pre></td></tr></table></figure></li></ul><h3 id="多个pro项目管理"><a href="#多个pro项目管理" class="headerlink" title="多个pro项目管理"></a>多个pro项目管理</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">TEMPLATE = subdirs</span><br><span class="line">CONFIG += ordered  #顺序编译</span><br><span class="line">SUBDIRS += pro0\</span><br><span class="line">pro1\</span><br><span class="line">app</span><br></pre></td></tr></table></figure><h3 id="库编译与引用"><a href="#库编译与引用" class="headerlink" title="库编译与引用"></a>库编译与引用</h3><p>库分为动态库和静态库，通过文件名后缀可以知道库的类型：<code>so、dll(动态库)</code>;<code>a、lib(静态库)</code>。</p><p>在windows平台下使用QT编译，库的后缀为dll和a。</p><h4 id="编译库"><a href="#编译库" class="headerlink" title="编译库"></a>编译库</h4><ol><li><p>静态库配置：</p><p>在pro文件中加入以下语句即可：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">TEMPLATE = lib      #生成库</span><br><span class="line">CONFIG += staticlib #类型为静态库</span><br></pre></td></tr></table></figure></li><li><p>动态库配置：</p><p>在pro文件中加入以下语句：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">TEMPLATE = lib      #生成库</span><br><span class="line">DEFINES += BIL_EXPORT</span><br></pre></td></tr></table></figure><p>提供给外部使用的类需要增加导出前缀：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QtCore/qglobal.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> BIL_EXPORT</span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> LUIP_SHARE Q_DECL_EXPORT</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> LUIP_SHARE Q_DECL_IMPORT</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LUIP_SHARE</span> <span class="title">SumObj</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    SumObj();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">run</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>生成的动态库目录下会出现dll和a文件，其中a文件是没用的，它并不能用于静态库，因为它是不完整的，可以看出a文件的体积也很小。</p></li></ol><h4 id="引用库"><a href="#引用库" class="headerlink" title="引用库"></a>引用库</h4><p>正常的库名格式为<code>libxxxx.a</code>指定时只需要xxxx即可，如<code>libtest.a</code>,则为 <code>-ltest</code>。</p><p>同时有动态库和静态库，那么优先链接<code>.so</code>，如果想要强制使用静态库，那么写成<code>-static -lxxxx</code>即可。不过QT编译器好像也会通过类名是否添加导入关键字<code>Q_DECL_IMPORT</code>来确定是链接动态库还是静态库。</p><p>在pro文件中加入以下语句：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LIBS   += -L$$PWD/../bin/ -ltest #引用bin目录下的test库</span><br></pre></td></tr></table></figure><h2 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h2><h3 id="调用SetObjectName无效"><a href="#调用SetObjectName无效" class="headerlink" title="调用SetObjectName无效"></a>调用<code>SetObjectName</code>无效</h3><p>自定义界面时，界面类继承QWidget，然后调用<code>setObjectName()</code>设置样式，但并没有起作用，解决方法如下：</p><ul><li><p>方法1：设置<code>WA_StyledBackground</code>属性<code>this-&gt;setAttribute(Qt::WA_StyledBackground);</code></p></li><li><p>方法2：将<code>QWidget</code>改成<code>QFrame</code></p></li><li><p>方法3：重写<code>paintEvent</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ClassName::paintEvent</span><span class="params">(QPaintEvent *)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  QStyleOption opt;</span><br><span class="line">  opt.init(<span class="keyword">this</span>);</span><br><span class="line">  <span class="function">QPainter <span class="title">p</span><span class="params">(<span class="keyword">this</span>)</span></span>;</span><br><span class="line">  style()-&gt;drawPrimitive(QStyle::PE_Widget, &amp;opt, &amp;p, <span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="编译异常multiple-definition-of-qMain-int-char"><a href="#编译异常multiple-definition-of-qMain-int-char" class="headerlink" title="编译异常multiple definition of qMain(int, char**)"></a>编译异常<code>multiple definition of qMain(int, char**)</code></h3><p>一般是重复定义main函数了，可以全局搜索<code>main()</code>，或者检查pro文件中是否有重复添加的cpp和h，有时给工程中乱添加文件时会导致这种情况。</p>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python笔记</title>
      <link href="/post/python_note/"/>
      <url>/post/python_note/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h2><ol><li>判断类型</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#使用isinstance或type判断变量类型</span></span><br><span class="line"><span class="comment">#isinstance可判断父类，type不支持判断父类</span></span><br><span class="line">test = A()</span><br><span class="line">check = isinstance(test, A) <span class="comment">#True</span></span><br><span class="line">check = (type(test) == A)   <span class="comment">#True</span></span><br></pre></td></tr></table></figure><ol start="2"><li>运算</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#数值的除法包含两个运算符：/ 返回一个浮点数，// 返回一个整数。</span></span><br><span class="line">a = <span class="number">10</span></span><br><span class="line">b = <span class="number">6</span></span><br><span class="line">c = a / b<span class="comment">#1.66</span></span><br><span class="line">d = a // b<span class="comment">#1</span></span><br><span class="line">e = a % b<span class="comment">#求余 4</span></span><br><span class="line">f = <span class="number">2</span> ** <span class="number">3</span>  <span class="comment">#乘方 8</span></span><br></pre></td></tr></table></figure><a id="more"></a><ol start="3"><li>取反</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a &#x3D; False</span><br><span class="line">b &#x3D; bool(1 - a)</span><br></pre></td></tr></table></figure><h2 id="Lambda"><a href="#Lambda" class="headerlink" title="Lambda"></a>Lambda</h2><p>Lambda匿名函数的格式为：<code>lambda 参数:表达式</code></p><ul><li>参数可以多个，中间以逗号隔开</li><li>表达式只有一个，省略return</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span><span class="params">(x, y)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> x + y</span><br><span class="line"><span class="comment">#使用lambda的形式为</span></span><br><span class="line">sum = <span class="keyword">lambda</span> x,y:x+y</span><br></pre></td></tr></table></figure><p>Lambda经常与map函数同时使用，用于处理列表数据：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#计算数组内元素平方，[1,9,36]</span></span><br><span class="line">list(map(<span class="keyword">lambda</span> x:x**<span class="number">2</span>, [<span class="number">1</span>,<span class="number">3</span>,<span class="number">6</span>]))</span><br><span class="line"><span class="comment">#计算两组数组内元素之和，[3,7,11,15,19]</span></span><br><span class="line">list(map(<span class="keyword">lambda</span> x, y: x + y, [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>], [<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>]))</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQLite笔记</title>
      <link href="/post/sqlite_note/"/>
      <url>/post/sqlite_note/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><code>SQLite</code> 是一款轻型的数据库，在嵌入式设备中应用十分广泛，它支持<code>Windows/Linux/Unix</code>等等主流的操作系统，其源代码不受版权限制。</p><p>优点：</p><ul><li>不需要安装与配置，以文件的形式作为数据库</li><li>轻量、小型，对嵌入式设备十分友好</li><li>事务是完全兼容 ACID 的，允许从多个进程或线程安全访问</li><li>支持 SQL92（SQL2）标准的大多数查询语言的功能</li></ul><p><code>SQLite</code>的命令包括：</p><table><thead><tr><th>分类</th><th>命令</th><th>描述</th></tr></thead><tbody><tr><td>表操作</td><td>CREATE</td><td>创建表</td></tr><tr><td>表操作</td><td>ALTER</td><td>修改表</td></tr><tr><td>表操作</td><td>DROP</td><td>删除表</td></tr><tr><td>记录操作</td><td>INSERT</td><td>插入记录</td></tr><tr><td>记录操作</td><td>UPDATE</td><td>修改更新表记录</td></tr><tr><td>记录操作</td><td>DELETE</td><td>删除记录</td></tr><tr><td>检索</td><td>SELECT</td><td>查询记录</td></tr></tbody></table><a id="more"></a><h2 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h2><h3 id="表操作"><a href="#表操作" class="headerlink" title="表操作"></a>表操作</h3><h4 id="创建和删除表"><a href="#创建和删除表" class="headerlink" title="创建和删除表"></a>创建和删除表</h4><p>创建格式：<code>CREATE TABLE IF NOT EXISTS 表名 (列名 类型)</code><br>删除格式：<code>DROP 表名</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE IF NOT EXISTS &quot;student&quot; (</span><br><span class="line">    id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,</span><br><span class="line">    name VARCHAR(30) NOT NULL,</span><br><span class="line">    age FLOAT);</span><br></pre></td></tr></table></figure><h4 id="更新sqlite-sequence"><a href="#更新sqlite-sequence" class="headerlink" title="更新sqlite_sequence"></a>更新sqlite_sequence</h4><p>由于在Sqlite中使用自增长字段，引擎会自动产生一个<code>sqlite_sequence</code>表，用于记录每个表的自增长字段的已使用的最大值，所以要一起更新下。如果有没有设置自增长，则跳过此步骤。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE &quot;sqlite_sequence&quot; SET seq &#x3D; 3 WHERE name &#x3D; &#39;Student&#39;;</span><br></pre></td></tr></table></figure><h4 id="修改表名称"><a href="#修改表名称" class="headerlink" title="修改表名称"></a>修改表名称</h4><p>格式：<code>ALTER TABLE 旧表名 RENAME TO 新表名</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE or_sql_table RENAME TO new_table;</span><br></pre></td></tr></table></figure><h4 id="增加表字段"><a href="#增加表字段" class="headerlink" title="增加表字段"></a>增加表字段</h4><p>格式：<code>ALTER TABLE 表名 ADD COLUMN 列名 数据类型</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE new_table ADD COLUMN sex Text;</span><br></pre></td></tr></table></figure><h4 id="查询表结构"><a href="#查询表结构" class="headerlink" title="查询表结构"></a>查询表结构</h4><p>格式：<code>RAGMA TABLE_INFO (表名)</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PRAGMA TABLE_INFO (new_table);</span><br></pre></td></tr></table></figure><h3 id="记录操作"><a href="#记录操作" class="headerlink" title="记录操作"></a>记录操作</h3><h4 id="插入和删除记录"><a href="#插入和删除记录" class="headerlink" title="插入和删除记录"></a>插入和删除记录</h4><p>插入格式：<code>INSERT INTO 表名 (列名1,列名2,...) VALUES (值1,值2,...)</code></p><p>删除格式：<code>DELETE FROM 表名</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO sutdent (name,age) VALUES (&#39;xiaoming&#39;,18);</span><br><span class="line">DELETE FROM student WHERE name &#x3D; &#39;xiaoming&#39;;</span><br></pre></td></tr></table></figure><h4 id="更新记录"><a href="#更新记录" class="headerlink" title="更新记录"></a>更新记录</h4><p>格式：<code>UPDATE 表名 SET 列名 = 列值 WHERE 条件</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE student SET age &#x3D; 18 WHERE name &#x3D; &#39;xiaoming&#39;;</span><br></pre></td></tr></table></figure><h2 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h2><h3 id="LIKE与GLOB搜索"><a href="#LIKE与GLOB搜索" class="headerlink" title="LIKE与GLOB搜索"></a>LIKE与GLOB搜索</h3><p>格式：<code>SELECT 列名 FROM 表名 WHERE 列名 LIKE &quot;XXX&quot;</code>或<code>SELECT 列名 FROM 表名 WHERE 列名 GLOB &quot;XXX&quot;</code></p><ul><li><p>LIKE关键字通配符包括：<code>%：表示有N个字符</code>和 <code>_：表示有1个字符</code>，不区分大小写</p></li><li><p>GLOB关键字通配符包括：<code>*：表示有N个字符</code>和 <code>?：表示有1个字符</code>，区分大小写</p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM student WHERE name LINK  &#39;%ming&#39;</span><br><span class="line">SELECT * FROM student WHERE name LINK  &#39;%min_&#39;</span><br></pre></td></tr></table></figure><h3 id="LIMIT和OFFSET翻页"><a href="#LIMIT和OFFSET翻页" class="headerlink" title="LIMIT和OFFSET翻页"></a>LIMIT和OFFSET翻页</h3><p>格式：<code>SELECT 列名 FROM 表名 LIMIT 数量 OFFSET 偏移;</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 显示1到4的行</span><br><span class="line">SELECT * FROM student LIMIT 3 OFFSET 1</span><br></pre></td></tr></table></figure><h3 id="分组与排序"><a href="#分组与排序" class="headerlink" title="分组与排序"></a>分组与排序</h3><p>分组格式：<code>SELECT 列名 FROM 表名 WHERE 条件 GROUP BY 列名</code></p><p>排序格式：<code>SELECT 列名 FROM 表名 WHERE 条件 ORDER BY 列名 关键字;</code></p><p>关键字包括：</p><ul><li><code>ASC</code>：升序</li><li><code>DESC</code>：降序</li></ul><h3 id="唯一值"><a href="#唯一值" class="headerlink" title="唯一值"></a>唯一值</h3><p>格式：<code>SELECT DISTINCT 列名 FROM 表名</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-- 查询所有学生名</span><br><span class="line">SELECT DISTINCT name FROM student</span><br></pre></td></tr></table></figure><h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><ol><li><p>计数<code>COUNT</code></p></li><li><p>最大最小值<code>MAX\MIN</code></p></li><li><p>平均值<code>AVG</code></p></li><li><p>和<code>SUM</code></p></li><li><p>绝对值<code>ABS</code></p></li><li><p>获取字符串长度<code>LENGTH</code></p></li><li><p>转换大小写<code>UPPER\LOWER</code></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> sqlite </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python字符串</title>
      <link href="/post/python_string/"/>
      <url>/post/python_string/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h2><p>字符串的索引是只读，不能修改，从左到右的索引以<code>0</code>开始，从右到左的索引以<code>-1</code>开始（因为<code>-0=0</code>程序无法识别左右）</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">test = <span class="string">'name'</span></span><br><span class="line">c1 = test[<span class="number">0</span>]  <span class="comment">#n</span></span><br><span class="line">c2 = test[<span class="number">-1</span>] <span class="comment">#e</span></span><br><span class="line">c3 = test[<span class="number">-2</span>] <span class="comment">#m</span></span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="截取"><a href="#截取" class="headerlink" title="截取"></a>截取</h2><p>从字符串中获取子串，类似<code>substring</code>之类的功能，也是以索引来获取。</p><p>格式为：<code>字符串[头下标，尾下标]</code>，采用前闭后开的规则，表示截取到<code>尾下标</code>前一个字符，示例如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">test = <span class="string">'name'</span></span><br><span class="line">c1 = test[<span class="number">0</span>:<span class="number">-1</span>] <span class="comment">#nam</span></span><br><span class="line">c2 = test[<span class="number">0</span>:<span class="number">3</span>]  <span class="comment">#nam</span></span><br><span class="line">c3 = test[<span class="number">0</span>:]   <span class="comment">#name</span></span><br><span class="line">c4 = test[:<span class="number">3</span>]   <span class="comment">#nam</span></span><br></pre></td></tr></table></figure><h2 id="忽略转义字符"><a href="#忽略转义字符" class="headerlink" title="忽略转义字符"></a>忽略转义字符</h2><p>此用法最适合对<code>windows</code>的路径做处理，路径格式一般为<code>C:\user\file.txt</code>，在代码中需要对转义字符<code>\</code>做处理，操作起来比较繁琐。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#反斜杠可以用来转义，使用r可以让反斜杠不发生转义</span></span><br><span class="line">path = <span class="string">"C:\\user\\file.txt"</span></span><br><span class="line">path2 = <span class="string">r"C:\user\file.txt"</span></span><br><span class="line">test = <span class="string">r"this is a line with \n"</span></span><br></pre></td></tr></table></figure><h2 id="字符串拼接"><a href="#字符串拼接" class="headerlink" title="字符串拼接"></a>字符串拼接</h2><p>python提供多种拼接方式，常见如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#最终组成this is my name</span></span><br><span class="line">s1 = <span class="string">'my'</span></span><br><span class="line">s2 = <span class="string">'name'</span></span><br><span class="line"><span class="comment">#普通拼接</span></span><br><span class="line">s3 = <span class="string">"this is "</span> + s1 + <span class="string">" "</span> + s2</span><br><span class="line"><span class="comment">#format</span></span><br><span class="line">s3 = <span class="string">'this is &#123;&#125; &#123;&#125;'</span>.format(s1, s2)</span><br><span class="line">s3 = <span class="string">'this is &#123;1&#125; &#123;0&#125;'</span>.format(s2, s1)</span><br><span class="line"><span class="comment">#f关键字</span></span><br><span class="line">s3 = <span class="string">f'this is <span class="subst">&#123;s1&#125;</span> <span class="subst">&#123;s2&#125;</span>'</span></span><br></pre></td></tr></table></figure><h2 id="打印"><a href="#打印" class="headerlink" title="打印"></a>打印</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">test = <span class="string">'name'</span></span><br><span class="line">print(test)</span><br><span class="line">print(test, end=<span class="string">''</span>)<span class="comment">#不换行</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++Lambda表达式</title>
      <link href="/post/cpp_lambda/"/>
      <url>/post/cpp_lambda/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>C++ 11 中的 Lambda 表达式用于定义并创建匿名的函数对象，以简化编程工作。<code>Lambda</code> 的语法形式如下：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[捕获列表] (参数) <span class="keyword">mutable</span> 或 exception 声明 -&gt; 返回值类型 &#123;函数体&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//计算两个值的和</span></span><br><span class="line"><span class="keyword">auto</span> func = [](<span class="keyword">int</span> a, <span class="keyword">int</span> b) -&gt; <span class="keyword">int</span>&#123;<span class="keyword">return</span> a+b;&#125;;</span><br><span class="line"><span class="comment">//当返回值的类型是确定时，可以忽略返回值</span></span><br><span class="line"><span class="keyword">auto</span> func = [](<span class="keyword">int</span> a, <span class="keyword">int</span> b)&#123;<span class="keyword">return</span> a + b;&#125;;</span><br><span class="line"><span class="comment">//调用</span></span><br><span class="line"><span class="keyword">int</span> sum = func(<span class="number">1</span>, <span class="number">3</span>);</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="语法分析"><a href="#语法分析" class="headerlink" title="语法分析"></a>语法分析</h2><h3 id="捕获列表"><a href="#捕获列表" class="headerlink" title="捕获列表"></a>捕获列表</h3><p>Lambda 表达式相当于一个类，那么捕获列表就是传递给这个类的类成员。比如：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Labmda</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> test;</span><br><span class="line">    Labmda(<span class="keyword">int</span> value):test(value)</span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">run</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a + b + test;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> test = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">auto</span> func = Labmda(test);</span><br><span class="line">    <span class="keyword">int</span> sum = func.<span class="built_in">run</span>(<span class="number">1</span>, <span class="number">3</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用Lambda 表达式的写法</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> test = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">auto</span> func = [test](<span class="keyword">int</span> a, <span class="keyword">int</span> b)&#123;<span class="keyword">return</span> a + b + test;&#125;;</span><br><span class="line">    <span class="keyword">int</span> sum = func(<span class="number">1</span>, <span class="number">3</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>捕获列表有以下格式：</p><table><thead><tr><th>格式</th><th>描述</th></tr></thead><tbody><tr><td>[]</td><td>不带任何参数</td></tr><tr><td>[=]</td><td>Lambda表达式之前的局部变量，包括所在类的this，变量按值方式传递</td></tr><tr><td>[&amp;]</td><td>Lambda表达式之前的局部变量，包括所在类的this，变量按引用方式传递</td></tr><tr><td>[this]</td><td>Lambda表达式所在类的this</td></tr><tr><td>[a]</td><td>Lambda表达式之前的局部变量a的值，也可以传入多个值，如<code>[a , b]</code></td></tr><tr><td>[&amp;a]</td><td>Lambda表达式之前的局部变量a的引用</td></tr></tbody></table><h3 id="关键字声明"><a href="#关键字声明" class="headerlink" title="关键字声明"></a>关键字声明</h3><p>关键字声明一般都很少用到，也不建议随便使用，可以忽略不计。</p><h4 id="mutable"><a href="#mutable" class="headerlink" title="mutable"></a><code>mutable</code></h4><p>当捕获列表以值的方式传递时有效，加上此关键字后，可以修改Lambda类成员（带const修饰符）。比如：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> test = <span class="number">10</span>;</span><br><span class="line"><span class="comment">//编译报错，test成员不能修改</span></span><br><span class="line"><span class="keyword">auto</span> func = [test](<span class="keyword">int</span> a, <span class="keyword">int</span> b)&#123;test = <span class="number">8</span>; <span class="keyword">return</span> a + b + test;&#125;; </span><br><span class="line"><span class="comment">//编译正常</span></span><br><span class="line"><span class="keyword">auto</span> func = [test](<span class="keyword">int</span> a, <span class="keyword">int</span> b)<span class="keyword">mutable</span> &#123;test = <span class="number">8</span>; <span class="keyword">return</span> a + b + test;&#125;;</span><br></pre></td></tr></table></figure><p>这里需要注意的是：Lambda类成员<code>test</code>修改之后，并不会改变外部<code>int test</code>的值。</p><h4 id="exception"><a href="#exception" class="headerlink" title="exception"></a><code>exception</code></h4><p>exception 声明用于指定函数抛出的异常，如抛出整数类型的异常，可以使用 throw(int)</p><h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><h3 id="捕获列表按值传递"><a href="#捕获列表按值传递" class="headerlink" title="捕获列表按值传递"></a>捕获列表按值传递</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> test = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">auto</span> func = [=](<span class="keyword">int</span> a, <span class="keyword">int</span> b)&#123;<span class="keyword">return</span> a + b + test;&#125;;</span><br><span class="line"><span class="keyword">auto</span> func2 = [test](<span class="keyword">int</span> a, <span class="keyword">int</span> b)&#123;<span class="keyword">return</span> a + b + test;&#125;;</span><br><span class="line"><span class="keyword">int</span> sum = func(<span class="number">1</span>, <span class="number">3</span>); <span class="comment">//sum等于14</span></span><br></pre></td></tr></table></figure><p>这里需要注意的是<code>func</code>表达式中<code>test</code>的值只更新到表达式之前：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> test = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">auto</span> func = [=](<span class="keyword">int</span> a, <span class="keyword">int</span> b)&#123;<span class="keyword">return</span> a + b + test;&#125;;</span><br><span class="line">test = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> sum = func(<span class="number">1</span>, <span class="number">3</span>); <span class="comment">//sum还是等于14</span></span><br></pre></td></tr></table></figure><h3 id="捕获列表按引用传递"><a href="#捕获列表按引用传递" class="headerlink" title="捕获列表按引用传递"></a>捕获列表按引用传递</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> test = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">auto</span> func = [&amp;](<span class="keyword">int</span> a, <span class="keyword">int</span> b)&#123;test = <span class="number">5</span>; <span class="keyword">return</span> a + b + test;&#125;;</span><br><span class="line"><span class="keyword">auto</span> func2 = [&amp;test](<span class="keyword">int</span> a, <span class="keyword">int</span> b)&#123;test = <span class="number">5</span>; <span class="keyword">return</span> a + b + test;&#125;;</span><br><span class="line"><span class="keyword">int</span> sum = func(<span class="number">1</span>, <span class="number">3</span>); <span class="comment">//sum等于9，test等于5</span></span><br></pre></td></tr></table></figure><p>这里<code>func</code>表达式中<code>test</code>的值就能随时更新：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> test = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">auto</span> func = [&amp;](<span class="keyword">int</span> a, <span class="keyword">int</span> b)&#123;<span class="keyword">return</span> a + b + test;&#125;;</span><br><span class="line">test = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> sum = func(<span class="number">1</span>, <span class="number">3</span>); <span class="comment">//sum等于9，test等于5</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cpp </tag>
            
            <tag> lambda </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux常用命令</title>
      <link href="/post/linux_cmd/"/>
      <url>/post/linux_cmd/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="目录与文件"><a href="#目录与文件" class="headerlink" title="目录与文件"></a>目录与文件</h2><ol><li>创建目录：<code>mkdir xxx</code></li><li>删除目录：<code>rm -rf xxx</code></li><li>切换目录：<code>cd xxx</code>，返回：<code>cd -</code></li><li>复制目录：<code>cp ./test ./test3 -r -p</code>，<code>-r</code>表示递归，<code>-p</code>表示保留文件属性</li><li>创建文件：<code>touch xxx.txt</code></li><li>复制文件：<code>cp xxx.txt newxxx.txt</code></li><li>查看文件：<code>cat xxx.txt</code>，最后5行：<code>cat xxx.txt | tail -n 5</code></li><li>显示列表：<code>ls -lh</code></li><li>连接文件夹：<code>ln -s 源文件夹 目标文件夹</code></li></ol><a id="more"></a><h2 id="压缩解压"><a href="#压缩解压" class="headerlink" title="压缩解压"></a>压缩解压</h2><ol><li>zip加密：<code>zip -r xxx.zip ./* -P &quot;123&quot;</code>，解密：<code>unzip -P &quot;123&quot; xxx.zip</code></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">-A 调整可执行的自动解压缩文件。</span><br><span class="line">-b&lt;工作目录&gt; 指定暂时存放文件的目录。</span><br><span class="line">-c 替每个被压缩的文件加上注释。</span><br><span class="line">-d 从压缩文件内删除指定的文件。</span><br><span class="line">-D 压缩文件内不建立目录名称。</span><br><span class="line">-f 更新现有的文件。</span><br><span class="line">-F 尝试修复已损坏的压缩文件。</span><br><span class="line">-g 将文件压缩后附加在既有的压缩文件之后，而非另行建立新的压缩文件。</span><br><span class="line">-h 在线帮助。</span><br><span class="line">-i&lt;范本样式&gt; 只压缩符合条件的文件。</span><br><span class="line">-j 只保存文件名称及其内容，而不存放任何目录名称。</span><br><span class="line">-J 删除压缩文件前面不必要的数据。</span><br><span class="line">-k 使用MS-DOS兼容格式的文件名称。</span><br><span class="line">-l 压缩文件时，把LF字符置换成LF+CR字符。</span><br><span class="line">-ll 压缩文件时，把LF+CR字符置换成LF字符。</span><br><span class="line">-L 显示版权信息。</span><br><span class="line">-m 将文件压缩并加入压缩文件后，删除原始文件，即把文件移到压缩文件中。</span><br><span class="line">-n&lt;字尾字符串&gt; 不压缩具有特定字尾字符串的文件。</span><br><span class="line">-o 以压缩文件内拥有最新更改时间的文件为准，将压缩文件的更改时间设成和该文件相同。</span><br><span class="line">-q 不显示指令执行过程。</span><br><span class="line">-r 递归处理，将指定目录下的所有文件和子目录一并处理。</span><br><span class="line">-S 包含系统和隐藏文件。</span><br><span class="line">-t&lt;日期时间&gt; 把压缩文件的日期设成指定的日期。</span><br><span class="line">-T 检查备份文件内的每个文件是否正确无误。</span><br><span class="line">-u 与 -f 参数类似，但是除了更新现有的文件外，也会将压缩文件中的其他文件解压缩到目录中。</span><br><span class="line">-v 显示指令执行过程或显示版本信息。</span><br><span class="line">-V 保存VMS操作系统的文件属性。</span><br><span class="line">-w 在文件名称里假如版本编号，本参数仅在VMS操作系统下有效。</span><br><span class="line">-x&lt;范本样式&gt; 压缩时排除符合条件的文件。</span><br><span class="line">-X 不保存额外的文件属性。</span><br><span class="line">-y 直接保存符号连接，而非该连接所指向的文件，本参数仅在UNIX之类的系统下有效。</span><br><span class="line">-z 替压缩文件加上注释。</span><br><span class="line"><span class="meta">-$</span><span class="bash"> 保存第一个被压缩文件所在磁盘的卷册名称。</span></span><br><span class="line">-&lt;压缩效率&gt; 压缩效率是一个介于1-9的数值。</span><br></pre></td></tr></table></figure><ol start="2"><li>tar压缩：<code>tar -zcvf xxx.tar.gz ./*</code>，tar解压：<code>tar -zxvf xxx.tar.gz -C /opt</code></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">c:  创建文档</span><br><span class="line">t： 列出存档内容</span><br><span class="line">x： 提取存档</span><br><span class="line">f： filename 要操作的文档名</span><br><span class="line">v： 详细信息</span><br></pre></td></tr></table></figure><h2 id="过滤、管道与重定向"><a href="#过滤、管道与重定向" class="headerlink" title="过滤、管道与重定向"></a>过滤、管道与重定向</h2><ol><li>文件内容查找</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">过滤出文件 /etc/passwd 中包含 `root` 的记录</span></span><br><span class="line">grep 'root' /etc/passwd</span><br><span class="line"><span class="meta">#</span><span class="bash">过滤出目录 /var/<span class="built_in">log</span>/ 目录中包含linux的记录(递归查找)</span></span><br><span class="line">grep -r 'linux' /var/log/</span><br></pre></td></tr></table></figure><ol start="2"><li>输出过滤</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">打印/etc/passwd 文件中包含 `root` 的记录</span></span><br><span class="line">cat /etc/passwd \| grep 'root'</span><br></pre></td></tr></table></figure><ol start="3"><li>输出重定向</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">输出重定向到一个文件中</span></span><br><span class="line">echo 'Hello World' &gt; test.txt</span><br></pre></td></tr></table></figure><h2 id="运维命令"><a href="#运维命令" class="headerlink" title="运维命令"></a>运维命令</h2><ol><li>测试网络</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">发送 4 个 ping 包, 检查与其是否联通</span></span><br><span class="line">ping -c 4 cloud.tencent.com</span><br></pre></td></tr></table></figure><ol start="2"><li>端口查询</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">列出所有处于监听状态的tcp端口</span></span><br><span class="line">netstat -lt</span><br><span class="line"><span class="meta">#</span><span class="bash">查看所有的端口信息, 包括 PID 和进程名称</span></span><br><span class="line">netstat -tulpn</span><br><span class="line"><span class="meta">#</span><span class="bash">查看系统位数</span></span><br><span class="line">getconf LONG_BIT</span><br></pre></td></tr></table></figure><ol start="3"><li>进程操作</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">查询运行的进程</span></span><br><span class="line">ps -elf</span><br><span class="line"><span class="meta">#</span><span class="bash">过滤查询进程</span></span><br><span class="line"><span class="meta">#</span><span class="bash">a不与terminal有关的所有进程; u有效用户进程; x完整的信息</span></span><br><span class="line">ps aux | grep 'ssh'</span><br><span class="line"><span class="meta">#</span><span class="bash">动态显示运行的进程（动态表格）</span></span><br><span class="line">top</span><br><span class="line"><span class="meta">#</span><span class="bash">杀进程</span></span><br><span class="line">killall -9 xxxx</span><br></pre></td></tr></table></figure><ol start="4"><li>NFS挂载</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">挂载目录d:\demo到/mnt/cp下(cp目录需要先创建)</span></span><br><span class="line">mount -t nfs -o nolock 10.13.150.244:/d/demo /mnt/cp</span><br><span class="line"><span class="meta">#</span><span class="bash">卸载目录</span></span><br><span class="line">mount -v /mnt/cp</span><br></pre></td></tr></table></figure><h2 id="日期时间"><a href="#日期时间" class="headerlink" title="日期时间"></a>日期时间</h2><p>获取系统时间：<code>date</code>，输入格式：<code>Tue Sep 14 11:05:51 CST 2021</code></p><p>其中CST表示上海时区，如果是UTC，则表示伦敦时区。如果想设置系统时区位东八区（北京时间），则运行以下命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">当前UTC时间减8小时</span></span><br><span class="line">cstTimeStr=$(date '+%Y-%m-%d %H:%M:%S' -d@$(($(date +%s)-60*60*8)))</span><br><span class="line">date -s "$cstTimeStr"</span><br><span class="line"><span class="meta">#</span><span class="bash">拷贝时区文件</span></span><br><span class="line">cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br></pre></td></tr></table></figure><p>date命令用法：%Y表示年，%m表示月，%d表示日，%H表示小时，%M表示分钟，%S表示秒，%s表示从 1970 年 1 月 1 日 00:00:00 UTC 到目前为止的秒数。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">显示时间</span></span><br><span class="line">date "+cur time: %Y-%m-%d %H:%M:%S"</span><br><span class="line"><span class="meta">#</span><span class="bash">显示计算之后的时间</span></span><br><span class="line">date "+cur time: %Y-%m-%d %H:%M:%S" -d "-3 hour"</span><br><span class="line"><span class="meta">#</span><span class="bash">时间戳</span></span><br><span class="line">date +%s</span><br><span class="line"><span class="meta">#</span><span class="bash">设置时间</span></span><br><span class="line">date -s "2050-09-01 01:05:30"</span><br></pre></td></tr></table></figure><h2 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h2><p>查找命令：<code>find [path] [option] [action]</code></p><p>通过文件时间进行查找：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">查找目录下今天修改的文件</span></span><br><span class="line">find ./ -mtime 0</span><br><span class="line"><span class="meta">#</span><span class="bash">查找目录下昨天修改的文件</span></span><br><span class="line">find ./ -mtion 1</span><br></pre></td></tr></table></figure><p>通过文件名与大小进行查找：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">查找文件名</span></span><br><span class="line">find ./ -name 'config.ini'</span><br><span class="line"><span class="meta">#</span><span class="bash">查找大于10k的文件</span></span><br><span class="line">find ./ -size +10k</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qt-Qss笔记</title>
      <link href="/post/qt_qss/"/>
      <url>/post/qt_qss/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>QT使用QSS<code>（Qt Style Sheet）</code>来设置控件样式并进行个性化定制和界面美化。QSS的语法和CSS十分类似，都是使用选择器来配置控件属性。</p><p>QT导入QSS样式文件的方式也十分简单，只需要调用<code>setStyleSheet</code>进行设置：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QApplication <span class="title">app</span><span class="params">(argc, argv)</span></span>;</span><br><span class="line"><span class="function">QFile <span class="title">qss</span><span class="params">(<span class="string">"style.qss"</span>)</span></span>;</span><br><span class="line">qss.<span class="built_in">open</span>(QFile::ReadOnly);</span><br><span class="line">app.setStyleSheet(qss.readAll());</span><br><span class="line">qss.<span class="built_in">close</span>();</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="QSS语法"><a href="#QSS语法" class="headerlink" title="QSS语法"></a>QSS语法</h2><p>QSS同CSS语法规则类似：<br><code>selector {attribute:value};</code><br>其中：</p><ul><li><code>selector</code>选择器：通常情况下为控件类名（如<code>QPushButton</code>）；</li><li><code>attribute</code>属性：待设置的样式表属性（如<code>background-color</code>）；</li><li><code>value</code>值：属性赋值（如<code>rgb(40, 85, 20);</code>）；</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">QPushButton</span> &#123; <span class="attribute">color</span>: red &#125;</span><br></pre></td></tr></table></figure><p>Qt样式表<strong>通常不区分大小写</strong>(即，color、Color、color和color指的是同一属性)，但是是<strong>类名、对象名和Qt属性名</strong>，它们区分大小写。</p><p><code>selector</code>选择器的有多种使用方式，如下：</p><table><thead><tr><th align="left">选择器</th><th align="left">举例</th><th align="left">解释</th></tr></thead><tbody><tr><td align="left">通用选择器</td><td align="left">*</td><td align="left">应用于QT的所有控件</td></tr><tr><td align="left">类选择器1</td><td align="left">QPushButton</td><td align="left">只作用于QPushButton及其子类的实例</td></tr><tr><td align="left">类选择器2</td><td align="left">.QPushButton</td><td align="left">只作用于QPushButton</td></tr><tr><td align="left">组选择器</td><td align="left">QPushButton,QComboBox</td><td align="left">作用于QPushButton和QComboBox及其子类的实例</td></tr><tr><td align="left">属性选择器</td><td align="left">QPushButton[flat=“false”]</td><td align="left">作用于非平面（flat=“false”）的QPushButton实例。</td></tr><tr><td align="left">ID选择器</td><td align="left">QPushButton#okButton</td><td align="left">作用于对象名称为okButton的所有QPushButton实例。</td></tr><tr><td align="left">后代选择器</td><td align="left">QDialog QPushButton</td><td align="left">匹配作为QDialog的子体(子级、孙级等)的所有QPushButton实例。</td></tr><tr><td align="left">子选择器</td><td align="left">QDialog &gt; QPushButton</td><td align="left">匹配作为QDialog的直接子级的所有QPushButton实例。</td></tr><tr><td align="left">子控制</td><td align="left">QComboBox::drop-down</td><td align="left">要设置复杂 widget 的样式，需要访问 widget 的子控件，<br />如QComboBox的下拉按钮或QSpinBox的上下箭头。<br />选择器可以包含子控件，从而可以将规则的应用限制到特定的 widget 子控件</td></tr><tr><td align="left">类伪状态</td><td align="left">QPushButton::hover</td><td align="left">用于设置控件在某个状态下的属性，伪状态的类型有多种，在下面介绍。</td></tr></tbody></table><h2 id="QSS伪状态"><a href="#QSS伪状态" class="headerlink" title="QSS伪状态"></a>QSS伪状态</h2><table><thead><tr><th align="left">伪状态</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left">:active</td><td align="left">此状态在widget驻留在活动窗口中时设置。</td></tr><tr><td align="left">adjoins-item</td><td align="left">此状态在QTreeView的::branch与项相邻时设置。</td></tr><tr><td align="left">:alternate</td><td align="left">当QAbstractItemView::ternatingRowColors()设置为true时，将为绘制QAbstractItemView的行时的每隔一行设置此状态。</td></tr><tr><td align="left">:bottom</td><td align="left">该项目位于底部。例如，标签位于底部的QTabBar。</td></tr><tr><td align="left">:checked</td><td align="left">该项目已选中。例如，QAbstractButton的选中状态。</td></tr><tr><td align="left">:closable</td><td align="left">这些项目可以关闭。例如，QDockWidget打开了QDockWidget::DockWidgetClosable功能。</td></tr><tr><td align="left">:default</td><td align="left">该项目为默认值。例如，QMenu中的默认QPushButton或默认操作。</td></tr><tr><td align="left">:disabled</td><td align="left">该项目已禁用。</td></tr><tr><td align="left">:editable</td><td align="left">QComboBox是可编辑的。</td></tr><tr><td align="left">:edit-focus</td><td align="left">该项具有编辑焦点(请参见QStyle::State_HasEditFocus)。此状态仅适用于Qt扩展应用程序。</td></tr><tr><td align="left">:enabled</td><td align="left">该项目已启用。</td></tr><tr><td align="left">:exclusive</td><td align="left">该项目是独占项目组的一部分。例如，独占QActionGroup中的菜单项。</td></tr><tr><td align="left">:first</td><td align="left">该项目是(列表中的)第一个项目。例如，QTabBar中的第一个选项卡。</td></tr><tr><td align="left">:flat</td><td align="left">这件物品是平的。例如，平面QPushButton。</td></tr><tr><td align="left">:floatable</td><td align="left">这些项目可以浮动。例如，QDockWidget打开了QDockWidget：：DockWidgetFloatable功能。</td></tr><tr><td align="left">:focus</td><td align="left">该项具有输入焦点。</td></tr><tr><td align="left">:has-children</td><td align="left">该项目具有子项。例如，QTreeView中具有子项的项。</td></tr><tr><td align="left">:has-siblings</td><td align="left">该项目有同级。例如，QTreeView中的同级项。</td></tr><tr><td align="left">:horizontal</td><td align="left">该项目具有水平方向</td></tr><tr><td align="left">:hover</td><td align="left">鼠标悬停在该项目上。</td></tr><tr><td align="left">:indeterminate</td><td align="left">该项具有不确定状态。例如，部分选中QCheckBox或QRadioButton。</td></tr><tr><td align="left">:last</td><td align="left">该项是(列表中的)最后一项。例如，QTabBar中的最后一个选项卡。</td></tr><tr><td align="left">:left</td><td align="left">该项目位于左侧。例如，选项卡位于左侧的QTabBar。</td></tr><tr><td align="left">:maximized</td><td align="left">该项目将最大化。例如，最大化的QMdiSubWindow。</td></tr><tr><td align="left">:middle</td><td align="left">项目在中间(在列表中)。例如，QTabBar中不在开头或结尾的制表符。</td></tr><tr><td align="left">:minimized</td><td align="left">该项目被最小化。例如，最小化的QMdiSubWindow。</td></tr><tr><td align="left">:movable</td><td align="left">物品可以四处移动。例如，QDockWidget打开了QDockWidget::DockWidgetMoovable功能。</td></tr><tr><td align="left">:no-frame</td><td align="left">该项目没有框架。例如，无框架的QSpinBox或QLineEdit。</td></tr><tr><td align="left">:non-exclusive</td><td align="left">该项是非独占项组的一部分。例如，非独占QActionGroup中的菜单项。</td></tr><tr><td align="left">:off</td><td align="left">对于可以切换的项目，这适用于处于“关闭”状态的项目。</td></tr><tr><td align="left">:on</td><td align="left">对于可以切换的项目，这适用于处于“打开”状态的widget。</td></tr><tr><td align="left">:only-one</td><td align="left">该项目是(列表中的)唯一项目。例如，QTabBar中的一个单独的选项卡。</td></tr><tr><td align="left">:open</td><td align="left">该项目处于打开状态。例如，QTreeView中的展开项，或具有打开菜单的QComboBox或QPushButton。</td></tr><tr><td align="left">:next-selected</td><td align="left">选择下一项(在列表中)。例如，QTabBar的选定选项卡紧挨着该项。</td></tr><tr><td align="left">:pressed</td><td align="left">正在使用鼠标按下该项。</td></tr><tr><td align="left">:previous-selected</td><td align="left">选择上一项(在列表中)。例如，QTabBar中选定选项卡旁边的选项卡。</td></tr><tr><td align="left">:read-only</td><td align="left">该项目标记为只读或不可编辑。例如，只读QLineEdit或不可编辑的QComboBox。</td></tr><tr><td align="left">:right</td><td align="left">该项目位于右侧。例如，选项卡位于右侧的QTabBar。</td></tr><tr><td align="left">:selected</td><td align="left">该项目即被选中。例如，QTabBar中的选定选项卡或QMenu中的选定项目。</td></tr><tr><td align="left">:top</td><td align="left">该项目位于顶部。例如，选项卡位于顶部的QTabBar。</td></tr><tr><td align="left">:unchecked</td><td align="left">该项目处于取消选中状态。</td></tr><tr><td align="left">:vertical</td><td align="left">该项目具有垂直方向。</td></tr><tr><td align="left">:window</td><td align="left">widget是窗口(即顶层小部件)</td></tr></tbody></table><h2 id="QSS属性"><a href="#QSS属性" class="headerlink" title="QSS属性"></a>QSS属性</h2><h3 id="背景属性（Background）"><a href="#背景属性（Background）" class="headerlink" title="背景属性（Background）"></a>背景属性（Background）</h3><table><thead><tr><th><strong>属性</strong></th><th><strong>描述</strong></th><th><strong>CSS</strong></th></tr></thead><tbody><tr><td><a href="http://www.w3school.com.cn/cssref/pr_background.asp" target="_blank" rel="noopener">background</a></td><td>在一个声明中设置所有的背景<strong>属性</strong>。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_background-attachment.asp" target="_blank" rel="noopener">background-attachment</a></td><td>设置背景图像是否固定或者随着页面的其余部分滚动。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_background-color.asp" target="_blank" rel="noopener">background-color</a></td><td>设置元素的背景颜色。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_background-image.asp" target="_blank" rel="noopener">background-image</a></td><td>设置元素的背景图像。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_background-position.asp" target="_blank" rel="noopener">background-position</a></td><td>设置背景图像的开始位置。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_background-repeat.asp" target="_blank" rel="noopener">background-repeat</a></td><td>设置是否及如何重复背景图像。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_background-clip.asp" target="_blank" rel="noopener">background-clip</a></td><td>规定背景的绘制区域。</td><td>3</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_background-origin.asp" target="_blank" rel="noopener">background-origin</a></td><td>规定背景图片的定位区域。</td><td>3</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_background-size.asp" target="_blank" rel="noopener">background-size</a></td><td>规定背景图片的尺寸。</td><td>3</td></tr></tbody></table><h3 id="边框属性（Border-和-Outline）"><a href="#边框属性（Border-和-Outline）" class="headerlink" title="边框属性（Border 和 Outline）"></a>边框属性（Border 和 Outline）</h3><table><thead><tr><th><strong>属性</strong></th><th><strong>描述</strong></th><th><strong>CSS</strong></th></tr></thead><tbody><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border.asp" target="_blank" rel="noopener">border</a></td><td>在一个声明中设置所有的边框<strong>属性</strong>。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-bottom.asp" target="_blank" rel="noopener">border-bottom</a></td><td>在一个声明中设置所有的下边框<strong>属性</strong>。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-bottom_color.asp" target="_blank" rel="noopener">border-bottom-color</a></td><td>设置下边框的颜色。</td><td>2</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-bottom_style.asp" target="_blank" rel="noopener">border-bottom-style</a></td><td>设置下边框的样式。</td><td>2</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-bottom_width.asp" target="_blank" rel="noopener">border-bottom-width</a></td><td>设置下边框的宽度。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-color.asp" target="_blank" rel="noopener">border-color</a></td><td>设置四条边框的颜色。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-left.asp" target="_blank" rel="noopener">border-left</a></td><td>在一个声明中设置所有的左边框<strong>属性</strong>。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-left_color.asp" target="_blank" rel="noopener">border-left-color</a></td><td>设置左边框的颜色。</td><td>2</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-left_style.asp" target="_blank" rel="noopener">border-left-style</a></td><td>设置左边框的样式。</td><td>2</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-left_width.asp" target="_blank" rel="noopener">border-left-width</a></td><td>设置左边框的宽度。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-right.asp" target="_blank" rel="noopener">border-right</a></td><td>在一个声明中设置所有的右边框<strong>属性</strong>。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-right_color.asp" target="_blank" rel="noopener">border-right-color</a></td><td>设置右边框的颜色。</td><td>2</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-right_style.asp" target="_blank" rel="noopener">border-right-style</a></td><td>设置右边框的样式。</td><td>2</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-right_width.asp" target="_blank" rel="noopener">border-right-width</a></td><td>设置右边框的宽度。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-style.asp" target="_blank" rel="noopener">border-style</a></td><td>设置四条边框的样式。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-top.asp" target="_blank" rel="noopener">border-top</a></td><td>在一个声明中设置所有的上边框<strong>属性</strong>。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-top_color.asp" target="_blank" rel="noopener">border-top-color</a></td><td>设置上边框的颜色。</td><td>2</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-top_style.asp" target="_blank" rel="noopener">border-top-style</a></td><td>设置上边框的样式。</td><td>2</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-top_width.asp" target="_blank" rel="noopener">border-top-width</a></td><td>设置上边框的宽度。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-width.asp" target="_blank" rel="noopener">border-width</a></td><td>设置四条边框的宽度。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_outline.asp" target="_blank" rel="noopener">outline</a></td><td>在一个声明中设置所有的轮廓<strong>属性</strong>。</td><td>2</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_outline-color.asp" target="_blank" rel="noopener">outline-color</a></td><td>设置轮廓的颜色。</td><td>2</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_outline-style.asp" target="_blank" rel="noopener">outline-style</a></td><td>设置轮廓的样式。</td><td>2</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_outline-width.asp" target="_blank" rel="noopener">outline-width</a></td><td>设置轮廓的宽度。</td><td>2</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-bottom-left-radius.asp" target="_blank" rel="noopener">border-bottom-left-radius</a></td><td>定义边框左下角的形状。</td><td>3</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-bottom-right-radius.asp" target="_blank" rel="noopener">border-bottom-right-radius</a></td><td>定义边框右下角的形状。</td><td>3</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-image.asp" target="_blank" rel="noopener">border-image</a></td><td>简写<strong>属性</strong>，设置所有 border-image-* <strong>属性</strong>。</td><td>3</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-image-outset.asp" target="_blank" rel="noopener">border-image-outset</a></td><td>规定边框图像区域超出边框的量。</td><td>3</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-image-repeat.asp" target="_blank" rel="noopener">border-image-repeat</a></td><td>图像边框是否应平铺(repeated)、铺满(rounded)或拉伸(stretched)。</td><td>3</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-image-slice.asp" target="_blank" rel="noopener">border-image-slice</a></td><td>规定图像边框的向内偏移。</td><td>3</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-image-source.asp" target="_blank" rel="noopener">border-image-source</a></td><td>规定用作边框的图片。</td><td>3</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-image-width.asp" target="_blank" rel="noopener">border-image-width</a></td><td>规定图片边框的宽度。</td><td>3</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-radius.asp" target="_blank" rel="noopener">border-radius</a></td><td>简写<strong>属性</strong>，设置所有四个 border-<em>-radius *</em>属性**。</td><td>3</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-top-left-radius.asp" target="_blank" rel="noopener">border-top-left-radius</a></td><td>定义边框左上角的形状。</td><td>3</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_border-top-right-radius.asp" target="_blank" rel="noopener">border-top-right-radius</a></td><td>定义边框右下角的形状。</td><td>3</td></tr><tr><td>box-decoration-break</td><td>�0�2</td><td>3</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_box-shadow.asp" target="_blank" rel="noopener">box-shadow</a></td><td>向方框添加一个或多个阴影。</td><td>3</td></tr></tbody></table><h3 id="Box-属性"><a href="#Box-属性" class="headerlink" title="Box 属性"></a><strong>Box</strong> 属性</h3><table><thead><tr><th><strong>属性</strong></th><th><strong>描述</strong></th><th><strong>CSS</strong></th></tr></thead><tbody><tr><td><a href="http://www.w3school.com.cn/cssref/pr_overflow-x.asp" target="_blank" rel="noopener">overflow-x</a></td><td>如果内容溢出了元素内容区域，是否对内容的左/右边缘进行裁剪。</td><td>3</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_overflow-y.asp" target="_blank" rel="noopener">overflow-y</a></td><td>如果内容溢出了元素内容区域，是否对内容的上/下边缘进行裁剪。</td><td>3</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_overflow-style.asp" target="_blank" rel="noopener">overflow-style</a></td><td>规定溢出元素的首选滚动方法。</td><td>3</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_rotation.asp" target="_blank" rel="noopener">rotation</a></td><td>围绕由 rotation-point <strong>属性</strong>定义的点对元素进行旋转。</td><td>3</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_rotation-point.asp" target="_blank" rel="noopener">rotation-point</a></td><td>定义距离上左边框边缘的偏移点。</td><td>3</td></tr></tbody></table><h3 id="字体属性（Font）"><a href="#字体属性（Font）" class="headerlink" title="字体属性（Font）"></a>字体属性（Font）</h3><table><thead><tr><th><strong>属性</strong></th><th><strong>描述</strong></th><th><strong>CSS</strong></th></tr></thead><tbody><tr><td><a href="http://www.w3school.com.cn/cssref/pr_font_font.asp" target="_blank" rel="noopener">font</a></td><td>在一个声明中设置所有字体<strong>属性</strong>。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_font_font-family.asp" target="_blank" rel="noopener">font-family</a></td><td>规定文本的字体系列。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_font_font-size.asp" target="_blank" rel="noopener">font-size</a></td><td>规定文本的字体尺寸。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_font_font-size-adjust.asp" target="_blank" rel="noopener">font-size-adjust</a></td><td>为元素规定 aspect 值。</td><td>2</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_font_font-stretch.asp" target="_blank" rel="noopener">font-stretch</a></td><td>收缩或拉伸当前的字体系列。</td><td>2</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_font_font-style.asp" target="_blank" rel="noopener">font-style</a></td><td>规定文本的字体样式。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_font_font-variant.asp" target="_blank" rel="noopener">font-variant</a></td><td>规定是否以小型大写字母的字体显示文本。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_font_weight.asp" target="_blank" rel="noopener">font-weight</a></td><td>规定字体的粗细。</td><td>1</td></tr></tbody></table><h3 id="外边距属性（Margin）"><a href="#外边距属性（Margin）" class="headerlink" title="外边距属性（Margin）"></a>外边距属性（Margin）</h3><table><thead><tr><th><strong>属性</strong></th><th><strong>描述</strong></th><th><strong>CSS</strong></th></tr></thead><tbody><tr><td><a href="http://www.w3school.com.cn/cssref/pr_margin.asp" target="_blank" rel="noopener">margin</a></td><td>在一个声明中设置所有外边距<strong>属性</strong>。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_margin-bottom.asp" target="_blank" rel="noopener">margin-bottom</a></td><td>设置元素的下外边距。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_margin-left.asp" target="_blank" rel="noopener">margin-left</a></td><td>设置元素的左外边距。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_margin-right.asp" target="_blank" rel="noopener">margin-right</a></td><td>设置元素的右外边距。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_margin-top.asp" target="_blank" rel="noopener">margin-top</a></td><td>设置元素的上外边距。</td><td>1</td></tr></tbody></table><h3 id="内边距属性（Padding）"><a href="#内边距属性（Padding）" class="headerlink" title="内边距属性（Padding）"></a>内边距属性（Padding）</h3><table><thead><tr><th><strong>属性</strong></th><th><strong>描述</strong></th><th><strong>CSS</strong></th></tr></thead><tbody><tr><td><a href="http://www.w3school.com.cn/cssref/pr_padding.asp" target="_blank" rel="noopener">padding</a></td><td>在一个声明中设置所有内边距<strong>属性</strong>。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_padding-bottom.asp" target="_blank" rel="noopener">padding-bottom</a></td><td>设置元素的下内边距。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_padding-left.asp" target="_blank" rel="noopener">padding-left</a></td><td>设置元素的左内边距。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_padding-right.asp" target="_blank" rel="noopener">padding-right</a></td><td>设置元素的右内边距。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_padding-top.asp" target="_blank" rel="noopener">padding-top</a></td><td>设置元素的上内边距。</td><td>1</td></tr></tbody></table><h3 id="定位属性（Positioning）"><a href="#定位属性（Positioning）" class="headerlink" title="定位属性（Positioning）"></a>定位属性（Positioning）</h3><table><thead><tr><th><strong>属性</strong></th><th><strong>描述</strong></th><th><strong>CSS</strong></th></tr></thead><tbody><tr><td><a href="http://www.w3school.com.cn/cssref/pr_pos_bottom.asp" target="_blank" rel="noopener">bottom</a></td><td>设置定位元素下外边距边界与其包含块下边界之间的偏移。</td><td>2</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_class_clear.asp" target="_blank" rel="noopener">clear</a></td><td>规定元素的哪一侧不允许其他浮动元素。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_pos_clip.asp" target="_blank" rel="noopener">clip</a></td><td>剪裁绝对定位元素。</td><td>2</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_class_cursor.asp" target="_blank" rel="noopener">cursor</a></td><td>规定要显示的光标的类型（形状）。</td><td>2</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_class_display.asp" target="_blank" rel="noopener">display</a></td><td>规定元素应该生成的框的类型。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_class_float.asp" target="_blank" rel="noopener">float</a></td><td>规定框是否应该浮动。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_pos_left.asp" target="_blank" rel="noopener">left</a></td><td>设置定位元素左外边距边界与其包含块左边界之间的偏移。</td><td>2</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_pos_overflow.asp" target="_blank" rel="noopener">overflow</a></td><td>规定当内容溢出元素框时发生的事情。</td><td>2</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_class_position.asp" target="_blank" rel="noopener">position</a></td><td>规定元素的定位类型。</td><td>2</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_pos_right.asp" target="_blank" rel="noopener">right</a></td><td>设置定位元素右外边距边界与其包含块右边界之间的偏移。</td><td>2</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_pos_top.asp" target="_blank" rel="noopener">top</a></td><td>设置定位元素的上外边距边界与其包含块上边界之间的偏移。</td><td>2</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_pos_vertical-align.asp" target="_blank" rel="noopener">vertical-align</a></td><td>设置元素的垂直对齐方式。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_class_visibility.asp" target="_blank" rel="noopener">visibility</a></td><td>规定元素是否可见。</td><td>2</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_pos_z-index.asp" target="_blank" rel="noopener">z-index</a></td><td>设置元素的堆叠顺序。</td><td>2</td></tr></tbody></table><h3 id="文本属性（Text）"><a href="#文本属性（Text）" class="headerlink" title="文本属性（Text）"></a>文本属性（Text）</h3><table><thead><tr><th><strong>属性</strong></th><th><strong>描述</strong></th><th><strong>CSS</strong></th></tr></thead><tbody><tr><td><a href="http://www.w3school.com.cn/cssref/pr_text_color.asp" target="_blank" rel="noopener">color</a></td><td>设置文本的颜色。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_text_direction.asp" target="_blank" rel="noopener">direction</a></td><td>规定文本的方向 / 书写方向。</td><td>2</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_text_letter-spacing.asp" target="_blank" rel="noopener">letter-spacing</a></td><td>设置字符间距。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_dim_line-height.asp" target="_blank" rel="noopener">line-height</a></td><td>设置行高。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_text_text-align.asp" target="_blank" rel="noopener">text-align</a></td><td>规定文本的水平对齐方式。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_text_text-decoration.asp" target="_blank" rel="noopener">text-decoration</a></td><td>规定添加到文本的装饰效果。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_text_text-indent.asp" target="_blank" rel="noopener">text-indent</a></td><td>规定文本块首行的缩进。</td><td>1</td></tr><tr><td>text-shadow</td><td>规定添加到文本的阴影效果。</td><td>2</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_text_text-transform.asp" target="_blank" rel="noopener">text-transform</a></td><td>控制文本的大小写。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_unicode-bidi.asp" target="_blank" rel="noopener">unicode-bidi</a></td><td>设置文本方向。</td><td>2</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_text_white-space.asp" target="_blank" rel="noopener">white-space</a></td><td>规定如何处理元素中的空白。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_text_word-spacing.asp" target="_blank" rel="noopener">word-spacing</a></td><td>设置单词间距。</td><td>1</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_hanging-punctuation.asp" target="_blank" rel="noopener">hanging-punctuation</a></td><td>规定标点字符是否位于线框之外。</td><td>3</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_punctuation-trim.asp" target="_blank" rel="noopener">punctuation-trim</a></td><td>规定是否对标点字符进行修剪。</td><td>3</td></tr><tr><td>text-align-last</td><td>设置如何对齐最后一行或紧挨着强制换行符之前的行。</td><td>3</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_text-emphasis.asp" target="_blank" rel="noopener">text-emphasis</a></td><td>向元素的文本应用重点标记以及重点标记的前景色。</td><td>3</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_text-justify.asp" target="_blank" rel="noopener">text-justify</a></td><td>规定当 text-align 设置为 “justify” 时所使用的对齐方法。</td><td>3</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_text-outline.asp" target="_blank" rel="noopener">text-outline</a></td><td>规定文本的轮廓。</td><td>3</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_text-overflow.asp" target="_blank" rel="noopener">text-overflow</a></td><td>规定当文本溢出包含元素时发生的事情。</td><td>3</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_text-shadow.asp" target="_blank" rel="noopener">text-shadow</a></td><td>向文本添加阴影。</td><td>3</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_text-wrap.asp" target="_blank" rel="noopener">text-wrap</a></td><td>规定文本的换行规则。</td><td>3</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_word-break.asp" target="_blank" rel="noopener">word-break</a></td><td>规定非中日韩文本的换行规则。</td><td>3</td></tr><tr><td><a href="http://www.w3school.com.cn/cssref/pr_word-wrap.asp" target="_blank" rel="noopener">word-wrap</a></td><td>允许对长的不可分割的单词进行分割并换行到下一行。</td><td>3</td></tr></tbody></table><h3 id="颜色透明程度"><a href="#颜色透明程度" class="headerlink" title="颜色透明程度"></a>颜色透明程度</h3><pre><code>&lt;!--100% —FF--&gt;  &lt;!--95% — F2--&gt;  &lt;!--90% — E6--&gt;  &lt;!--85% — D9--&gt;  &lt;!--80% — CC--&gt;  &lt;!--75% — BF--&gt;  &lt;!--70% — B3--&gt;  &lt;!--65% — A6--&gt;  &lt;!--60% — 99--&gt;  &lt;!--55% — 8C--&gt;  &lt;!--50% — 80--&gt;  &lt;!--45% — 73--&gt;  &lt;!--40% — 66--&gt;  &lt;!--35% — 59--&gt;  &lt;!--30% — 4D--&gt;  &lt;!--25% — 40--&gt;  &lt;!--20% — 33--&gt;  &lt;!--15% — 26--&gt;  &lt;!--10% — 1A--&gt;  &lt;!--5% — 0D--&gt;  &lt;!--0% — 00--&gt;  </code></pre>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> qt </tag>
            
            <tag> qss </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>查询windows日志</title>
      <link href="/post/windows_log/"/>
      <url>/post/windows_log/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>系统日志可以用来查看系统的一些信息，比如警告、错误、验证、开关机等。</p><a id="more"></a><h2 id="打开系统日志"><a href="#打开系统日志" class="headerlink" title="打开系统日志"></a>打开系统日志</h2><p>按下快捷键<code>win+R</code>，输入<code>eventvwr.exe</code>，并点击确定</p><p><img src="https://i.loli.net/2021/10/08/tlg5DMfOEecrb1d.png" alt="image-20211008163514440"></p><p><img src="https://i.loli.net/2021/10/08/gNI5r6lEJf9KPuG.png" alt="image-20211008163551300"></p><h2 id="查询开关机记录"><a href="#查询开关机记录" class="headerlink" title="查询开关机记录"></a>查询开关机记录</h2><p>点击左侧<code>Windows日志-&gt;系统</code>，然后点击右侧<code>筛选当前日志</code>，然后在<code>所有事件ID</code>文本框中输入<code>6005,6006</code>，即可查询电脑开关机记录。</p><ul><li>6005：事件日志服务已启动。</li><li>6006：事件日志服务已停止。</li><li>6008：表示这个时间点的系统关闭是意外。</li></ul><p><img src="https://i.loli.net/2021/10/08/CQwONnxsjUa6ygS.png" alt="image-20211008163804021"></p><p><img src="https://i.loli.net/2021/10/08/GBVWLzcTdIEUjSw.png" alt="image-20211008163935075"></p>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows共享目录设置</title>
      <link href="/post/windows_share/"/>
      <url>/post/windows_share/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>局域网内文件分享时，共享功能是最方便的一个方式。</p><a id="more"></a><h2 id="打开共享功能"><a href="#打开共享功能" class="headerlink" title="打开共享功能"></a>打开共享功能</h2><ol><li><p>打开控制面板中的<code>网络和共享中心</code></p><p><img src="https://i.loli.net/2021/04/27/cPaCQD4GqorXjSs.png" alt="image-20210427135616689"></p></li><li><p>选择<code>更改高级共享设置</code></p><p><img src="https://i.loli.net/2021/04/27/32nQ1orXj8saWgx.png" alt="image-20210427135702162"></p></li><li><p>打开<code>所有网络</code>，配置设置如下图：</p><p><img src="https://i.loli.net/2021/04/27/q6EXmbhdVk1Iso2.png" alt="image-20210427135752796"></p></li></ol><h2 id="修改安全选项"><a href="#修改安全选项" class="headerlink" title="修改安全选项"></a>修改安全选项</h2><ol><li><p>按WIN+R，调出运行框</p><p><img src="https://i.loli.net/2021/04/27/4ZHDmfcAVbNkCrw.png" alt="img"></p></li><li><p>在运行框输入 gpedit.msc</p><p><img src="https://i.loli.net/2021/04/27/B8QJfZIqkR5UhVu.png" alt="img"></p></li><li><p>打开安全选项路径：<code>Windows设置 -- 安全设置 -- 本地策略 -- 安全选项</code>, 设置全部账户选项，如下图：</p></li></ol><p><img src="https://i.loli.net/2021/04/27/5mNz8i9VUFG4lvc.png" alt="image-20210427135119521"></p>]]></content>
      
      
      <categories>
          
          <category> system </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>个人网盘搭建</title>
      <link href="/post/cloud_drive/"/>
      <url>/post/cloud_drive/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>个人网盘的搭建需要先搭建环境，再安装网盘程序。环境的搭建一般使用宝塔面板，网盘程序选择Cloudreve，功能全面，界面简洁而且更新频率高。</p><a id="more"></a><h2 id="安装宝塔面板"><a href="#安装宝塔面板" class="headerlink" title="安装宝塔面板"></a>安装宝塔面板</h2><h3 id="安装命令"><a href="#安装命令" class="headerlink" title="安装命令"></a>安装命令</h3><ol><li><code>Centos7.1+</code></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y wget &amp;&amp; wget -O install.sh http://download.bt.cn/install/install_6.0.sh &amp;&amp; sh install.sh</span><br></pre></td></tr></table></figure><ol start="2"><li><code>Ubuntu16.04+</code></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh &amp;&amp; sudo bash install.sh</span><br></pre></td></tr></table></figure><h3 id="组件安装"><a href="#组件安装" class="headerlink" title="组件安装"></a>组件安装</h3><ol><li>套件安装，选择Mysql，PHP，Nginx</li><li>扩展安装<code>首页 → php-X.X → 安装扩展fileinfo</code></li></ol><p><img src="https://i.loli.net/2021/06/08/ELbwsyxKgkAMCV5.png" alt="21"></p><p><img src="https://img-blog.csdnimg.cn/20201113182625409.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3M3Nzc3Nzc3Nzc3Nzc3,size_16,color_FFFFFF,t_70#pic_center" alt="5"></p><h3 id="创建网站"><a href="#创建网站" class="headerlink" title="创建网站"></a>创建网站</h3><p><img src="https://i.loli.net/2021/06/08/FETWIXjuLDpsyb7.png" alt="3"></p><h2 id="Cloudreve安装"><a href="#Cloudreve安装" class="headerlink" title="Cloudreve安装"></a>Cloudreve安装</h2><h3 id="下载版本"><a href="#下载版本" class="headerlink" title="下载版本"></a>下载版本</h3><p>下载地址：Github网址：<a href="https://github.com/cloudreve/Cloudreve/releases" target="_blank" rel="noopener">Releases · cloudreve/Cloudreve (github.com)</a></p><p>下载版本：linux_amd64</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/cloudreve/Cloudreve/releases/download/3.3.1/cloudreve_3.3.1_linux_amd64.tar.gz</span><br></pre></td></tr></table></figure><h3 id="安装SSL证书"><a href="#安装SSL证书" class="headerlink" title="安装SSL证书"></a>安装SSL证书</h3><p>如果网盘地址想用https，则需要安装SSL证书</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl https://get.acme.sh | sh</span><br><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure><p>获取证书</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">acme.sh --issue -d os.yaronzz.com -w &#x2F;www&#x2F;wwwroot&#x2F;cloud</span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2021/06/08/MEqVj7nTrBQSlF9.png" alt="image-20210608105833651"></p><h3 id="反向代理"><a href="#反向代理" class="headerlink" title="反向代理"></a>反向代理</h3><p><img src="https://i.loli.net/2021/06/08/WDhlmriaSNb9HTB.png" alt="image-20210608105906895"></p><h3 id="安装Aria2"><a href="#安装Aria2" class="headerlink" title="安装Aria2"></a>安装Aria2</h3><p>aria2用于离线下载资源，cloudreve可以直接下载磁力链接资源，并上传到onedrive</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubiBackup/doubi/master/aria2.sh &amp;&amp; chmod +x aria2.sh &amp;&amp; bash aria2.sh</span><br></pre></td></tr></table></figure><ul><li>启动：<code>service aria2 start</code></li><li>停止：<code>service aria2 stop</code></li><li>重启：<code>service aria2 restart</code></li><li>查看状态：<code>service aria2 status</code></li><li>配置文件：/root/.aria2/aria2.conf（配置文件包含中文注释，但是一些系统可能不支持显示中文）</li><li>下载目录：/usr/local/caddy/www/aria2/Download</li></ul>]]></content>
      
      
      <categories>
          
          <category> 建站 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cloudreve </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++类结构体与json相互转换</title>
      <link href="/post/cpp_json_class_conver/"/>
      <url>/post/cpp_json_class_conver/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="背景与需求"><a href="#背景与需求" class="headerlink" title="背景与需求"></a>背景与需求</h2><p>之前写C#的时候，解析json字符串一般使用的是开源的类库<code>Newtonsoft.Json</code>，方法十分简洁，比如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">class Project</span><br><span class="line">&#123;</span><br><span class="line">    public string Input &#123; get; set; &#125;</span><br><span class="line">    public string Output &#123; get; set; &#125;</span><br><span class="line">&#125;</span><br><span class="line">JavaScriptSerializer serializer &#x3D; new JavaScriptSerializer();</span><br><span class="line">Project test &#x3D; serializer.Deserialize&lt;Project&gt;(@&quot;&#123;&quot;Input&quot;:&quot;1&quot;,&quot;Output&quot;:&quot;2&quot;&#125;&quot;);</span><br></pre></td></tr></table></figure><p>一行代码就能将json字符串转为相应的类对象。</p><p>最近写C++需要处理一下json数据，于是上github找了很多很强大的开源库，像<a href="https://github.com/open-source-parsers/jsoncpp" target="_blank" rel="noopener">jsoncpp</a>、<a href="https://github.com/Tencent/rapidjson" target="_blank" rel="noopener">rapidjson</a>、<a href="https://github.com/nlohmann/json" target="_blank" rel="noopener">json</a>，基本上都满足了开发需求，但想要做成像写C#那样子就要做二次开发。于是有了自己写一个简单的json转类 | 结构体的工具的想法。</p><a id="more"></a><p>需求如下：</p><blockquote><ul><li>只有头文件，方便使用</li><li>最多三行代码解决转换</li><li>支持类|结构体 与 json的相互转换</li><li>支持多种基本数据类型，如int、float、string、bool等</li><li>支持STL基本类型，如vector、list、map&lt;string,T&gt;等</li><li>支持嵌套关系</li><li>支持成员重命名，比方说json中的关键字是name,成员命名可写成Name或其他。</li><li>支持设置成员默认值</li></ul></blockquote><h2 id="最终使用的样例代码"><a href="#最终使用的样例代码" class="headerlink" title="最终使用的样例代码"></a>最终使用的样例代码</h2><p>工程开源地址：<a href="https://github.com/AIGMix/AIGCJson" target="_blank" rel="noopener">AIGCJson：两行代码实现C++ Json与类对象相互转换</a></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">string</span> Name;</span><br><span class="line">    <span class="keyword">int</span> Age;</span><br><span class="line"></span><br><span class="line">    AIGC_JSON_HELPER(Name, Age)<span class="comment">//成员注册</span></span><br><span class="line">    AIGC_JSON_HELPER_RENAME(<span class="string">"name"</span>,<span class="string">"age"</span>)<span class="comment">//成员重命名，不需要可以删除这条</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//json转类对象</span></span><br><span class="line">    Student person;</span><br><span class="line">    JsonHelper::JsonToObject(person, <span class="string">R"(&#123;"name":"XiaoMing", "age":15&#125;)"</span>);</span><br><span class="line"><span class="comment">//类对象转json</span></span><br><span class="line">    <span class="built_in">string</span> jsonStr;</span><br><span class="line">    JsonHelper::ObjectToJson(person, jsonStr);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="实现方法"><a href="#实现方法" class="headerlink" title="实现方法"></a>实现方法</h2><p>因为刚好<a href="https://github.com/Tencent/rapidjson" target="_blank" rel="noopener">rapidjson</a>只需要头文件就可以使用，所以选择了<a href="https://github.com/Tencent/rapidjson" target="_blank" rel="noopener">rapidjson</a>作为基础库，进行二次开发。</p><h3 id="基础类型的转换"><a href="#基础类型的转换" class="headerlink" title="基础类型的转换"></a>基础类型的转换</h3><p>作为最底层的接口，只需要进行一个赋值的操作即可，后续如果想要增加一些其他类型支持，添加起来也比较方便。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">bool</span> <span class="title">JsonToObject</span><span class="params">(<span class="keyword">int</span> &amp;obj, rapidjson::Value &amp;jsonValue)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (jsonValue.IsNull() || !jsonValue.IsInt())</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    obj = jsonValue.GetInt();</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">bool</span> <span class="title">JsonToObject</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">int</span> &amp;obj, rapidjson::Value &amp;jsonValue)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (jsonValue.IsNull() || !jsonValue.IsUint())</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    obj = jsonValue.GetUint();</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">bool</span> <span class="title">JsonToObject</span><span class="params">(<span class="keyword">int64_t</span> &amp;obj, rapidjson::Value &amp;jsonValue)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (jsonValue.IsNull() || !jsonValue.IsInt64())</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    obj = jsonValue.GetInt64();</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//其他类型... ...</span></span><br></pre></td></tr></table></figure><h3 id="类成员注册"><a href="#类成员注册" class="headerlink" title="类成员注册"></a>类成员注册</h3><p>这里使用宏定义方式 + 可变参数模板的方式来实现，即可依次对注册的成员进行赋值</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> TYPE, <span class="keyword">typename</span>... TYPES&gt;</span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">bool</span> <span class="title">WriteMembers</span><span class="params">(<span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="built_in">std</span>::<span class="built_in">string</span>&gt; &amp;names, <span class="keyword">int</span> index, rapidjson::Value &amp;jsonValue, TYPE &amp;arg, TYPES &amp;... args)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!WriteMembers(names, index, jsonValue, arg))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> WriteMembers(names, ++index, jsonValue, args...);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> TYPE&gt;</span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">bool</span> <span class="title">WriteMembers</span><span class="params">(<span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="built_in">std</span>::<span class="built_in">string</span>&gt; &amp;names, <span class="keyword">int</span> index, rapidjson::Value &amp;jsonValue, TYPE &amp;arg)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span> *key = names[index].c_str();</span><br><span class="line">    <span class="keyword">if</span> (!jsonValue.HasMember(key))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!JsonToObject(arg, jsonValue[key]))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> AIGC_JSON_HELPER(...)  \</span></span><br><span class="line">bool AIGC_CONVER_JSON_TO_OBJECT(rapidjson::Value &amp;jsonValue, std::vector&lt;std::string&gt; &amp;names) \</span><br><span class="line">&#123;     \</span><br><span class="line">    <span class="keyword">if</span> (names.<span class="built_in">size</span>() &lt;= <span class="number">0</span>)  \</span><br><span class="line">        names = aigc::JsonHelper::GetMembersNames(#__VA_ARGS__); \</span><br><span class="line">    <span class="keyword">return</span> aigc::JsonHelper::WriteMembers(names, <span class="number">0</span>, jsonValue, __VA_ARGS__); \</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="自定义类的转换"><a href="#自定义类的转换" class="headerlink" title="自定义类的转换"></a>自定义类的转换</h3><p>自定义类由于并不清楚外界使用时，是否有按规定添加好<strong>成员注册接口</strong>，所以这里采用<strong>enable_if</strong>的方式来尝试调用，编译的时候也就不会报错。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">bool</span>, <span class="class"><span class="keyword">class</span> <span class="title">TYPE</span> = <span class="title">void</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">struct</span> <span class="title">enable_if</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">TYPE</span>&gt;</span></span><br><span class="line"><span class="class"><span class="title">struct</span> <span class="title">enable_if</span>&lt;true, TYPE&gt;</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">typedef</span> TYPE type;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">HasConverFunction</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TT&gt; <span class="function"><span class="keyword">static</span> <span class="keyword">char</span> <span class="title">func</span><span class="params">(<span class="keyword">decltype</span>(&amp;TT::AIGC_CONVER_JSON_TO_OBJECT))</span></span>;</span><br><span class="line">    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TT&gt; <span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">func</span><span class="params">(...)</span></span>;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">static</span> <span class="keyword">bool</span> has = (<span class="keyword">sizeof</span>(func&lt;T&gt;(<span class="literal">NULL</span>)) == <span class="keyword">sizeof</span>(<span class="keyword">char</span>));</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> enable_if&lt;HasConverFunction&lt;T&gt;::has, <span class="keyword">int</span>&gt;::type = <span class="number">0</span>&gt;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">bool</span> JsonToObject(T &amp;obj, rapidjson::Value &amp;jsonValue)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="built_in">std</span>::<span class="built_in">string</span>&gt; names = LoadRenameArray(obj);</span><br><span class="line">    <span class="keyword">return</span> obj.AIGC_CONVER_JSON_TO_OBJECT(jsonValue, names);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> enable_if&lt;!HasConverFunction&lt;T&gt;::has, <span class="keyword">int</span>&gt;::type = <span class="number">0</span>&gt;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">bool</span> JsonToObject(T &amp;obj, rapidjson::Value &amp;jsonValue)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="外部调用接口"><a href="#外部调用接口" class="headerlink" title="外部调用接口"></a>外部调用接口</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @brief conver json string to class | struct</span></span><br><span class="line"><span class="comment"> * @param obj : class or struct</span></span><br><span class="line"><span class="comment"> * @param jsonStr : json string </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">JsonToObject</span><span class="params">(T &amp;obj, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> &amp;jsonStr)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    rapidjson::Document root;</span><br><span class="line">    root.Parse(jsonStr.c_str());</span><br><span class="line">    <span class="keyword">if</span> (root.IsNull())</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> JsonToObject(obj, root);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>最核心的部分也就上面的几个模块，其他的都是一些琐碎的增加类型支持等操作。</p><h2 id="学习与引用"><a href="#学习与引用" class="headerlink" title="学习与引用"></a>学习与引用</h2><ol><li>腾讯json解析库：<a href="https://github.com/Tencent" target="_blank" rel="noopener">Tencent</a>/<strong><a href="https://github.com/Tencent/rapidjson" target="_blank" rel="noopener">rapidjson</a></strong></li><li>杨昕: <a href="https://zhuanlan.zhihu.com/p/166524394" target="_blank" rel="noopener">C++ 轻量级对象JSON序列化实现</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cpp </tag>
            
            <tag> json </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux上Nginx安装配置</title>
      <link href="/post/nginx_set/"/>
      <url>/post/nginx_set/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>主要介绍如何安装nginx和https所需的免费证书。</p><a id="more"></a><h2 id="🎁安装nginx"><a href="#🎁安装nginx" class="headerlink" title="🎁安装nginx"></a>🎁安装nginx</h2><ol><li><p>安装nginx</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install git nginx -y</span><br></pre></td></tr></table></figure></li><li><p>新建网站文件夹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir -p /var/www/hexo</span><br><span class="line">sudo chown -R $USER:$USER /var/www/hexo</span><br><span class="line">sudo chmod -R 755 /var/www/hexo</span><br></pre></td></tr></table></figure></li><li><p>配置nginx</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/nginx/sites-available/default</span><br></pre></td></tr></table></figure><p>修改为以下内容：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">listen 80 default_server;</span><br><span class="line">listen [::]:80 default_server;</span><br><span class="line"></span><br><span class="line">    root /var/www/hexo;</span><br><span class="line">index index.html index.htm;</span><br><span class="line"></span><br><span class="line">server_name _;</span><br><span class="line">location / &#123;</span><br><span class="line"># First attempt to serve request as file, then</span><br><span class="line"># as directory, then fall back to displaying a 404.</span><br><span class="line">try_files $uri $uri/ =404;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>启停nginx</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service nginx restart</span><br></pre></td></tr></table></figure></li></ol><h2 id="🎉安装免费证书SSL"><a href="#🎉安装免费证书SSL" class="headerlink" title="🎉安装免费证书SSL"></a>🎉安装免费证书SSL</h2><p>Let’s Encrypt 是一家免费、开放、自动化的证书颁发机构（CA），为公众的利益而运行。它是一项由 <a href="https://www.abetterinternet.org/" target="_blank" rel="noopener">Internet Security Research Group（ISRG）</a>提供的服务。其以尽可能对用户友好的方式免费提供为网站启用 HTTPS（SSL/TLS）所需的数字证书来创建一个更安全，更尊重隐私的 Web 环境。</p><blockquote><p>Let’s Encrypt的关键原则为：</p><ul><li><strong>免费：</strong>任何拥有域名的人都可以使用 Let’s Encrypt 免费获取受信的证书。</li><li><strong>自动化：</strong>运行于服务器上的软件可以与 Let’s Encrypt 直接交互，以便轻松获取证书，安全地配置它，并自动进行续期。</li><li><strong>安全：</strong> 无论是作为一个证书颁发机构（CA）还是通过帮助网站运营商正确地保护其服务器。</li><li><strong>透明：</strong>所有颁发或吊销的证书将被公开记录，供任何人查阅。</li><li><strong>开放：</strong>自动颁发、续期证书的协议将作为其他人可以使用的开放标准发布。</li><li><strong>乐于合作：</strong>Let’s Encrypt 是为了让整个互联网社区受益而做出的共同努力，它不受任何单一组织的控制。</li></ul></blockquote><ol><li><p>安装Certbot</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://dl.eff.org/certbot-auto</span><br><span class="line">chmod a+x ./certbot-auto</span><br></pre></td></tr></table></figure></li><li><p>生成证书</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./certbot-auto --server https://acme-v02.api.letsencrypt.org/directory -d "xxxxxx.com" -d "*.cxxxxxx.com" --manual --preferred-challenges dns-01 certonly</span><br></pre></td></tr></table></figure></li><li><p>根据打印的信息添加两条TXT解析记录y</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">root@localhost:~# ./certbot-auto --server https://acme-v02.api.letsencrypt.org/directory -d "yaronzz.com" -d "*.yaronzz.com" --manual --preferred-challenges dns-01 certonly</span><br><span class="line">Saving debug log to /var/log/letsencrypt/letsencrypt.log</span><br><span class="line">Plugins selected: Authenticator manual, Installer None</span><br><span class="line">Obtaining a new certificate</span><br><span class="line">Performing the following challenges:</span><br><span class="line">dns-01 challenge for yaronzz.com</span><br><span class="line">dns-01 challenge for yaronzz.com</span><br><span class="line"></span><br><span class="line">- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span><br><span class="line">NOTE: The IP of this machine will be publicly logged as having requested this</span><br><span class="line">certificate. If you're running certbot in manual mode on a machine that is not</span><br><span class="line">your server, please ensure you're okay with that.</span><br><span class="line"></span><br><span class="line">Are you OK with your IP being logged?</span><br><span class="line">- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span><br><span class="line">(Y)es/(N)o: y   #选择y</span><br><span class="line"></span><br><span class="line">- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span><br><span class="line">Please deploy a DNS TXT record under the name</span><br><span class="line">_acme-challenge.yaronzz.com with the following value:</span><br><span class="line"><span class="meta">#</span><span class="bash">将第一条主机记录_acme-challenge和下面的记录值添加的解析</span></span><br><span class="line">fXseZpKheNVwMxxxxxxxxxxxxxxxxxxxxxxxxxxx </span><br><span class="line"></span><br><span class="line">Before continuing, verify the record is deployed.</span><br><span class="line">- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span><br><span class="line">Press Enter to Continue</span><br><span class="line"></span><br><span class="line">- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span><br><span class="line">Please deploy a DNS TXT record under the name</span><br><span class="line">_acme-challenge.yaronzz.com with the following value:</span><br><span class="line"><span class="meta">#</span><span class="bash">将第二条主机记录_acme-challenge和下面的记录值添加的解析</span></span><br><span class="line">xOuUgL4jxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br><span class="line"></span><br><span class="line">Before continuing, verify the record is deployed.</span><br><span class="line">(This must be set up in addition to the previous challenges; do not remove,</span><br><span class="line">replace, or undo the previous challenge tasks yet. Note that you might be</span><br><span class="line">asked to create multiple distinct TXT records with the same name. This is</span><br><span class="line">permitted by DNS standards.)</span><br><span class="line"></span><br><span class="line">- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span><br><span class="line">Press Enter to Continue</span><br><span class="line">Waiting for verification...</span><br><span class="line">Cleaning up challenges</span><br><span class="line"></span><br><span class="line">IMPORTANT NOTES:</span><br><span class="line"> - Congratulations! Your certificate and chain have been saved at:</span><br><span class="line">   /etc/letsencrypt/live/yaronzz.com/fullchain.pem</span><br><span class="line">   Your key file has been saved at:</span><br><span class="line">   /etc/letsencrypt/live/yaronzz.com/privkey.pem</span><br><span class="line">   Your cert will expire on 2020-11-14. To obtain a new or tweaked</span><br><span class="line">   version of this certificate in the future, simply run certbot-auto</span><br><span class="line">   again. To non-interactively renew *all* of your certificates, run</span><br><span class="line">   "certbot-auto renew"</span><br><span class="line"> - If you like Certbot, please consider supporting our work by:</span><br><span class="line"></span><br><span class="line">   Donating to ISRG / Let's Encrypt:   https://letsencrypt.org/donate</span><br><span class="line">   Donating to EFF:                    https://eff.org/donate-le</span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/08/16/RfecFn1uW7SUD2P.png" alt="image-20200816120331944"></p></li><li><p>查看生成的证书</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls /etc/letsencrypt/live/xxxxxx.com</span><br></pre></td></tr></table></figure></li><li><p>续签证书</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">./certbot-auto renew</span><br><span class="line"><span class="meta">#</span><span class="bash"> 如果提示未到期，cert not due <span class="keyword">for</span> renewal，可以强制更新如下</span></span><br><span class="line">./certbot-auto renew --force-renew</span><br><span class="line"><span class="meta">#</span><span class="bash"> 看到success表示成功了</span></span><br></pre></td></tr></table></figure></li><li><p>nginx添加证书</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/nginx/sites-available/default</span><br></pre></td></tr></table></figure><p>   修改为以下内容：</p>   <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">listen 80 default_server;</span><br><span class="line">listen [::]:80 default_server;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    listen 443 ssl default_server;</span><br><span class="line">server_name xxxxxx.com;</span><br><span class="line">    </span><br><span class="line">    ssl_certificate     /etc/letsencrypt/live/xxxxxx.com/fullchain.pem;</span><br><span class="line">ssl_certificate_key /etc/letsencrypt/live/xxxxxx.com/privkey.pem;</span><br><span class="line"></span><br><span class="line">    ssl_protocols   TLSv1 TLSv1.1 TLSv1.2;</span><br><span class="line">    ssl_ciphers     ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;</span><br><span class="line">    ssl_prefer_server_ciphers on;</span><br><span class="line">    ssl_session_cache  shared:SSL:10m;</span><br><span class="line">    ssl_session_timeout 10m;</span><br><span class="line">    </span><br><span class="line">    root /var/www/hexo;</span><br><span class="line">index index.html index.htm;</span><br><span class="line"></span><br><span class="line">server_name _;</span><br><span class="line">location / &#123;</span><br><span class="line"># First attempt to serve request as file, then</span><br><span class="line"># as directory, then fall back to displaying a 404.</span><br><span class="line">try_files $uri $uri/ =404;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> 建站 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> ssl </tag>
            
            <tag> nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Rclone使用教程 - 挂载Onedrive和谷歌网盘</title>
      <link href="/post/rclone_use/"/>
      <url>/post/rclone_use/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Rclone 是一个用于多个云平台之间同步文件和目录的命令行工具，其支持多种运营商网盘。</p><ul><li>官网网址：<a href="https://www.moewah.com/go/aHR0cHM6Ly9yY2xvbmUub3Jn" target="_blank" rel="noopener">https://rclone.org</a></li><li>开源地址：<a href="https://github.com/ncw/rclone" target="_blank" rel="noopener">https://github.com/ncw/rclone</a></li></ul><a id="more"></a><h2 id="安装与配置"><a href="#安装与配置" class="headerlink" title="安装与配置"></a>安装与配置</h2><h3 id="下载安装rclone"><a href="#下载安装rclone" class="headerlink" title="下载安装rclone"></a>下载安装rclone</h3><ol><li><p>windows版本：下载<a href="https://rclone.org/downloads/" target="_blank" rel="noopener">rclone</a>并解压</p></li><li><p>Linux版本：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https://rclone.org/install.sh | sudo bash</span><br></pre></td></tr></table></figure></li></ol><h3 id="配置OneDrive"><a href="#配置OneDrive" class="headerlink" title="配置OneDrive"></a>配置OneDrive</h3><ol><li><p>在目录下打开cmd运行命令 <code>rclone authorize &quot;onedrive&quot;</code></p><p>世纪互联运行的命令 <code>rclone authorize onedrive &quot;应用程序(客户端)ID&quot; &quot;客户端密码值&quot; --onedrive-is-21vianet-version=true</code></p></li><li><p>复制授权码：<code>{&quot;access_token&quot;:&quot;xxxx&quot;}</code></p><p><img src="https://i.loli.net/2020/08/15/4p2tTQ8yJ7RsxHO.png" alt="image-20200815092021152"></p></li><li><p>配置</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rclone config</span><br></pre></td></tr></table></figure><p>设置步骤如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><span class="line">root@localhost:~# rclone config</span><br><span class="line">No remotes found - make a new one</span><br><span class="line">n) New remote</span><br><span class="line">s) Set configuration password</span><br><span class="line">q) Quit config</span><br><span class="line"><span class="meta">n/s/q&gt;</span><span class="bash"> n  <span class="comment">#新建一个挂载</span></span></span><br><span class="line"><span class="meta">name&gt;</span><span class="bash"> onedrive  <span class="comment">#设置挂载的名称onedrive</span></span></span><br><span class="line">Type of storage to configure.</span><br><span class="line">Enter a string value. Press Enter for the default ("").</span><br><span class="line">Choose a number from below, or type in your own value</span><br><span class="line"> 1 / 1Fichier</span><br><span class="line">   \ "fichier"</span><br><span class="line"> 2 / Alias for an existing remote</span><br><span class="line">   \ "alias"</span><br><span class="line"> 3 / Amazon Drive</span><br><span class="line">   \ "amazon cloud drive"</span><br><span class="line"> 4 / Amazon S3 Compliant Storage Provider (AWS, Alibaba, Ceph, Digital Ocean, Dreamhost, IBM COS, Minio, etc)</span><br><span class="line">   \ "s3"</span><br><span class="line"> 5 / Backblaze B2</span><br><span class="line">   \ "b2"</span><br><span class="line"> 6 / Box</span><br><span class="line">   \ "box"</span><br><span class="line"> 7 / Cache a remote</span><br><span class="line">   \ "cache"</span><br><span class="line"> 8 / Citrix Sharefile</span><br><span class="line">   \ "sharefile"</span><br><span class="line"> 9 / Dropbox</span><br><span class="line">   \ "dropbox"</span><br><span class="line">10 / Encrypt/Decrypt a remote</span><br><span class="line">   \ "crypt"</span><br><span class="line">11 / FTP Connection</span><br><span class="line">   \ "ftp"</span><br><span class="line">12 / Google Cloud Storage (this is not Google Drive)</span><br><span class="line">   \ "google cloud storage"</span><br><span class="line">13 / Google Drive</span><br><span class="line">   \ "drive"</span><br><span class="line">14 / Google Photos</span><br><span class="line">   \ "google photos"</span><br><span class="line">15 / Hubic</span><br><span class="line">   \ "hubic"</span><br><span class="line">16 / In memory object storage system.</span><br><span class="line">   \ "memory"</span><br><span class="line">17 / Jottacloud</span><br><span class="line">   \ "jottacloud"</span><br><span class="line">18 / Koofr</span><br><span class="line">   \ "koofr"</span><br><span class="line">19 / Local Disk</span><br><span class="line">   \ "local"</span><br><span class="line">20 / Mail.ru Cloud</span><br><span class="line">   \ "mailru"</span><br><span class="line">21 / Mega</span><br><span class="line">   \ "mega"</span><br><span class="line">22 / Microsoft Azure Blob Storage</span><br><span class="line">   \ "azureblob"</span><br><span class="line">23 / Microsoft OneDrive</span><br><span class="line">   \ "onedrive"</span><br><span class="line">24 / OpenDrive</span><br><span class="line">   \ "opendrive"</span><br><span class="line">25 / OpenStack Swift (Rackspace Cloud Files, Memset Memstore, OVH)</span><br><span class="line">   \ "swift"</span><br><span class="line">26 / Pcloud</span><br><span class="line">   \ "pcloud"</span><br><span class="line">27 / Put.io</span><br><span class="line">   \ "putio"</span><br><span class="line">28 / QingCloud Object Storage</span><br><span class="line">   \ "qingstor"</span><br><span class="line">29 / SSH/SFTP Connection</span><br><span class="line">   \ "sftp"</span><br><span class="line">30 / Sugarsync</span><br><span class="line">   \ "sugarsync"</span><br><span class="line">31 / Tardigrade Decentralized Cloud Storage</span><br><span class="line">   \ "tardigrade"</span><br><span class="line">32 / Transparently chunk/split large files</span><br><span class="line">   \ "chunker"</span><br><span class="line">33 / Union merges the contents of several upstream fs</span><br><span class="line">   \ "union"</span><br><span class="line">34 / Webdav</span><br><span class="line">   \ "webdav"</span><br><span class="line">35 / Yandex Disk</span><br><span class="line">   \ "yandex"</span><br><span class="line">36 / http Connection</span><br><span class="line">   \ "http"</span><br><span class="line">37 / premiumize.me</span><br><span class="line">   \ "premiumizeme"</span><br><span class="line">38 / seafile</span><br><span class="line">   \ "seafile"</span><br><span class="line"><span class="meta">Storage&gt;</span><span class="bash"> 23  <span class="comment">#选择第23项的onedrive</span></span></span><br><span class="line">** See help for onedrive backend at: https://rclone.org/onedrive/ **</span><br><span class="line"></span><br><span class="line">Microsoft App Client Id</span><br><span class="line">Leave blank normally.</span><br><span class="line">Enter a string value. Press Enter for the default ("").</span><br><span class="line"><span class="meta">client_id&gt;</span><span class="bash">   <span class="comment">#跳过</span></span></span><br><span class="line">Microsoft App Client Secret</span><br><span class="line">Leave blank normally.</span><br><span class="line">Enter a string value. Press Enter for the default ("").</span><br><span class="line"><span class="meta">client_secret&gt;</span><span class="bash">  <span class="comment">#跳过</span></span></span><br><span class="line">Edit advanced config? (y/n)</span><br><span class="line">y) Yes</span><br><span class="line">n) No (default)</span><br><span class="line"><span class="meta">y/n&gt;</span><span class="bash">  <span class="comment">#跳过</span></span></span><br><span class="line">Remote config</span><br><span class="line">Use auto config?</span><br><span class="line"> * Say Y if not sure</span><br><span class="line"> * Say N if you are working on a remote or headless machine</span><br><span class="line">y) Yes (default)</span><br><span class="line">n) No</span><br><span class="line"><span class="meta">y/n&gt;</span><span class="bash"> n  <span class="comment">#选择n</span></span></span><br><span class="line">For this to work, you will need rclone available on a machine that has</span><br><span class="line">a web browser available.</span><br><span class="line"></span><br><span class="line">For more help and alternate methods see: https://rclone.org/remote_setup/</span><br><span class="line"></span><br><span class="line">Execute the following on the machine with the web browser (same rclone</span><br><span class="line">version recommended):</span><br><span class="line"></span><br><span class="line">        rclone authorize "onedrive"</span><br><span class="line"></span><br><span class="line">Then paste the result below:</span><br><span class="line"><span class="meta">result&gt;</span><span class="bash"> &#123;<span class="string">"access_token"</span>:<span class="string">"xxxxxxxx"</span>&#125;  <span class="comment">#输入授权码</span></span></span><br><span class="line">Choose a number from below, or type in an existing value</span><br><span class="line"> 1 / OneDrive Personal or Business</span><br><span class="line">   \ "onedrive"</span><br><span class="line"> 2 / Root Sharepoint site</span><br><span class="line">   \ "sharepoint"</span><br><span class="line"> 3 / Type in driveID</span><br><span class="line">   \ "driveid"</span><br><span class="line"> 4 / Type in SiteID</span><br><span class="line">   \ "siteid"</span><br><span class="line"> 5 / Search a Sharepoint site</span><br><span class="line">   \ "search"</span><br><span class="line">Your choice&gt; 1   #选择1，onedrive</span><br><span class="line">Found 1 drives, please select the one you want to use:</span><br><span class="line">0:  (personal) id=xxxxxxxx</span><br><span class="line">Chose drive to use:&gt; 0  #选择挂载的onedrive网盘</span><br><span class="line">Found drive 'root' of type 'personal', URL: https://onedrive.live.com/?cid=xxxxxxxx</span><br><span class="line">Is that okay?</span><br><span class="line">y) Yes (default)</span><br><span class="line">n) No</span><br><span class="line"><span class="meta">y/n&gt;</span><span class="bash">  <span class="comment">#跳过</span></span></span><br><span class="line">--------------------</span><br><span class="line">[myone]</span><br><span class="line">type = onedrive</span><br><span class="line">token = &#123;"access_token":"xxxxxxxx"&#125;</span><br><span class="line">drive_id = xxxxxx</span><br><span class="line">drive_type = personal</span><br><span class="line">--------------------</span><br><span class="line">y) Yes this is OK (default)</span><br><span class="line">e) Edit this remote</span><br><span class="line">d) Delete this remote</span><br><span class="line"><span class="meta">y/e/d&gt;</span><span class="bash"> y  <span class="comment">#跳过</span></span></span><br><span class="line">Current remotes:</span><br><span class="line"></span><br><span class="line">Name                 Type</span><br><span class="line">====                 ====</span><br><span class="line">onedrive                onedrive</span><br><span class="line"></span><br><span class="line">e) Edit existing remote</span><br><span class="line">n) New remote</span><br><span class="line">d) Delete remote</span><br><span class="line">r) Rename remote</span><br><span class="line">c) Copy remote</span><br><span class="line">s) Set configuration password</span><br><span class="line">q) Quit config</span><br><span class="line"><span class="meta">e/n/d/r/c/s/q&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="配置谷歌网盘"><a href="#配置谷歌网盘" class="headerlink" title="配置谷歌网盘"></a>配置谷歌网盘</h3><p>运行命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rclone config</span><br></pre></td></tr></table></figure><p>设置步骤如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ./rclone.exe config</span></span><br><span class="line">Current remotes:</span><br><span class="line"></span><br><span class="line">Name                 Type</span><br><span class="line">====                 ====</span><br><span class="line">onedrive             onedrive</span><br><span class="line"></span><br><span class="line">e) Edit existing remote</span><br><span class="line">n) New remote</span><br><span class="line">d) Delete remote</span><br><span class="line">r) Rename remote</span><br><span class="line">c) Copy remote</span><br><span class="line">s) Set configuration password</span><br><span class="line">q) Quit config</span><br><span class="line"><span class="meta">e/n/d/r/c/s/q&gt;</span><span class="bash"> n <span class="comment">#新建</span></span></span><br><span class="line"><span class="meta">name&gt;</span><span class="bash"> gdrive  <span class="comment">#名称</span></span></span><br><span class="line">Type of storage to configure.</span><br><span class="line">Enter a string value. Press Enter for the default ("").</span><br><span class="line">Choose a number from below, or type in your own value</span><br><span class="line"> 1 / 1Fichier</span><br><span class="line">   \ "fichier"</span><br><span class="line"> 2 / Alias for an existing remote</span><br><span class="line">   \ "alias"</span><br><span class="line"> 3 / Amazon Drive</span><br><span class="line">   \ "amazon cloud drive"</span><br><span class="line"> 4 / Amazon S3 Compliant Storage Provider (AWS, Alibaba, Ceph, Digital Ocean, Dreamhost, IBM COS,</span><br><span class="line"> Minio, etc)</span><br><span class="line">   \ "s3"</span><br><span class="line"> 5 / Backblaze B2</span><br><span class="line">   \ "b2"</span><br><span class="line"> 6 / Box</span><br><span class="line">   \ "box"</span><br><span class="line"> 7 / Cache a remote</span><br><span class="line">   \ "cache"</span><br><span class="line"> 8 / Citrix Sharefile</span><br><span class="line">   \ "sharefile"</span><br><span class="line"> 9 / Dropbox</span><br><span class="line">   \ "dropbox"</span><br><span class="line">10 / Encrypt/Decrypt a remote</span><br><span class="line">   \ "crypt"</span><br><span class="line">11 / FTP Connection</span><br><span class="line">   \ "ftp"</span><br><span class="line">12 / Google Cloud Storage (this is not Google Drive)</span><br><span class="line">   \ "google cloud storage"</span><br><span class="line">13 / Google Drive</span><br><span class="line">   \ "drive"</span><br><span class="line">14 / Google Photos</span><br><span class="line">   \ "google photos"</span><br><span class="line">15 / Hubic</span><br><span class="line">   \ "hubic"</span><br><span class="line">16 / In memory object storage system.</span><br><span class="line">   \ "memory"</span><br><span class="line">17 / Jottacloud</span><br><span class="line">   \ "jottacloud"</span><br><span class="line">18 / Koofr</span><br><span class="line">   \ "koofr"</span><br><span class="line">19 / Local Disk</span><br><span class="line">   \ "local"</span><br><span class="line">20 / Mail.ru Cloud</span><br><span class="line">   \ "mailru"</span><br><span class="line">21 / Mega</span><br><span class="line">   \ "mega"</span><br><span class="line">22 / Microsoft Azure Blob Storage</span><br><span class="line">   \ "azureblob"</span><br><span class="line">23 / Microsoft OneDrive</span><br><span class="line">   \ "onedrive"</span><br><span class="line">24 / OpenDrive</span><br><span class="line">   \ "opendrive"</span><br><span class="line">25 / OpenStack Swift (Rackspace Cloud Files, Memset Memstore, OVH)</span><br><span class="line">   \ "swift"</span><br><span class="line">26 / Pcloud</span><br><span class="line">   \ "pcloud"</span><br><span class="line">27 / Put.io</span><br><span class="line">   \ "putio"</span><br><span class="line">28 / QingCloud Object Storage</span><br><span class="line">   \ "qingstor"</span><br><span class="line">29 / SSH/SFTP Connection</span><br><span class="line">   \ "sftp"</span><br><span class="line">30 / Sugarsync</span><br><span class="line">   \ "sugarsync"</span><br><span class="line">31 / Tardigrade Decentralized Cloud Storage</span><br><span class="line">   \ "tardigrade"</span><br><span class="line">32 / Transparently chunk/split large files</span><br><span class="line">   \ "chunker"</span><br><span class="line">33 / Union merges the contents of several upstream fs</span><br><span class="line">   \ "union"</span><br><span class="line">34 / Webdav</span><br><span class="line">   \ "webdav"</span><br><span class="line">35 / Yandex Disk</span><br><span class="line">   \ "yandex"</span><br><span class="line">36 / http Connection</span><br><span class="line">   \ "http"</span><br><span class="line">37 / premiumize.me</span><br><span class="line">   \ "premiumizeme"</span><br><span class="line">38 / seafile</span><br><span class="line">   \ "seafile"</span><br><span class="line"><span class="meta">Storage&gt;</span><span class="bash">     13  <span class="comment">#第13选谷歌网盘</span></span></span><br><span class="line">** See help for drive backend at: https://rclone.org/drive/ **</span><br><span class="line"></span><br><span class="line">Google Application Client Id</span><br><span class="line">Setting your own is recommended.</span><br><span class="line">See https://rclone.org/drive/#making-your-own-client-id for how to create your own.</span><br><span class="line">If you leave this blank, it will use an internal key which is low performance.</span><br><span class="line">Enter a string value. Press Enter for the default ("").</span><br><span class="line"><span class="meta">client_id&gt;</span></span><br><span class="line">Google Application Client Secret</span><br><span class="line">Setting your own is recommended.</span><br><span class="line">Enter a string value. Press Enter for the default ("").</span><br><span class="line"><span class="meta">client_secret&gt;</span></span><br><span class="line">Scope that rclone should use when requesting access from drive.</span><br><span class="line">Enter a string value. Press Enter for the default ("").</span><br><span class="line">Choose a number from below, or type in your own value</span><br><span class="line"> 1 / Full access all files, excluding Application Data Folder.</span><br><span class="line">   \ "drive"</span><br><span class="line"> 2 / Read-only access to file metadata and file contents.</span><br><span class="line">   \ "drive.readonly"</span><br><span class="line">   / Access to files created by rclone only.</span><br><span class="line"> 3 | These are visible in the drive website.</span><br><span class="line">   | File authorization is revoked when the user deauthorizes the app.</span><br><span class="line">   \ "drive.file"</span><br><span class="line">   / Allows read and write access to the Application Data folder.</span><br><span class="line"> 4 | This is not visible in the drive website.</span><br><span class="line">   \ "drive.appfolder"</span><br><span class="line">   / Allows read-only access to file metadata but</span><br><span class="line"> 5 | does not allow any access to read or download file content.</span><br><span class="line">   \ "drive.metadata.readonly"</span><br><span class="line"><span class="meta">scope&gt;</span><span class="bash">     1  <span class="comment">#输入1赋予访问权限</span></span></span><br><span class="line">ID of the root folder</span><br><span class="line">Leave blank normally.</span><br><span class="line"></span><br><span class="line">Fill in to access "Computers" folders (see docs), or for rclone to use</span><br><span class="line">a non root folder as its starting point.</span><br><span class="line"></span><br><span class="line">Enter a string value. Press Enter for the default ("").</span><br><span class="line"><span class="meta">root_folder_id&gt;</span></span><br><span class="line">Service Account Credentials JSON file path </span><br><span class="line">Leave blank normally.</span><br><span class="line">Needed only if you want use SA instead of interactive login.</span><br><span class="line">Enter a string value. Press Enter for the default ("").</span><br><span class="line"><span class="meta">service_account_file&gt;</span></span><br><span class="line">Edit advanced config? (y/n)</span><br><span class="line">y) Yes</span><br><span class="line">n) No (default)</span><br><span class="line"><span class="meta">y/n&gt;</span><span class="bash">   <span class="comment">#跳过</span></span></span><br><span class="line">Remote config</span><br><span class="line">Use auto config?</span><br><span class="line"> * Say Y if not sure</span><br><span class="line"> * Say N if you are working on a remote or headless machine</span><br><span class="line">y) Yes (default)</span><br><span class="line">n) No</span><br><span class="line"><span class="meta">y/n&gt;</span><span class="bash">  <span class="comment">#跳过</span></span></span><br></pre></td></tr></table></figure><h3 id="获取配置文件"><a href="#获取配置文件" class="headerlink" title="获取配置文件"></a>获取配置文件</h3><p>搜索 ，windows下正常都在 <code>C:\Users\你的用户名\\.config\rclone</code>目录下，Linux正常都在 <code>./.config/rclone/</code>目录下</p><h2 id="使用教程"><a href="#使用教程" class="headerlink" title="使用教程"></a>使用教程</h2><p>常用命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">rclone config - 以控制会话的形式添加rclone的配置，配置保存在.rclone.conf文件中。</span><br><span class="line">rclone copy - 将文件从源复制到目的地址，跳过已复制完成的。</span><br><span class="line">rclone sync - 将源数据同步到目的地址，只更新目的地址的数据。</span><br><span class="line">rclone move - 将源数据移动到目的地址。</span><br><span class="line">rclone delete - 删除指定路径下的文件内容。</span><br><span class="line">rclone purge - 清空指定路径下所有文件数据。</span><br><span class="line">rclone mkdir - 创建一个新目录。</span><br><span class="line">rclone rmdir - 删除空目录。</span><br><span class="line">rclone check - 检查源和目的地址数据是否匹配。</span><br><span class="line">rclone ls - 列出指定路径下所有的文件以及文件大小和路径。</span><br><span class="line">rclone lsd - 列出指定路径下所有的目录/容器/桶。</span><br><span class="line">rclone lsl - 列出指定路径下所有文件以及修改时间、文件大小和路径。</span><br><span class="line">rclone md5sum - 为指定路径下的所有文件产生一个md5sum文件。</span><br><span class="line">rclone sha1sum - 为指定路径下的所有文件产生一个sha1sum文件。</span><br><span class="line">rclone size - 获取指定路径下，文件内容的总大小。.</span><br><span class="line">rclone version - 查看当前版本。</span><br><span class="line">rclone cleanup - 清空remote。</span><br><span class="line">rclone dedupe - 交互式查找重复文件，进行删除/重命名操作。</span><br></pre></td></tr></table></figure><ol><li><p>显示网盘上的目录</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rclone lsd onedrive:   #onedrive是上面设置的名称</span><br><span class="line">rclone lsd gdrive:    #gdrive是上面设置的名称</span><br></pre></td></tr></table></figure></li><li><p>拷贝谷歌网盘上的文件到Onedrive</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">!rclone copy gdrive:music onedrive:音乐 --ignore-existing --config ./music/rclone.conf </span><br><span class="line"><span class="meta">#</span><span class="bash"> --config xxxx.conf 表示指定配置文件</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> --ignore-existing表示跳过已存在的文件</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 此命令表示将谷歌网盘下的music目录复制到Onedrive网盘下的音乐目录</span></span><br></pre></td></tr></table></figure></li><li><p>挂在Onedrive</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rclone mount onedrive:音乐 music --copy-links --no-gzip-encoding --no-check-certificate --allow-other --allow-non-empty --umask 000 --config /content/gdrive/My\ Drive/music/rclone.conf</span><br></pre></td></tr></table></figure></li></ol><h2 id="Linux上挂载网盘"><a href="#Linux上挂载网盘" class="headerlink" title="Linux上挂载网盘"></a>Linux上挂载网盘</h2><ol><li><p>新建Linux下的文件夹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rm -rf /root/music  #删除已有的目录</span><br><span class="line">mkdir /root/music  #新建目录</span><br></pre></td></tr></table></figure></li><li><p>挂载磁盘</p><p>下载脚本</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/x91270/Centos/master/rcloned</span><br></pre></td></tr></table></figure><p>使用 <code>vim rcloned</code>修改脚本项</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">NAME&#x3D;&quot;myone&quot; #创建的rclone名，本文此处填ojbk</span><br><span class="line">REMOTE&#x3D;&quot;音乐&quot; #远程挂载地址对应的文件夹，是你OneDrive对应的具体目录</span><br><span class="line">LOCAL&#x3D;&quot;&#x2F;root&#x2F;music&quot; #在本机上的挂载地址</span><br></pre></td></tr></table></figure><p>启动脚本 <code>rcloned start</code></p></li><li><p>挂载成功后，输入<code>df -h</code>命令查看</p><p><img src="https://i.loli.net/2020/08/15/y2B5TYqenzbkDcX.png" alt="image-20200815181741080"></p></li><li><p>设置开机启动</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mv rcloned /etc/init.d/rcloned    #移动rcloned到init(开机启动目录)下</span><br><span class="line">chmod +x /etc/init.d/rcloned      #给rcloned可执行权限</span><br><span class="line">chkconfig rcloned on                   #设置自启动</span><br><span class="line">bash /etc/init.d/rcloned start       #启动rclone</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> onedrive </tag>
            
            <tag> rclone </tag>
            
            <tag> googledrive </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CefSharp的使用</title>
      <link href="/post/cefsharp_use/"/>
      <url>/post/cefsharp_use/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>之前一直使用WPF自带的<code>WebBrowser</code>控件，但由于它使用的是IE内核，十分难用。于是换了一个开源的浏览器包CefSharp，其支持Winform和WPF，内嵌了Chrome浏览器组件并且有比较详细的说明文档。</p><ul><li><a href="https://github.com/cefsharp/CefSharp" target="_blank" rel="noopener">开源项目地址</a></li><li><a href="https://github.com/cefsharp/CefSharp/wiki/CefSharp中文帮助文档" target="_blank" rel="noopener">官方中文帮助文档</a></li></ul><a id="more"></a><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><ol><li><p>通过Nuget安装，右击项目 -&gt; 管理Nuget程序包 -&gt; 在打开的界面中搜索CefSharp，依次安装 <code>CefSharp.Common</code>和 <code>CefSharp.Wpf</code> ，至于 <code>cef.redist.x64</code>和 <code>cef.redist.x86</code>会自动安装。</p><p><img src="https://i.loli.net/2020/07/30/7NdrJnzxabOZfPh.png" alt="image-20200730153609000"></p></li><li><p>配置解决方案平台</p><p>因为CefSharp不支持ANYCPU所以要配置x86、x64，点击菜单生成 -&gt; 配置管理器。选择解决方案平台，点击编辑，先将x64和x86删掉，再重新新建，重新配置比较容易些。</p><p><img src="https://i.loli.net/2020/07/30/Unib4OjqVvwKB7P.png" alt="image-20200730154155013"></p></li></ol><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>使用时可以直接在xaml文件中直接添加<code>ChromiumWebBrowser</code>控件，不过一个<code>ChromiumWebBrowser</code>控件就要占几M的内存，所以代码动态添加也是一种选择。</p><h3 id="在xaml中添加浏览器"><a href="#在xaml中添加浏览器" class="headerlink" title="在xaml中添加浏览器"></a>在xaml中添加浏览器</h3><ol><li><p>xmal文件头部插入引用<code>xmlns:wpf=&quot;clr-namespace:CefSharp.Wpf;assembly=CefSharp.Wpf&quot;</code>，添加控件如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;Grid x:Name&#x3D;&quot;ctrlBrowerGrid&quot;&gt;</span><br><span class="line">    &lt;wpf:ChromiumWebBrowser x:Name&#x3D;&quot;Browser&quot;&#x2F;&gt;</span><br><span class="line">&lt;&#x2F;Grid&gt;</span><br></pre></td></tr></table></figure></li><li><p>cs文件中操作控件访问网址：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Browser.Load(“www.baidu.com”);</span><br></pre></td></tr></table></figure></li></ol><h3 id="动态添加浏览器"><a href="#动态添加浏览器" class="headerlink" title="动态添加浏览器"></a>动态添加浏览器</h3><ol><li><p>添加浏览器类：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">internal sealed class CollapsableChromiumWebBrowser : ChromiumWebBrowser</span><br><span class="line">&#123;</span><br><span class="line">    public CollapsableChromiumWebBrowser()</span><br><span class="line">    &#123;</span><br><span class="line">        this.Loaded +&#x3D; this.BrowserLoaded;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private void BrowserLoaded(object sender, System.Windows.RoutedEventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F; Avoid loading CEF in designer</span><br><span class="line">        if (DesignerProperties.GetIsInDesignMode(this))</span><br><span class="line">            return;</span><br><span class="line">        &#x2F;&#x2F; Avoid NRE in AbstractRenderHandler.OnPaint</span><br><span class="line">        ApplyTemplate();</span><br><span class="line">        CreateOffscreenBrowser(new Size(400, 400));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>动态添加和操作控件：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CollapsableChromiumWebBrowser Browser &#x3D; new CollapsableChromiumWebBrowser();</span><br><span class="line">&#x2F;&#x2F;页面插入控件</span><br><span class="line">ctrlBrowerGrid.Children.Add(Browser);</span><br><span class="line">&#x2F;&#x2F;这里不能用Load()的方法，会报错。</span><br><span class="line">Browser.Address &#x3D; “www.baidu.com”;</span><br></pre></td></tr></table></figure></li></ol><h3 id="获取Cookie和Html"><a href="#获取Cookie和Html" class="headerlink" title="获取Cookie和Html"></a>获取Cookie和Html</h3><ol><li><p>添加Cookie访问类</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">public class CookieVisitor : ICookieVisitor</span><br><span class="line">&#123;</span><br><span class="line">    public static string Cookies &#x3D; null;</span><br><span class="line">    public static string Html &#x3D; null;</span><br><span class="line">    public event Action&lt;object&gt; Action;</span><br><span class="line">    public bool Visit(CefSharp.Cookie cookie, int count, int total, ref bool deleteCookie)</span><br><span class="line">    &#123;</span><br><span class="line">        if(count &#x3D;&#x3D; 0)</span><br><span class="line">            Cookies &#x3D; null;</span><br><span class="line">        </span><br><span class="line">        Cookies +&#x3D; cookie.Name + &quot;&#x3D;&quot; + cookie.Value + &quot;;&quot;;</span><br><span class="line">        deleteCookie &#x3D; false;</span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void Dispose() </span><br><span class="line">    &#123;</span><br><span class="line">        if (Action !&#x3D; null)</span><br><span class="line">            Action((Html, Cookies));</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>添加Cookie和Html获取回调函数</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public async void RecieveCookie(object data)</span><br><span class="line">&#123;</span><br><span class="line">    (string html,string cookies) &#x3D; ((string,string))data;</span><br><span class="line">    return;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>浏览器控件访问网址，并设置回调</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">async void LoadWebBrowser()</span><br><span class="line">&#123;</span><br><span class="line">    Browser.FrameLoadEnd +&#x3D; Browser_FrameLoadEnd;</span><br><span class="line">    Browser.Address &#x3D; &quot;www.baidu.com&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">private async void Browser_FrameLoadEnd(object sender, FrameLoadEndEventArgs e)</span><br><span class="line">&#123;</span><br><span class="line">    CookieVisitor.Html &#x3D; await Browser.GetSourceAsync();</span><br><span class="line">    CookieVisitor visitor &#x3D; new CookieVisitor();</span><br><span class="line">    visitor.Action +&#x3D; RecieveCookie;</span><br><span class="line">    Cef.GetGlobalCookieManager().VisitAllCookies(visitor);</span><br><span class="line">    return;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WPF </tag>
            
            <tag> C# </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Get AccessToken From Tidal</title>
      <link href="/post/get_accesstoken/"/>
      <url>/post/get_accesstoken/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>AccessToken is a key to get the track\video streamurl.</p><ul><li>AccessToken from Tidal Desktop: Support MQA Flac, can’t download 360\Dobly</li><li>AccessToken from Tidal Android: Support all</li><li>AccessToken from Tidal IOS: Can’t download Flac</li></ul><a id="more"></a><p>How to use AccessToken.</p><ul><li>For tidal-dl: Open tidal-dl and Enter 10 to set AccessToken</li><li>For tidal-gui: Open file tidal-ini and add a key “accesstoken=xxxxxxxxx” (xxxxxxx is your AccessToken)</li></ul><h2 id="Get-AccessToken-from-Tidal-Android"><a href="#Get-AccessToken-from-Tidal-Android" class="headerlink" title="Get AccessToken from Tidal Android"></a>Get AccessToken from Tidal Android</h2><ol><li><p>Login Tidal Android and play a track</p></li><li><p>With any file explorer, go to /sdcard/Android/data/com.aspiro.tidal/cache/okhttp</p><p><img src="https://i.loli.net/2020/07/16/Ihax72DuVU4wnZR.png" alt="image-20200716170648460"></p></li><li><p>Open a file in the folder and Find the ‘Authorization: Bearer’ <strong>very_long_key</strong> (At the beginning of the file)<br><strong>very_long_key</strong> is what you need to copy/paste, if the file not contain the ‘Authorization: Bearer’, open another file.</p><p><img src="https://i.loli.net/2020/07/16/WRMmrUIHOBpizc1.png" alt="image-20200716171249033"></p></li></ol><h2 id="Get-AccessToken-from-Tidal-Desktop"><a href="#Get-AccessToken-from-Tidal-Desktop" class="headerlink" title="Get AccessToken from Tidal Desktop"></a>Get AccessToken from Tidal Desktop</h2><h3 id="Download-Software"><a href="#Download-Software" class="headerlink" title="Download Software"></a>Download Software</h3><ul><li><a href="https://offer.tidal.com/download?lang=en" target="_blank" rel="noopener">Tidal Desktop</a></li><li><a href="https://www.charlesproxy.com/download/" target="_blank" rel="noopener"><em>Charles</em></a> : View all of the HTTP and SSL / HTTPS traffic between their machine and the Internet</li></ul><h3 id="Install-Charles"><a href="#Install-Charles" class="headerlink" title="Install Charles"></a>Install Charles</h3><ol><li><p>Install Charles Root Certificate<br>Select menu: Help –&gt; SSL Proxying –&gt; Install Charles Root Certificate</p><img src="https://cdn.jsdelivr.net/gh/yaronzz/CDN@latest//blog/charles1.png" alt="charles1" style="zoom: 67%;" /></li><li><p>SSL Proxying Settings</p><p>Select menu: Proxy–&gt;SSL Proxying Settings</p><p>Open SSL Proxying page and follow picture settings</p><p><img src="https://cdn.jsdelivr.net/gh/yaronzz/CDN@latest/blog/charles3.png" alt="charles3"></p></li><li><p>Open Options</p><ul><li>Windows Proxy</li><li>Start Recording</li><li>Start SSL Proxying</li></ul><p><img src="https://i.loli.net/2020/07/16/MU6zIPGOoe3KxBq.png" alt="image-20200716151604188"></p></li><li><p>External Proxy Settings (If you need VPN to use Tidal Desktop)</p><p>Select menu: Proxy–&gt;Proxying Settings</p><p>Open Proxies page \ Windows page and follow picture settings</p><p><img src="https://cdn.jsdelivr.net/gh/yaronzz/CDN@latest/blog/charles4.png" alt="charles3"></p><p><img src="https://i.loli.net/2020/07/16/WXKotBSPAglIOh5.png" alt="image-20200716155401866"></p><p>Select menu: Proxy–&gt;External Proxying Settings</p><p>Follow picture settings (IP and Port come from your VPN)</p><p><img src="https://i.loli.net/2020/07/16/2KIwGsdkFVDeSxl.png" alt="image-20200716155638668"></p></li></ol><h3 id="Get-AccessToken"><a href="#Get-AccessToken" class="headerlink" title="Get AccessToken"></a>Get AccessToken</h3><ol><li><p>Install Charles and Open it </p></li><li><p>Open Tidal Desktop</p><p>Charles will view all of the HTTP / HTTPS traffic between tidal and the Internet.</p><p><img src="https://i.loli.net/2020/07/16/WzHRUks6TLvuflO.png" alt="image-20200716152531935"></p></li><li><p>Relogin on the Tidal Desktop and play a track </p><p><img src="https://i.loli.net/2020/07/16/lwV96j7QcYXqkaN.png" alt="image-20200716155903395"></p></li><li><p>‘Ctrl + F’ on the Charles</p><ul><li><p>Enter ‘authorization: Bearer’ or ‘authorization’ and click Find-Button</p></li><li><p>Select url contains ‘tidal’</p></li><li><p>Double click the selection</p><p><img src="https://i.loli.net/2020/07/16/PfL7GX1oZrAVkiv.png" alt="image-20200716161326262"></p></li><li><p>Select Contents page copy the authorization (remove ‘Bearer ‘)</p><p><img src="https://i.loli.net/2020/07/16/2CFoVeZ6DxHrb18.png" alt="image-20200716161139356"></p></li></ul></li></ol><h2 id="Q-amp-A"><a href="#Q-amp-A" class="headerlink" title="Q&amp;A"></a>Q&amp;A</h2><ol><li>Follow documentation but I can’t get the AccessToken’<br>Google how to use Charles.</li><li>How to get AccessToken from Tidal IOS<br>Google Charles IOS.</li></ol>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tidal </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>音频相关知识点</title>
      <link href="/post/audio_knowledge_point/"/>
      <url>/post/audio_knowledge_point/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>音频知识点包括音频属性与音频格式等。</p><a id="more"></a><h2 id="音频属性"><a href="#音频属性" class="headerlink" title="音频属性"></a>音频属性</h2><h3 id="采样频率-Hz"><a href="#采样频率-Hz" class="headerlink" title="采样频率 Hz"></a>采样频率 Hz</h3><p>采样频率就是采用一段音频，做为样本，因为wav使用的是数码信号，它是用一堆数字来描述原来的模拟信号，所以它要对原来的模拟信号进行分析，我们知道所有的声音都有其波形，数码信号就是在原有的模拟信号波形上每隔一段时间进行一次“取点”，赋予每一个点以一个数值，这就是“采样”，然后把所有的“点”连起来就可以描述模拟信号了，很明显，在一定时间内取的点越多，描述出来的波形就越精确，这个尺度我们就称为“采样频率”。</p><p>我们最常用的采样频率是44.1kHz，它的意思是每秒取样44100次。之所以使用这个数值是因为经过了反复实验（实际上是那个时代才是视频27/1.0001时钟做CD刻录遗留问题），人们发现这个采样频率最合适，低于这个值就会有较明显的损失，而高于这个值人的耳朵已经很难分辨，而且增 大了数字音频所占用的空间。</p><p>一般为了达到“万分精确”，我们还会使用48kHz甚至96kHz的采样频率，实际上，96kHz采样频率和44.1kHz采样频率的区别绝对不会象44.1kHz和22kHz那样区别如此之大，我们所使用的CD的采样标准就是44.1kHz，目前44.1kHz还是一个最通行的标准，有些人认为96kHz将是未来录音界的趋势。采样频率提高应该是一件好事，但我们真的能听出96kHz采样频率制作的音乐与44.1kHz采样频率制作的音乐的区别吗？</p><p>注：16bit/44.1kHz是CD中音频的采样，24bit/48kHz是DVD中音频的采样，24bit/192kHz是蓝光中音频的采样。</p><h3 id="采样位数-bit（位深）"><a href="#采样位数-bit（位深）" class="headerlink" title="采样位数  bit（位深）"></a>采样位数  bit（位深）</h3><p>比特率是大家常听说的一个名词，数码录音一般使用16比特、20比特或24比特制作音乐。什么是“比特”？我们知道声音有轻有响，影响声音<a href="https://baike.baidu.com/item/响度" target="_blank" rel="noopener">响度</a>的物理要素是<a href="https://baike.baidu.com/item/振幅" target="_blank" rel="noopener">振幅</a>，作为<a href="https://baike.baidu.com/item/数码录音" target="_blank" rel="noopener">数码录音</a>，必须也要能精确表示乐曲的轻响，所以一定要对波形的振幅有一个精确的描述。“比特(bit)”就是这样一个单位，16比特就是指把波形的振幅划为2^16即65536个等级，根据<a href="https://baike.baidu.com/item/模拟信号" target="_blank" rel="noopener">模拟信号</a>的轻响把它划分到某个等级中去，就可以用数字来表示了。</p><p>和采样频率一样，比特率越高，越能细致地反映乐曲的轻响变化。20比特就可以产生1048576个等级，表现交响乐这类动态十分大的音乐已经没有什么问题了。刚才提到了一个名词“动态”，它其实指的是一首乐曲最响和最轻的对比能达到多少，我们也常说“<a href="https://baike.baidu.com/item/动态范围" target="_blank" rel="noopener">动态范围</a>”，单位是dB，而动态范围和我们录音时采用的比特率是紧密结合在一起的，如果我们使用了一个很低的比特率，那么就只有很少的等级可以用来描述音响的强弱，当然就不能听到大幅度的强弱对比了。</p><p>动态范围和比特率的关系是；<a href="https://baike.baidu.com/item/比特率" target="_blank" rel="noopener">比特率</a>每增加1比特，动态范围就增加6dB。所以假如我们使用1比特录音，那么我们的动态范围就只有6dB，这样的音乐是不可能听的。16比特时，动态范围是96dB。这可以满足一般的需求了。20比特时，动态范围是120dB，对比再强烈的交响乐都可以应付自如了，表现音乐的强弱是绰绰有余了。发烧级的<a href="https://baike.baidu.com/item/录音师" target="_blank" rel="noopener">录音师</a>还使用24比特，但是和采样精度一样，它不会比20比特有很明显的变化，理论上24比特可以做到144 dB的动态范围，但实际上是很难达到的，因为任何设备都不可避免会产生<a href="https://baike.baidu.com/item/噪音" target="_blank" rel="noopener">噪音</a>，至少在现阶段24比特很难达到其预期效果。</p><h3 id="码率-kbps"><a href="#码率-kbps" class="headerlink" title="码率 kbps"></a>码率 kbps</h3><p>表示每秒存储声音容量，如CD标准的声音信号参数为：信号采样频率为44.1kHz，量化精度为16位，包含两个声道。根据每秒钟存储声音容量的公式：</p><p>字节数 = 采样频率×采样精度(位数)×声道数，可计算出其数据率为 <strong>1411.2kbps</strong>， 即176.4kBps。</p><p>(大写B表示byte,即<a href="https://baike.baidu.com/item/字节" target="_blank" rel="noopener">字节</a>，一个字节=八个位，即1B=8b；前面的小写k表示千的意思，即千个位kb或千个字节kB)</p><h2 id="音频格式"><a href="#音频格式" class="headerlink" title="音频格式"></a>音频格式</h2><h3 id="CD"><a href="#CD" class="headerlink" title="CD"></a>CD</h3><p>标准CD格式也就是44.1K的采样频率，速率88K/秒，16位量化位数，因为CD音轨可以说是近似无损的，因此它的声音基本上是忠于原声的。一个CD音频文件是一个<em>.cda文件，这只是一个索引信息，并不是真正的包含声音信息，所以不论CD音乐的长短，在电脑上看到的“</em>.cda文件”都是44字节长。</p><h3 id="WAV"><a href="#WAV" class="headerlink" title="WAV"></a>WAV</h3><p><strong>无损</strong>，是<a href="https://baike.baidu.com/item/微软公司" target="_blank" rel="noopener">微软公司</a>开发的一种声音文件格式，标准格式的WAV文件和CD格式一样，也是44.1K的采样频率，速率88K/秒，16位量化位数。</p><h3 id="MP3"><a href="#MP3" class="headerlink" title="MP3"></a>MP3</h3><p>MPEG音频文件的压缩是一种有损压缩，MPEG3<a href="https://baike.baidu.com/item/音频编码" target="_blank" rel="noopener">音频编码</a>具有10：1~12：1的高<a href="https://baike.baidu.com/item/压缩率" target="_blank" rel="noopener">压缩率</a>，同时基本保持低音频部分不失真，但是牺牲了声音文件中12KHz到16KHz高音频这部分的质量来换取文件的尺寸，相同长度的音乐文件，用<em>.mp3格式来储存，一般只有</em>.wav文件的1/10，而音质要次于CD格式或WAV格式的声音文件。</p><h3 id="OGG"><a href="#OGG" class="headerlink" title="OGG"></a>OGG</h3><p><a href="https://baike.baidu.com/item/ogg格式" target="_blank" rel="noopener">ogg格式</a>完全开源，完全免费， 和mp3不相上下的新格式。 与MP3类似，OGGVorbis也是对音频进行有损压缩编码，但通过使用更加先进的<a href="https://baike.baidu.com/item/声学模型" target="_blank" rel="noopener">声学模型</a>去减少损失，因此，相同<a href="https://baike.baidu.com/item/码率" target="_blank" rel="noopener">码率</a>编码的OGGVorbis比MP3音质更好一些，文件也更小一些。</p><h3 id="FLAC"><a href="#FLAC" class="headerlink" title="FLAC"></a>FLAC</h3><p><a href="https://baike.baidu.com/item/FLAC" target="_blank" rel="noopener">FLAC</a>即是Free Lossless Audio Codec的缩写，中文可解为无损音频压缩编码。FLAC是一套著名的自由音频压缩编码，其特点是<a href="https://baike.baidu.com/item/无损压缩" target="_blank" rel="noopener">无损压缩</a>。不同于其他有损压缩编码如<a href="https://baike.baidu.com/item/MP3" target="_blank" rel="noopener">MP3</a>及<a href="https://baike.baidu.com/item/AAC" target="_blank" rel="noopener">AAC</a>，它不会破坏任何原有的音频资讯，所以可以还原音乐光盘音质。</p><h3 id="APE"><a href="#APE" class="headerlink" title="APE"></a>APE</h3><p>APE是流行的数字音乐文件格式之一。与<a href="https://baike.baidu.com/item/MP3" target="_blank" rel="noopener">MP3</a>这类<a href="https://baike.baidu.com/item/有损压缩" target="_blank" rel="noopener">有损压缩</a>方式不同，APE是一种无损压缩<a href="https://baike.baidu.com/item/音频技术" target="_blank" rel="noopener">音频技术</a>，也就是说当你将从音频CD上读取的音频数据文件压缩成<a href="https://baike.baidu.com/item/APE格式" target="_blank" rel="noopener">APE格式</a>后，你还可以再将APE格式的文件还原，而还原后的音频文件与压缩前的一模一样，没有任何损失。APE的文件大小大概为CD的一半。</p><h3 id="AAC"><a href="#AAC" class="headerlink" title="AAC"></a>AAC</h3><p>应用相对广泛的有AAC,（高级音频编码技术，Advanced Audio Coding）是<a href="https://baike.baidu.com/item/杜比实验室" target="_blank" rel="noopener">杜比实验室</a>为音乐社区提供的技术。AAC号称「最大能容纳48通道的音轨，采样率达96 KHz，并且在320Kbps的数据速率下能为5.1声道音乐节目提供相当于ITU-R广播的品质」。和MP3比起来，它的音质比较好，也能够节省大约30%的储存空间与带宽。</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> audio </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Office365家庭版却需要激活专业增强版的解决办法</title>
      <link href="/post/office365/"/>
      <url>/post/office365/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>由于之前使用KMS破解过office，所以安装了正版的office365家庭版之后，打开却显示当前版本是专业增强版，并且需要许可证。</p><a id="more"></a><img src="https://i.loli.net/2020/06/26/H8pUtY6SxTqszQ4.png" alt="IMG" style="zoom:67%;" /><h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><ol><li>以<strong>管理员</strong>身份运行CMD</li><li>输入命令切换到office目录 <code>cd C:\Program Files\Microsoft Office\Office16</code></li><li>输入命令查询破解软件的KEY(位) <code>cscript ospp.vbs /dstatus</code></li><li>输入命令卸载KEY <code>cscript ospp.vbs /unpkey:XXXXX</code></li></ol><img src="https://i.loli.net/2020/06/26/FyX3YQ5KoGfzbPx.png" alt="IMG" style="zoom:67%;" />]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> office </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Typora快捷键</title>
      <link href="/post/typora_keymap/"/>
      <url>/post/typora_keymap/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Typora快捷键包括菜单栏、文件、编辑、段落、格式、视图等。</p><a id="more"></a><h2 id="一：菜单栏"><a href="#一：菜单栏" class="headerlink" title="一：菜单栏"></a>一：菜单栏</h2><ul><li>文件：alt+F</li><li>编辑：alt+</li><li>段落：alt+P</li><li>格式：alt+O</li><li>视图：alt+V</li><li>主题：alt+T</li><li>帮助：alt+H</li></ul><h2 id="二：文件"><a href="#二：文件" class="headerlink" title="二：文件"></a>二：文件</h2><ul><li>新建：Ctrl+N</li><li>新建窗口：Ctrl+Shift+N</li><li>打开：Ctrl+O</li><li>快速打开：Ctrl+P</li><li>保存：Ctrl+S</li><li>另存为：Ctrl+Shift+S</li><li>偏好：Ctrl+,</li><li>关闭：Ctrl+W</li></ul><h2 id="三：编辑"><a href="#三：编辑" class="headerlink" title="三：编辑"></a>三：编辑</h2><ul><li>撤销：Ctrl+Z</li><li>重做：Ctrl+Y</li><li>剪切：Ctrl+X</li><li>复制：Ctrl+C</li><li>粘贴：Ctrl+V</li><li>插入链接：Ctrl+K</li><li>复制为MarkDown：Ctrl+Shift+C</li><li>粘贴为纯文本：Ctrl+Shift+V</li><li>全选：Ctrl+A</li><li>选中当前行/句：Ctrl+L</li><li>选中当前格式文本：Ctrl+E</li><li>选中当前词：Ctrl+D</li><li>跳转到文首：Ctrl+Home</li><li>跳转到所选内容：Ctrl+J</li><li>跳转到文末：Ctrl+End</li><li>查找：Ctrl+F</li><li>查找下一个：F3</li><li>查找上一个：Shift+F3</li><li>替换：Ctrl+H</li></ul><h2 id="四：段落"><a href="#四：段落" class="headerlink" title="四：段落"></a>四：段落</h2><ul><li>标题：Ctrl+1/2/3/4/5</li><li>段落：Ctrl+0</li><li>增大标题级别：Ctrl+=</li><li>减少标题级别：Ctrl+-</li><li>表格：Ctrl+T</li><li>代码块：Ctrl+Shift+K</li><li>公式块：Ctrl+Shift+M</li><li>引用：Ctrl+Shift+Q</li><li>有序列表：Ctrl+Shift+[</li><li>无序列表：Ctrl+Shift+]</li><li>增加缩进：Ctrl+]</li><li>减少缩进：Ctrl+[</li></ul><h2 id="五：格式"><a href="#五：格式" class="headerlink" title="五：格式"></a>五：格式</h2><ul><li>加粗：Ctrl+B</li><li>斜体：Ctrl+I</li><li>下划线：Ctrl+U</li><li>代码：Ctrl+Shift+`</li><li>删除线：Alt+Shift+5</li><li>超链接：Ctrl+K</li><li>图像：Ctrl+Shift+I</li><li>清除样式：Ctrl+</li></ul><h2 id="六：视图"><a href="#六：视图" class="headerlink" title="六：视图"></a>六：视图</h2><ul><li>显示隐藏侧边栏：Ctrl+Shift+L</li><li>大纲视图：Ctrl+Shift+1</li><li>文档列表视图：Ctrl+Shift+2</li><li>文件树视图：Ctrl+Shift+3</li><li>源代码模式：Ctrl+/</li><li>专注模式：F8</li><li>打字机模式：F9</li><li>切换全屏：F11</li><li>实际大小：Ctrl+Shift+0</li><li>放大：Ctrl+Shift+=</li><li>缩小：Ctrl+Shift+-</li><li>应用内窗口切换：Ctrl+Tab</li><li>打开DevTools：Shift+F12</li></ul>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> typora </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>正则表达式语法</title>
      <link href="/post/regular_expression/"/>
      <url>/post/regular_expression/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>正则表达式<code>(regular expression)</code>描述了一种字符串匹配的模式<code>（pattern）</code>，可以用来检查一个字符串串是否含有某种子串、将匹配的子串替换或者从某个串中取出符合某个条件的子串等。</p><a id="more"></a><p>正则表达式常用的字符如下：</p><table><thead><tr><th align="left">char</th><th align="left">描述</th></tr></thead><tbody><tr><td align="left">( )</td><td align="left">标记一个子表达式的开始和结束位置。子表达式可以获取供以后使用。要匹配这些字符，请使用 ( 和 )。</td></tr><tr><td align="left">*</td><td align="left">匹配前面的子表达式零次或多次。要匹配 * 字符，请使用 *。</td></tr><tr><td align="left">+</td><td align="left">匹配前面的子表达式一次或多次。要匹配 + 字符，请使用 +。</td></tr><tr><td align="left">.</td><td align="left">匹配除换行符 \n 之外的任何单字符。要匹配 . ，请使用 . 。</td></tr><tr><td align="left">[</td><td align="left">标记一个中括号表达式的开始。要匹配 [，请使用 [。</td></tr><tr><td align="left">?</td><td align="left">匹配前面的子表达式零次或一次，或指明一个非贪婪限定符。要匹配 ? 字符，请使用 ?。</td></tr><tr><td align="left">\</td><td align="left">将下一个字符标记为或特殊字符、或原义字符、或向后引用、或八进制转义符。例如， ‘n’ 匹配字符 ‘n’。’\n’ 匹配换行符。序列 ‘\‘ 匹配 “&quot;，而 ‘(‘ 则匹配 “(“。</td></tr><tr><td align="left">^</td><td align="left">匹配输入字符串的开始位置，除非在方括号表达式中使用，当该符号在方括号表达式中使用时，表示不接受该方括号表达式中的字符集合。要匹配 ^ 字符本身，请使用 ^。</td></tr><tr><td align="left">{</td><td align="left">标记限定符表达式的开始。要匹配 {，请使用 {。</td></tr><tr><td align="left">|</td><td align="left">指明两项之间的一个选择。要匹配 |，请使用 |。</td></tr></tbody></table><h3 id="匹配单个字符"><a href="#匹配单个字符" class="headerlink" title="匹配单个字符"></a>匹配单个字符</h3><table><thead><tr><th>Char</th><th>Function</th></tr></thead><tbody><tr><td>.</td><td>匹配任意1个字符（除了\n）</td></tr><tr><td>[ ]</td><td>匹配[ ]中列举的字符</td></tr><tr><td>\d</td><td>匹配数字，即0-9</td></tr><tr><td>\D</td><td>匹配非数字，即不是数字</td></tr><tr><td>\s</td><td>匹配空白，即 空格，tab键</td></tr><tr><td>\S</td><td>匹配非空白</td></tr><tr><td>\w</td><td>匹配单词字符，即a-z、A-Z、0-9、_</td></tr><tr><td>\W</td><td>匹配非单词字符</td></tr></tbody></table><p><strong>示例:</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">ret = re.match(<span class="string">"."</span>,<span class="string">"M"</span>)</span><br><span class="line">print(ret.group())  <span class="comment">#M</span></span><br><span class="line"></span><br><span class="line">ret = re.match(<span class="string">"t.o"</span>,<span class="string">"too"</span>)</span><br><span class="line">print(ret.group())  <span class="comment">#too</span></span><br><span class="line"></span><br><span class="line">ret = re.match(<span class="string">"[hH]ello"</span>,<span class="string">"hello Python"</span>)</span><br><span class="line">print(ret.group())  <span class="comment"># hello</span></span><br><span class="line"></span><br><span class="line">ret = re.match(<span class="string">"[0-9]Hello Python"</span>,<span class="string">"7Hello Python”)</span></span><br><span class="line"><span class="string">print(ret.group())  # 7Hello Python</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">ret = re.match("</span>[<span class="number">0</span><span class="number">-3</span>,<span class="number">5</span><span class="number">-9</span>]Hello Python<span class="string">","</span><span class="number">7</span>Hello Python<span class="string">")</span></span><br><span class="line"><span class="string">print(ret.group()) # 7Hello Python</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">ret = re.match("</span>嫦娥\d号<span class="string">","</span>嫦娥<span class="number">1</span>号发射成功<span class="string">")</span></span><br><span class="line"><span class="string">print(ret.group()) #嫦娥1号</span></span><br></pre></td></tr></table></figure><h3 id="匹配多个字符"><a href="#匹配多个字符" class="headerlink" title="匹配多个字符"></a>匹配多个字符</h3><table><thead><tr><th>Char</th><th>Function</th></tr></thead><tbody><tr><td>*</td><td>匹配前一个字符出现0次或者无限次，即可有可无</td></tr><tr><td>+</td><td>匹配前一个字符出现1次或者无限次，即至少有1次</td></tr><tr><td>?</td><td>匹配前一个字符出现1次或者0次，即要么有1次，要么没有</td></tr><tr><td>{m}</td><td>匹配前一个字符出现m次</td></tr><tr><td>{m,n}</td><td>匹配前一个字符出现从m到n次</td></tr></tbody></table><p><strong>示例:</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">ret = re.match(<span class="string">"[A-Z][a-z]*"</span>,<span class="string">"M"</span>)</span><br><span class="line">print(ret.group())  <span class="comment">#M</span></span><br><span class="line"></span><br><span class="line">ret = re.match(<span class="string">"[A-Z][a-z]*"</span>,<span class="string">"MnnM"</span>)</span><br><span class="line">print(ret.group())  <span class="comment">#Mnn</span></span><br><span class="line"></span><br><span class="line">ret = re.match(<span class="string">"[1-9]?[0-9]"</span>,<span class="string">"7"</span>)</span><br><span class="line">print(ret.group()) <span class="comment">#7</span></span><br><span class="line"></span><br><span class="line">ret = re.match(<span class="string">"[1-9]?\d"</span>,<span class="string">"33"</span>)</span><br><span class="line">print(ret.group()) <span class="comment">#33</span></span><br><span class="line"></span><br><span class="line">ret = re.match(<span class="string">"[1-9]?\d"</span>,<span class="string">"09"</span>)</span><br><span class="line">print(ret.group()) <span class="comment">#None</span></span><br><span class="line"></span><br><span class="line">ret = re.match(<span class="string">"[a-zA-Z0-9_]&#123;6&#125;"</span>,<span class="string">"12a3g45678"</span>)</span><br><span class="line">print(ret.group()) <span class="comment">#12a3g4</span></span><br><span class="line"></span><br><span class="line">ret = re.match(<span class="string">"[a-zA-Z0-9_]&#123;8,20&#125;"</span>,<span class="string">"1ad12f23s34455ff66"</span>)</span><br><span class="line">print(ret.group()) <span class="comment">#1ad12f23s34455ff66</span></span><br></pre></td></tr></table></figure><h3 id="获取子串"><a href="#获取子串" class="headerlink" title="获取子串"></a>获取子串</h3><table><thead><tr><th>String</th><th>Function</th></tr></thead><tbody><tr><td>(.+?)</td><td>惰性匹配,从左到右匹配,并且至少有一个字符</td></tr><tr><td>(.+)</td><td>贪婪匹配,整个字符串是否匹配,并且至少有一个字符</td></tr><tr><td>(.*?)</td><td>惰性匹配,从左到右匹配</td></tr><tr><td>(.*)</td><td>贪婪匹配,整个字符串是否匹配</td></tr></tbody></table><p><strong>示例:</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">txt = <span class="string">"&lt;111222&gt;&lt;3334444&gt;"</span></span><br><span class="line">ret = re.findall(<span class="string">r"&lt;(.+?)&gt;"</span>, txt)</span><br><span class="line"><span class="comment"># 返回 111222 和 3334444</span></span><br><span class="line"></span><br><span class="line">txt = <span class="string">"&lt;111222&gt;&lt;3334444&gt;"</span></span><br><span class="line">ret = re.findall(<span class="string">r"&lt;(.+)&gt;"</span>, txt)</span><br><span class="line"><span class="comment"># 返回 111222&gt;&lt;3334444</span></span><br><span class="line"></span><br><span class="line">txt = <span class="string">"&lt;111222&gt;&lt;3334444&gt;"</span></span><br><span class="line">ret = re.findall(<span class="string">r"&lt;.+&gt;"</span>, txt)</span><br><span class="line"><span class="comment"># 返回 &lt;111222&gt;&lt;3334444&gt;</span></span><br><span class="line"></span><br><span class="line">txt = <span class="string">"&lt;&gt;&lt;3334444&gt;&lt;555666&gt;"</span></span><br><span class="line">ret = re.findall(<span class="string">r"&lt;(.*?)&gt;"</span>, txt)</span><br><span class="line"><span class="comment"># 返回 ""和3334444和555666</span></span><br><span class="line"></span><br><span class="line">txt = <span class="string">"&lt;&gt;&lt;3334444&gt;&lt;555666&gt;"</span></span><br><span class="line">ret = re.findall(<span class="string">r"&lt;(.+?)&gt;"</span>, txt)</span><br><span class="line"><span class="comment"># 返回 &gt;&lt;3334444和555666</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 正则表达式 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>剪辑资源如何获取</title>
      <link href="/post/video_clip_resources/"/>
      <url>/post/video_clip_resources/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>剪辑资源一般包括视频与音频，下面主要介绍视频的种子搜索，常用的下载工具与音频的解析工具等。</p><a id="more"></a><h2 id="视频资源获取"><a href="#视频资源获取" class="headerlink" title="视频资源获取"></a>视频资源获取</h2><h3 id="种子搜索神器Magnetw"><a href="#种子搜索神器Magnetw" class="headerlink" title="种子搜索神器Magnetw"></a>种子搜索神器Magnetw</h3><p><a href="https://github.com/xiandanin/magnetW" target="_blank" rel="noopener">magnetW</a>是基于magnetX的规则原理，将各个磁力站的搜索结果统一格式化的软件，也就是种子搜索神器。通过关键词搜索相关的资源，复制对应的资源链接，使用迅雷或者其他种子下载软件，即可下载。  </p><p>软件开源免费，没有群组，目前代码只在Github上托管，作者提供了Windows、Mac、Linux三个平台的安装包。  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">下载地址为：https:&#x2F;&#x2F;github.com&#x2F;xiandanin&#x2F;magnetW&#x2F;releases</span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/06/22/Zwfp7AH36sDzQbq.gif" alt="imgmagnetw.gif"></p><h3 id="豆瓣资源下载大师"><a href="#豆瓣资源下载大师" class="headerlink" title="豆瓣资源下载大师"></a>豆瓣资源下载大师</h3><p>豆瓣资源下载大师是一个油猴(Tampermonkey)脚本，所以这里需要先安装油猴扩展，UP使用的是Firefox浏览器，主要是因为Firefox的扩展网页国内可以访问。</p><p>安装步骤如下：  </p><ul><li>安装<a href="https://www.mozilla.org/zh-CN/firefox/new/?utm_campaign=non-fx-button&utm_content=header-download-button&utm_medium=referral&utm_source=addons.mozilla.org" target="_blank" rel="noopener">Firefox</a></li></ul><p><img src="https://i.loli.net/2020/06/22/LUlRISHD8PpuY9k.png" alt="firefox"></p><ul><li>打开<a href="https://addons.mozilla.org/zh-CN/firefox/addon/tampermonkey/?src=search" target="_blank" rel="noopener">油猴扩展</a>，进行安装</li></ul><p><img src="https://i.loli.net/2020/06/22/gC4b5l3sq9c2PJH.png" alt="Tampermonkey"></p><ul><li>打开<a href="https://greasyfork.org/zh-CN/scripts/329484-%E8%B1%86%E7%93%A3%E8%B5%84%E6%BA%90%E4%B8%8B%E8%BD%BD%E5%A4%A7%E5%B8%88-1%E7%A7%92%E6%90%9E%E5%AE%9A%E8%B1%86%E7%93%A3%E7%94%B5%E5%BD%B1-%E9%9F%B3%E4%B9%90-%E5%9B%BE%E4%B9%A6%E4%B8%8B%E8%BD%BD" target="_blank" rel="noopener">豆瓣资源下载大师</a>，点击安装  </li></ul><p><img src="https://i.loli.net/2020/06/22/FPNUw8O1arobkuE.png" alt="doubanziyuan">  </p><ul><li><p>测试，打开豆瓣电影<a href="https://movie.douban.com/subject/34964061/?tag=%E7%83%AD%E9%97%A8&from=gaia_video" target="_blank" rel="noopener">《想哭的我戴上了猫的面具》</a>，可以看见页面右侧出现了很多资源按钮，移动到下面<strong>电影资源下载</strong>，就可以看见很多资源网站，按钮没变黄橙色就表示网站有资源。</p><p><img src="https://i.loli.net/2020/06/22/N1Vj59iE4lnefyo.png" alt="imgdoubanmovice.png"></p></li></ul><h3 id="下载神器Motrix"><a href="#下载神器Motrix" class="headerlink" title="下载神器Motrix"></a>下载神器Motrix</h3><p><a href="https://github.com/agalwood/Motrix" target="_blank" rel="noopener">Motrix</a>是一款全能的下载工具，支持下载 HTTP、FTP、BT、磁力链等资源。虽然还代替不了迅雷，但平时配合浏览器下载一些网站资源还是挺不错的，界面简洁无广告，开源免费。</p><p>作者提供了Windows、Mac、Linux三个平台的安装包。  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">下载地址为：https:&#x2F;&#x2F;github.com&#x2F;agalwood&#x2F;Motrix&#x2F;releases</span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/06/22/CQVFRTgPMNGkfIl.png" alt="imgmotrix.png"></p><h2 id="音乐资源获取"><a href="#音乐资源获取" class="headerlink" title="音乐资源获取"></a>音乐资源获取</h2><p>UP主剪辑用到的BGM都是通过各大音乐APP下载下来的，比如用过的音乐APP就有下面的几种：</p><ul><li>QQ音乐</li><li>网易云</li><li>酷狗音乐</li><li>虾米音乐</li><li>Tidal</li></ul><p>这里有个很大的问题，就是如果某首歌曲是VIP才能听的话，那下载下来的歌就是一个加密的文件，这就相当不开心了，所以这里给大家提供一个解决方法：<strong>Unlock Music 音乐解锁</strong></p><blockquote><p><a href="https://github.com/ix64/unlock-music" target="_blank" rel="noopener">Unlock-Music</a>是一款WEB软件，使用浏览器就能对音乐进行解锁。目前软件支持的格式有：</p><ul><li><input checked="" disabled="" type="checkbox"> QQ音乐 (.qmc0/.qmc2/.qmc3/.qmcflac/.qmcogg/<a href="https://github.com/ix64/unlock-music/issues/9" target="_blank" rel="noopener">.tkm</a>)</li><li><input checked="" disabled="" type="checkbox"> Moo音乐格式 (<a href="https://github.com/ix64/unlock-music/issues/11" target="_blank" rel="noopener">.bkcmp3/.bkcflac</a>)</li><li><input checked="" disabled="" type="checkbox"> QQ音乐Tm格式 (.tm0/.tm2/.tm3/.tm6)</li><li><input checked="" disabled="" type="checkbox"> QQ音乐新格式 (实验性支持)<ul><li><input checked="" disabled="" type="checkbox"> .mflac </li><li><input checked="" disabled="" type="checkbox"> <a href="https://github.com/ix64/unlock-music/issues/3" target="_blank" rel="noopener">.mgg</a></li></ul></li><li><input checked="" disabled="" type="checkbox"> 网易云音乐格式 (.ncm)</li><li><input checked="" disabled="" type="checkbox"> 虾米音乐格式 (.xm) (测试阶段)</li><li><input checked="" disabled="" type="checkbox"> 酷我音乐格式 (.kwm) (测试阶段)</li><li><input disabled="" type="checkbox"> 酷狗音乐格式 (.kgm) (Alpha测试)</li></ul></blockquote><p>只需要将程序下载下来，解压压缩包后，点击index.html文件，使用浏览器打开即可使用，下载地址为：</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">蓝奏云网盘：https://yaronzz.lanzous.com/iJpFxdx240h</span><br><span class="line">原网站Github(legacy版本): https://github.com/ix64/unlock-music/releases</span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/06/22/Y9hpoTmVFuLBfiX.png" alt="imgunlockmusic.png"></p>]]></content>
      
      
      <categories>
          
          <category> 剪辑 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> music </tag>
            
            <tag> video </tag>
            
            <tag> download </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vscode-Lua环境安装</title>
      <link href="/post/vscode_lua/"/>
      <url>/post/vscode_lua/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="VSCODE安装"><a href="#VSCODE安装" class="headerlink" title="VSCODE安装"></a>VSCODE安装</h2><p>下载安装 VSCODE：<a href="https://code.visualstudio.com/" target="_blank" rel="noopener">https://code.visualstudio.com/</a></p><p><img src="https://i.loli.net/2020/09/24/g2oSlNYHJstTBP3.png" alt="image-20200924091310812"></p><a id="more"></a><p>选择软件左侧插件扩展项，在输入框中输入要安装的插件即可。</p><ol><li><p>汉化插件</p><p>Chinese (Simplified) Language Pack for Visual Studio Code</p></li><li><p>主题与图标</p><ul><li><p>Atom One Dark Theme</p></li><li><p>vscode-icons</p></li></ul></li><li><p>代码自动对齐</p><p>Better Align</p></li><li><p>显示对齐线</p><p>Guides</p></li><li><p>Lua插件</p><p><img src="https://i.loli.net/2020/09/24/SjLKXNulb4C86qW.png" alt="image-20200924091359589"></p><p><img src="https://i.loli.net/2020/09/24/tdxUz8gTGpLr4D6.png" alt="image-20200924091413376"></p></li></ol><h2 id="调试Lua"><a href="#调试Lua" class="headerlink" title="调试Lua"></a>调试Lua</h2><p>vscode的项目工程以文件夹为单位，打开文件夹即打开一个工程，lua的工作目录为此文件夹路径。</p><ol><li><p>新建文件加 <code>test</code></p></li><li><p>打开<code>test</code>目录，鼠标右键选择<code>vscode</code>打开目录</p></li><li><p>新建<code>info.ls</code></p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">info = &#123;</span><br><span class="line">    age = <span class="number">10</span>,</span><br><span class="line">    name = <span class="string">"xiaoming"</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>新建<code>main.ls</code></p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>(<span class="string">"info"</span>)</span><br><span class="line"></span><br><span class="line">para = <span class="built_in">_G</span>.info</span><br><span class="line"><span class="built_in">print</span>(para.name)</span><br><span class="line"><span class="built_in">print</span>(para.age)</span><br></pre></td></tr></table></figure></li><li><p>点击软件右下角语言模式，将<code>ls</code>文件关联到<code>lua</code></p><p><img src="https://i.loli.net/2020/09/24/1OpsnlWLXFNGzKE.png" alt="image-20200924091556942"></p><p><img src="https://i.loli.net/2020/09/24/O8DplPHubRTUAQx.png" alt="image-20200924091618675"></p></li><li><p>打开<code>mian.ls</code>，按<code>F5</code>即可调试，按<code>F12</code>可以跳转参数定义，将鼠标移动到参数上也可以显示参数信息</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> settings </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vs </tag>
            
            <tag> lua </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS调试Linux程序环境配置</title>
      <link href="/post/vs_linux_debug/"/>
      <url>/post/vs_linux_debug/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="基础配置"><a href="#基础配置" class="headerlink" title="基础配置"></a>基础配置</h2><ol><li><p>Linux安装调试器</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install openssh-server g++ gdb gdbserver</span><br></pre></td></tr></table></figure></li></ol><a id="more"></a><ol start="2"><li><p>Windows环境配置</p><ul><li><p>Linux C++调试组件安装</p><p><img src="https://i.loli.net/2020/06/22/1dVF5TKPo3W8tsp.png" alt="vstool"></p></li><li><p>Linux头文件拷贝到Windows</p><p>Linux的头文件目录为：/usr/include   </p><p>Windows的目录为：安装目录\Common7\IDE\VC\Linux\include\usr\include</p><p>注：拷贝之前最好先备份一下windows的头文件目录</p></li><li><p>VS配置</p><p>增加Linux程序编译时的信息输出，以便更容易查看错误信息，打开路径”菜单-工具-选项-项目和解决方案-生成并运行”，更改MSBuild的两个选项改为普通</p><p><img src="https://i.loli.net/2020/06/22/3HrUAYFdV6GE4lh.png" alt="MSBuild"></p><p>添加Linux的IP与端口，使用SSH连接，打开路径”菜单-工具-选项-Cross Platform”</p><p><img src="https://i.loli.net/2020/06/22/yoaX9reUzTCVWKQ.png" alt="linuxssh"></p></li></ul></li></ol><h2 id="测试工程"><a href="#测试工程" class="headerlink" title="测试工程"></a>测试工程</h2><ol><li><p>新建Linux工程</p><p><img src="https://i.loli.net/2020/06/22/FdYG23qugl7bZEy.png" alt="linuxpro"></p></li><li><p>测试代码</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span>* <span class="title">func</span><span class="params">(<span class="keyword">void</span>* arg)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">       <span class="built_in">printf</span>(<span class="string">"HELLO WORLD - VS LINUX!"</span>);</span><br><span class="line">       <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">       <span class="keyword">pthread_t</span> handle;</span><br><span class="line">       pthread_create(&amp;handle, <span class="literal">NULL</span>, func,<span class="literal">NULL</span>);</span><br><span class="line">       pthread_join(handle, <span class="literal">NULL</span>);</span><br><span class="line">       <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>修改项目配置</p><ul><li><p>路径：右键项目-属性-C/C++-所有选项 </p><p> a. 检查linux是否支持C11，如果不支持的话，要改为C99之类</p><p> b. 附加选项增加多线程所需要的标识‘-lphread’</p></li><li><p>路径：右键项目-属性-链接器-所有选项 </p><p> a. 附加选项增加多线程所需要的标识‘-lphread’</p></li><li><p>路径：右键项目-属性-常规  </p><p> a. 远程生成根目录（默认生成地址为~/project，这里可以修改成自己的专属目录地址）</p></li><li><p>路径：右键项目-属性-调试  </p><p> a. 调试模式（默认为gdbserver，需要看看自己的linux是否支持，如果不支持要改成gdb）</p><p> <img src="https://i.loli.net/2020/06/22/wQSsTkGa6IhZKyu.png" alt="vsset1"></p><p> <img src="https://i.loli.net/2020/06/22/h8iqXyV3cE7mBOa.png" alt="vsset2"></p><p> <img src="https://i.loli.net/2020/06/22/XvDc982jJdqg7C6.png" alt="vsset3"></p></li></ul></li><li><p>调试</p><p>路径：菜单-调试-linux console，可以查看printf输出的信息，linux上需要安装gdbserver才能看到输出的信息</p></li><li><p>链接库的配置</p><p>比如：工程需要链接静态库  /root/projects/xxxxxxxx.a</p><p><img src="https://i.loli.net/2020/06/22/fqjKJQx7EPCIXWv.png" alt="vslib"></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> settings </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> vs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Macos初始配置与使用</title>
      <link href="/post/macos_build/"/>
      <url>/post/macos_build/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>主要介绍虚拟机配置、环境配置与软件安装。</p><a id="more"></a><h2 id="虚拟机配置"><a href="#虚拟机配置" class="headerlink" title="虚拟机配置"></a>虚拟机配置</h2><ol><li><p>安装<a href="https://www.vmware.com/cn.html" target="_blank" rel="noopener">VMware</a> </p><p>版本15.5 序列号：</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">UY758-0RXEQ-M81WP-8ZM7Z-Y3HDA</span><br><span class="line">VF750-4MX5Q-488DQ-9WZE9-ZY2D6</span><br><span class="line">UU54R-FVD91-488PP-7NNGC-ZFAX6</span><br><span class="line">YC74H-FGF92-081VZ-R5QNG-P6RY4</span><br><span class="line">YC34H-6WWDK-085MQ-JYPNX-NZRA2</span><br></pre></td></tr></table></figure></li><li><p>安装<a href="https://pan.baidu.com/s/19XFWF3aVIiYCHwL6Pq9yag" target="_blank" rel="noopener">VMware Unlocker</a>工具（提取码dagu），才能使用Macos</p><p>下载完成后解压unlocker，将解压后的文件复制到Vmware的安装目录，使用管理员运行<strong>unlocker.exe</strong>和<strong>win-install.cmd</strong>。</p><p><img src="https://i.loli.net/2020/06/27/pL7CAhHrYaGImgN.png" alt="img"></p></li><li><p>安装<a href="https://pan.baidu.com/s/1gpmjn6vR1-UKOA67bFd3pg" target="_blank" rel="noopener">Macos10.15</a> 提取码 jlhr</p></li><li><p>安装VMwareTool</p><!--more--></li></ol><h2 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h2><ol><li><p><strong>修改Host文件，解决GitHub的raw.githubusercontent.com无法连接问题</strong> </p><p>打开终端输入<code>sudo vi /etc/hosts</code>,并复制黏贴以下内容，之后按ESC键，再输入<code>:wq</code>保存</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># GitHub Start</span><br><span class="line">52.74.223.119 github.com</span><br><span class="line">192.30.253.119 gist.github.com</span><br><span class="line">54.169.195.247 api.github.com</span><br><span class="line">185.199.111.153 assets-cdn.github.com</span><br><span class="line">151.101.76.133 raw.githubusercontent.com</span><br><span class="line">151.101.108.133 user-images.githubusercontent.com</span><br><span class="line">151.101.76.133 gist.githubusercontent.com</span><br><span class="line">151.101.76.133 cloud.githubusercontent.com</span><br><span class="line">151.101.76.133 camo.githubusercontent.com</span><br><span class="line">151.101.76.133 avatars0.githubusercontent.com</span><br><span class="line">151.101.76.133 avatars1.githubusercontent.com</span><br><span class="line">151.101.76.133 avatars2.githubusercontent.com</span><br><span class="line">151.101.76.133 avatars3.githubusercontent.com</span><br><span class="line">151.101.76.133 avatars4.githubusercontent.com</span><br><span class="line">151.101.76.133 avatars5.githubusercontent.com</span><br><span class="line">151.101.76.133 avatars6.githubusercontent.com</span><br><span class="line">151.101.76.133 avatars7.githubusercontent.com</span><br><span class="line">151.101.76.133 avatars8.githubusercontent.com</span><br><span class="line"># GitHub End</span><br></pre></td></tr></table></figure></li><li><p><strong>安装brew</strong> </p><p>打开终端，输入一下命令并按回车</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"</span><br></pre></td></tr></table></figure><p>可能会出现卡住的情况，如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">==&gt; Tapping homebrew/core</span><br><span class="line">Cloning into '/usr/local/Homebrew/Library/Taps/homebrew/homebrew-core'...</span><br></pre></td></tr></table></figure><p>则直接按Ctrl+C退出，换源安装core，输入以下命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/Homebrew/Library/Taps/homebrew</span><br><span class="line">git clone git://mirrors.ustc.edu.cn/homebrew-core.git/ /usr/local/Homebrew/Library/Taps/homebrew/homebrew-core --depth=1</span><br></pre></td></tr></table></figure><p>接下来修改为国内源，加速访问速度：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/homebrew</span><br><span class="line">git remote set-url origin https://mirrors.ustc.edu.cn/brew.git</span><br><span class="line">cd /usr/local/homebrew/Library/Taps/homebrew/homebrew-core"</span><br><span class="line">git remote set-url origin https://mirrors.ustc.edu.cn/homebrew-core.git</span><br><span class="line">cd /usr/local/homebrew/Library/Taps/homebrew/homebrew-cask"</span><br><span class="line">git remote set-url origin https://mirrors.ustc.edu.cn/homebrew-cask.git</span><br><span class="line">/usr/local/homebrew/bin/brew update</span><br></pre></td></tr></table></figure><p>如果要换回原来的源，则输入以下命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cd  /usr/local/homebrew</span><br><span class="line">git remote set-url origin https://github.com/homebrew/brew.git</span><br><span class="line">cd /usr/local/homebrew/Library/Taps/homebrew/homebrew-core</span><br><span class="line">git remote set-url origin https://github.com/homebrew/homebrew-core.git</span><br><span class="line">cd /usr/local/homebrew/Library/Taps/homebrew/homebrew-cask</span><br><span class="line">git remote set-url origin https://github.com/homebrew/homebrew-cask.git</span><br></pre></td></tr></table></figure></li></ol><h2 id="软件安装"><a href="#软件安装" class="headerlink" title="软件安装"></a>软件安装</h2><ol><li><p>V2rayU</p><p>地址：<a href="https://github.com/yanue/V2rayU/releases" target="_blank" rel="noopener">https://github.com/yanue/V2rayU/releases</a> </p><p>功能：支持二维码扫描、URL导入等功能，跟V2rayN差不多</p></li><li><p>谷歌浏览器 </p><p>地址：<a href="https://www.google.com/intl/zh-CN/chrome/" target="_blank" rel="noopener">https://www.google.com/intl/zh-CN/chrome/</a></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> macos </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Charles抓包工具使用教程</title>
      <link href="/post/charles_use/"/>
      <url>/post/charles_use/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><a href="https://www.charlesproxy.com/" target="_blank" rel="noopener">Charles</a>是一款抓包工具，能够在Windows，Mac，Linux上使用，个人觉得比Fiddler要好用得多。它可以提供代理服务，使手机或电脑软件通过它代理上网。</p><p><strong>注：</strong><a href="https://www.zzzmode.com/mytools/charles/" target="_blank" rel="noopener">破解教程</a></p><a id="more"></a><h3 id="使用教程"><a href="#使用教程" class="headerlink" title="使用教程"></a>使用教程</h3><ol><li><p><strong>安装电脑证书</strong></p><p> 选择菜单Help–&gt;SSL Proxying–&gt;Install Charles Root Certificate</p> <img src="https://cdn.jsdelivr.net/gh/yaronzz/CDN@latest//blog/charles1.png" alt="charles1" style="zoom: 80%;" /></li><li><p><strong>安装手机证书</strong></p><p> 选择菜单Help–&gt;SSL Proxying–&gt;Install Charles Root Certificate on a Mobile Device or Remote Browser</p><p> <img src="https://cdn.jsdelivr.net/gh/yaronzz/CDN@latest/blog/charles2.png" alt="charles2"></p><p> 手机与电脑连接同一个WIFI，进入WIFI设置，选择配置代理–手动，填写Charles提供的IP与端口</p> <img src="https://cdn.jsdelivr.net/gh/yaronzz/CDN@latest/blog/charlesphone.jpg" alt="charlesphone" style="zoom: 50%;" /> <img src="https://cdn.jsdelivr.net/gh/yaronzz/CDN@latest/blog/charlesphone1.jpg" alt="charlesphone1" style="zoom: 50%;" /><p> 手机使用浏览器登录网址 chls.pro/ssl ,下载并安装证书</p></li><li><p><strong>设置监听站点与数据</strong></p><p> 选择菜单Proxy–&gt;SSL Proxying Settings，勾选Enable SSL Proxying，在Location部份选择add，按如下图添加，抓取任意站点、443端口的数据。</p><p> <img src="https://cdn.jsdelivr.net/gh/yaronzz/CDN@latest/blog/charles3.png" alt="charles3"></p></li><li><p><strong>设置代理</strong></p><p> 选择菜单Proxy–&gt;Proxying Settings，勾选HTTP和SOCKS，填写自己的代理端口，如下所示。如果不需要代理这一步骤可以跳过。</p><p> <img src="https://cdn.jsdelivr.net/gh/yaronzz/CDN@latest/blog/charles4.png" alt="charles3"></p><p> <img src="https://i.loli.net/2020/07/16/WXKotBSPAglIOh5.png" alt="image-20200716155401866"></p></li><li><p><strong>开始抓包</strong></p><p> 选择菜单Proxy，勾选Windows Proxy，如果需要代理则再勾选External Proxy Settings</p><p> <img src="https://i.loli.net/2020/07/16/2KIwGsdkFVDeSxl.png" alt="image-20200716155638668"></p><p> <img src="https://cdn.jsdelivr.net/gh/yaronzz/CDN@latest/blog/charles5.png" alt="charles5"></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> charles </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jsDelivr加速Github图床</title>
      <link href="/post/jsdelivr_cdn_github/"/>
      <url>/post/jsdelivr_cdn_github/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>写博客经常会遇到的问题就是图片的存放，既要保证图片存放地址的稳定，也要保证图片访问的速度。在网上找了许多方法，其中最简单的就是直接使用专门的图床网站，比如<a href="https://sm.ms/" target="_blank" rel="noopener">sm.ms</a>之类。但总感觉不是太好整理，另外以后要搬运或者版本更新也不是很方便，于是想到了以<a href="https://github.com/" target="_blank" rel="noopener">Github</a>作为图床，再用<a href="https://www.jsdelivr.com/" target="_blank" rel="noopener">jsDelivr</a>来加速访问。</p><a id="more"></a><h2 id="jsDelivr加速访问"><a href="#jsDelivr加速访问" class="headerlink" title="jsDelivr加速访问"></a>jsDelivr加速访问</h2><p>jsDelivr是一家免费的公共的CDN服务器提供商，由于Github在国内的访问速度很慢，而且时不时断线，所以推荐使用jsDelivr作为CDN加速。只需要将文件的访问链接简单改一下即可，格式如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;用户名&#x2F;仓库名@latest&#x2F;图片的路径&#x2F;图片名称.jpg</span><br></pre></td></tr></table></figure><!-- more --><h2 id="Github图床"><a href="#Github图床" class="headerlink" title="Github图床"></a>Github图床</h2><p>GitHub是一个面向开源及私有软件项目的托管平台，也是目前世界最大的程序员集中地。除了用来当做程序的版本控制库之外，也可以储存其他的东西，Github图床主要也是图个稳定，只要不恶意刷流量影响也就不大。</p><h3 id="1-新建Github仓库"><a href="#1-新建Github仓库" class="headerlink" title="1. 新建Github仓库"></a>1. 新建Github仓库</h3><p><img src="https://cdn.jsdelivr.net/gh/yaronzz/CDN@latest/blog/github_cdn/newrepo.jpg" alt="image"> </p><ul><li>仓库名随意</li><li>权限选择公开</li><li>使用Readme.md初始化</li></ul><h3 id="2-生成仓库的访问钥匙token"><a href="#2-生成仓库的访问钥匙token" class="headerlink" title="2. 生成仓库的访问钥匙token"></a>2. 生成仓库的访问钥匙token</h3><ul><li>右上角点击头像，选择Settings</li><li>选择Developer settings/Personal access tokens</li><li>点击Generate new token，获取token并复制下来  </li><li>Note名称随便填，repo需要打钩，其他不用管<br><img src="https://cdn.jsdelivr.net/gh/yaronzz/CDN@latest/blog/github_cdn/tokencreat.jpg" alt="image"> </li></ul><h3 id="3-下载配置PicGo"><a href="#3-下载配置PicGo" class="headerlink" title="3. 下载配置PicGo"></a>3. 下载配置PicGo</h3><ul><li>选择相应的电脑版本下载: <a href="https://github.com/Molunerfinn/PicGo/releases" target="_blank" rel="noopener">https://github.com/Molunerfinn/PicGo/releases</a></li><li>配置图床信息：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">仓库名：github用户名&#x2F;仓库门</span><br><span class="line">分支名：填master</span><br><span class="line">存储路径：仓库中的目录名</span><br><span class="line">自定义域名：https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;用户名&#x2F;仓库名@latest&#x2F;</span><br></pre></td></tr></table></figure>下载图片上传软件<a href="https://github.com/Molunerfinn/PicGo/releases" target="_blank" rel="noopener">PicGo</a>，设置刚才新建的repo名称、token、分支名写master，存储地址填写本地图片存放目录。<br><img src="https://cdn.jsdelivr.net/gh/yaronzz/CDN@latest/blog/github_cdn/picgoset.jpg" alt="image"> </li></ul>]]></content>
      
      
      <categories>
          
          <category> 建站 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jsdelivr </tag>
            
            <tag> github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Tidal-Media-Downloader Installation Documentation</title>
      <link href="/post/tidal_dl_installation/"/>
      <url>/post/tidal_dl_installation/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><a href="https://github.com/yaronzz/Tidal-Media-Downloader" target="_blank" rel="noopener"><strong>Tidal-Media-Downloader</strong></a> is an application that lets you download videos、tracks、playlist、album and artist’s album from <a href="https://listen.tidal.com/" target="_blank" rel="noopener"><strong>Tidal Website</strong></a></p><a id="more"></a><p>Have two version：</p><ul><li><strong>Tidal-dl</strong>: cli，support windows\linux\macos\android</li><li><strong>Tidal-gui</strong>: gui，support windows</li></ul><h2 id="🎉Tidal-dl"><a href="#🎉Tidal-dl" class="headerlink" title="🎉Tidal-dl"></a>🎉Tidal-dl</h2><img src="https://i.loli.net/2020/08/19/gqW6zHI1SrKlomC.png" alt="image-20200819114623230" style="zoom: 80%;" /><h3 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h3><p>Select the installation steps according to the computer system</p><ul><li><p>Windows：<a href="https://github.com/yaronzz/Tidal-Media-Downloader/tree/master/TIDALDL-PY/exe" target="_blank" rel="noopener">tidal-dl.exe</a></p></li><li><p>Linux: <code>pip3 install tidal-dl --upgrade</code></p></li><li><p>MacOs:</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">brew instal ffmpeg</span><br><span class="line">brew install python</span><br><span class="line">curl -O http:&#x2F;&#x2F;python-distribute.org&#x2F;distribute_setup.py</span><br><span class="line">python distribute_setup.py</span><br><span class="line">curl -O https:&#x2F;&#x2F;raw.github.com&#x2F;pypa&#x2F;pip&#x2F;master&#x2F;contrib&#x2F;get-pip.py</span><br><span class="line">python get-pip.py</span><br><span class="line">pip3 install --upgrade tidal-dl</span><br><span class="line">tidal-dl</span><br></pre></td></tr></table></figure></li><li><p>Android: </p><p> a). Install termux：<a href="https://play.google.com/store/apps/details?id=com.termux" target="_blank" rel="noopener">https://play.google.com/store/apps/details?id=com.termux</a><br> b). Open permission：termux-setup-storage<br> c). Install python和tidal-dl</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pkg install python clang libjpeg-turbo ffmpeg zlib -y</span><br><span class="line">apt update</span><br><span class="line">apt upgrade</span><br><span class="line">pkg update</span><br><span class="line">pip3 install --upgrade pip</span><br><span class="line">pip3 install --upgrade tidal-dl</span><br><span class="line">tidal-dl</span><br></pre></td></tr></table></figure></li></ul><h3 id="Use"><a href="#Use" class="headerlink" title="Use"></a>Use</h3><ol><li><p>Enter username and password.</p></li><li><p>Type ‘2’ and enter，set config file</p><table><thead><tr><th align="left">Name</th><th align="left">Function</th></tr></thead><tbody><tr><td align="left">Download path</td><td align="left">File save directory</td></tr><tr><td align="left">Audio quality</td><td align="left">Track quality</td></tr><tr><td align="left">Video quality</td><td align="left">Support 1080\720\480\360\240</td></tr><tr><td align="left">Add hyphens</td><td align="left">‘-‘ between number and title, like‘01-Yellow.m4a’</td></tr><tr><td align="left">Convert mp4 to m4a</td><td align="left">Convert mp4 to m4a(Only track)</td></tr><tr><td align="left">Add year</td><td align="left">before or after the name of album directory</td></tr><tr><td align="left">Add explicit tag</td><td align="left">like‘01-Yellow-explicit.m4a’</td></tr><tr><td align="left">Include singles</td><td align="left">download artist EP&amp;Single</td></tr><tr><td align="left">Save covers</td><td align="left">Cover-Files are saved in the album directory</td></tr><tr><td align="left">Artist name before track-title</td><td align="left">Add artist name before the track-file-name</td></tr><tr><td align="left">ID before album-folder</td><td align="left">like ‘[20495848] Wretched and Divine’</td></tr></tbody></table><p>Audio quailty: Master &gt; HiFi &gt; High &gt; Normal</p><table><thead><tr><th align="left">Audio Quality</th><th align="left">Format</th></tr></thead><tbody><tr><td align="left">Normal</td><td align="left">mp4 or m4a</td></tr><tr><td align="left">High</td><td align="left">mp4 or m4a</td></tr><tr><td align="left">HiFi</td><td align="left">mp4 or m4a or flac</td></tr><tr><td align="left">Master<strong>(BEST)</strong></td><td align="left">flac</td></tr></tbody></table></li><li><p>Type track\video\album\playlist\artist url to download</p></li></ol><h2 id="🍕Tidal-gui"><a href="#🍕Tidal-gui" class="headerlink" title="🍕Tidal-gui"></a>🍕Tidal-gui</h2><p>Because the gui more cumbersome to do, it is generally tidal-dl that adds new features first, and then gui follows up. Therefore it is recommended to use tidal-dl.</p><ol><li><p><a href="https://github.com/yaronzz/Tidal-Media-Downloader/releases" target="_blank" rel="noopener">Download Tidal-gui</a></p></li><li><p>Open tidal-gui and set https-proxy and login</p><img src="https://i.loli.net/2020/08/21/KP1QcHjOnU63dgq.png" alt="image-20200821102515525" style="zoom:67%;" /></li><li><p>Type track\video\album\playlist\artist url to download</p><img src="https://i.loli.net/2020/08/06/sPLowIlCGyOdpVN.png" alt="2222" style="zoom:80%;" /></li></ol><h2 id="💎Disclaimer"><a href="#💎Disclaimer" class="headerlink" title="💎Disclaimer"></a>💎Disclaimer</h2><ul><li>Music is not free, need a HIFI account.</li><li>Private use only.</li><li>Any secondary development of this tool has nothing to do with me.</li><li>You should not use this method to distribute or pirate music.</li><li>It may be illegal to use this in your country, so be informed.</li></ul><h2 id="⚽Q-amp-A"><a href="#⚽Q-amp-A" class="headerlink" title="⚽Q&amp;A"></a>⚽Q&amp;A</h2><ol><li><strong>Does the tool require hi-fi account?</strong><br>Yes.</li><li><strong>Can’t download ‘Master’?</strong><br>Make sure the track or album you want to save has the “M” logo beside of it.</li><li><strong>Need gui for MacOs.</strong><br>Need some times to learn swift.</li><li><strong>Requested quality is not allowed in user’s subscription?</strong><br>You need a hi-fi account.</li></ol>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tidal </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Tidal-Media-Downloader安装文档</title>
      <link href="/post/tidal_dl_installation_chn/"/>
      <url>/post/tidal_dl_installation_chn/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><a href="https://github.com/yaronzz/Tidal-Media-Downloader" target="_blank" rel="noopener"><strong>Tidal-Media-Downloader</strong></a>是一个从<a href="https://listen.tidal.com/" target="_blank" rel="noopener">Tidal音乐网站</a>下载音频资源的工具，支持下载歌曲、专辑、歌单、歌手全部专辑和批量下载功能。</p><a id="more"></a><p>目前有两个版本：</p><ul><li><strong>Tidal-dl</strong>: 命令行模式，支持windows\linux\macos\android</li><li><strong>Tidal-gui</strong>: 界面模式，支持windows</li></ul><h2 id="🎉Tidal-dl"><a href="#🎉Tidal-dl" class="headerlink" title="🎉Tidal-dl"></a>🎉Tidal-dl</h2><img src="https://i.loli.net/2020/08/19/gqW6zHI1SrKlomC.png" alt="image-20200819114623230" style="zoom: 80%;" /><h3 id="安装教程"><a href="#安装教程" class="headerlink" title="安装教程"></a>安装教程</h3><p>根据电脑系统选择下面各自安装过程：</p><ul><li><p>Windows下安装：<a href="https://github.com/yaronzz/Tidal-Media-Downloader/tree/master/TIDALDL-PY/exe" target="_blank" rel="noopener">tidal-dl.exe</a></p></li><li><p>Linux下安装: <code>pip3 install tidal-dl --upgrade</code></p></li><li><p>MacOs下安装:</p> <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">brew instal ffmpeg</span><br><span class="line">brew install python</span><br><span class="line">curl -O http://python-distribute.org/distribute_setup.py</span><br><span class="line">python distribute_setup.py</span><br><span class="line">curl -O https://raw.github.com/pypa/pip/master/contrib/get-pip.py</span><br><span class="line">python get-pip.py</span><br><span class="line">pip3 install --upgrade tidal-dl</span><br><span class="line">tidal-dl</span><br></pre></td></tr></table></figure></li><li><p>Android下安装:</p><p> a). 安装termux：<a href="https://play.google.com/store/apps/details?id=com.termux" target="_blank" rel="noopener">https://play.google.com/store/apps/details?id=com.termux</a><br> b). 打开权限：termux-setup-storage<br> c). 安装python和tidal-dl</p> <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pkg install python clang libjpeg-turbo ffmpeg zlib -y</span><br><span class="line">apt update</span><br><span class="line">apt upgrade</span><br><span class="line">pkg update</span><br><span class="line">pip3 install --upgrade pip</span><br><span class="line">pip3 install --upgrade tidal-dl</span><br><span class="line">tidal-dl</span><br></pre></td></tr></table></figure></li></ul><h3 id="使用教程"><a href="#使用教程" class="headerlink" title="使用教程"></a>使用教程</h3><ol><li><p>输入账号密码登录</p></li><li><p>输入’2’回车，设置配置项</p><table><thead><tr><th align="left">名称</th><th align="left">功能</th></tr></thead><tbody><tr><td align="left">Download path</td><td align="left">输出目录</td></tr><tr><td align="left">Convert mp4 to m4a</td><td align="left">是否将Mp4格式的音频文件转换为M4a格式</td></tr><tr><td align="left">Add explicit tag</td><td align="left">是否在下载的歌曲文件名后加上explicit脏话标志</td></tr><tr><td align="left">Add hyphens</td><td align="left">文件名的序号和歌名之间加扩折号，如‘01-Yellow.m4a’</td></tr><tr><td align="left">Add user track number</td><td align="left">文件名添加序号</td></tr><tr><td align="left">Audio quality</td><td align="left">下载的音乐质量</td></tr><tr><td align="left">Video quality</td><td align="left">下载的视频质量</td></tr><tr><td align="left">Check exist</td><td align="left">跳过已经下载的文件</td></tr><tr><td align="left">Artist name before track-title</td><td align="left">歌曲文件名前歌手名称</td></tr><tr><td align="left">ID before album-folder</td><td align="left">专辑文件夹名前加专辑ID</td></tr><tr><td align="left">Add year</td><td align="left">下载的专辑目录前或后加上发布年号</td></tr><tr><td align="left">Include singles</td><td align="left">下载歌手专辑时，是否下载EP\单曲</td></tr><tr><td align="left">Save covers</td><td align="left">是否保存封面文件</td></tr></tbody></table><p>音频质量Audio quality的选择对应的文件格式如下：</p><p>Master &gt; HiFi &gt; High &gt; Normal</p><table><thead><tr><th align="left">音频质量</th><th align="left">文件格式</th></tr></thead><tbody><tr><td align="left">Normal</td><td align="left">mp4或m4a</td></tr><tr><td align="left">High</td><td align="left">mp4或m4a</td></tr><tr><td align="left">HiFi</td><td align="left">flac或mp4或m4a</td></tr><tr><td align="left">Master</td><td align="left">flac</td></tr></tbody></table></li><li><p>输入链接或者ID即可下载</p></li></ol><h2 id="🍕Tidal-gui"><a href="#🍕Tidal-gui" class="headerlink" title="🍕Tidal-gui"></a>🍕Tidal-gui</h2><p>因为界面做起来比较麻烦，所以一般都是tidal-dl先加新功能之后，gui再跟进。所有如果对界面需求不是很大的话，建议使用tidal-dl比较好。</p><ol><li><p><a href="https://github.com/yaronzz/Tidal-Media-Downloader-PRO/releases" target="_blank" rel="noopener">下载tidal-gui文件</a></p></li><li><p>打开tidal-gui设置https代理(不需要的可以不用)并登陆</p><img src="https://i.loli.net/2020/08/21/KP1QcHjOnU63dgq.png" alt="image-20200821102515525" style="zoom:67%;" /></li><li><p>输入歌曲\专辑\视频\歌手ID或URL即可下载</p><img src="https://i.loli.net/2020/08/06/sPLowIlCGyOdpVN.png" alt="2222" style="zoom:80%;" /></li></ol><h2 id="💎免责声明"><a href="#💎免责声明" class="headerlink" title="💎免责声明"></a>💎免责声明</h2><ul><li>音乐不是免费的，需要开通HIFI会员。</li><li>这是一个私人工具，请不要用于商业和恶意传播等用途。</li><li>任何对此工具的二次开发，产生的后果跟本人无关。</li><li>请不要用此工具分发和盗版音乐。</li><li>在你的国家和地区使用此工具可能是违法的行为，请知悉。</li></ul><h2 id="⚽常见问题解答"><a href="#⚽常见问题解答" class="headerlink" title="⚽常见问题解答"></a>⚽常见问题解答</h2><ol><li><strong>下载时，我是否需要开通会员？</strong><br>答：当然</li><li><strong>为什么我下载的不是Master音质？</strong><br>答：Tidal有些歌曲是没有到Master音质的，可以去网站上看看歌曲后面是否有M标志</li><li><strong>为什么没有MacOs的界面工具？</strong><br>答：还不会Swift</li><li><strong>Requested quality is not allowed in user’s subscription?</strong><br>答：先检查自己是不是会员，另外有些歌曲在一些地区是限制下载的。</li></ol>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tidal </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows值得推荐的软件</title>
      <link href="/post/windows_software/"/>
      <url>/post/windows_software/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>装机必备软件包括系统、聊天与娱乐、日常工具、办公、设计与编辑、编程等</p><a id="more"></a><h3 id="系统软件"><a href="#系统软件" class="headerlink" title="系统软件"></a>系统软件</h3><ul><li><strong>安全与清理</strong>：<a href="https://www.huorong.cn/" target="_blank" rel="noopener">火绒安全</a></li><li><strong>输入法</strong>：<a href="https://pinyin.sogou.com/" target="_blank" rel="noopener">搜狗</a></li><li><strong>截图软件</strong>：<a href="https://www.snipaste.com/" target="_blank" rel="noopener">Snipaste</a></li><li><strong>压缩软件</strong>：<a href="https://www.7-zip.org/" target="_blank" rel="noopener">7zip</a></li><li><strong>快捷搜索</strong>：<a href="https://www.listary.com/" target="_blank" rel="noopener">Listary</a></li><li><strong>卸载软件</strong>：<a href="https://geekuninstaller.com/download" target="_blank" rel="noopener">Geek</a></li><li><strong>Win集成工具</strong>：<a href="https://github.com/microsoft/PowerToys/releases" target="_blank" rel="noopener">PowerToys</a></li><li><strong>复制黏贴</strong>：<a href="https://ditto-cp.sourceforge.io/" target="_blank" rel="noopener">Ditto</a><!-- more --></li></ul><h3 id="聊天与娱乐"><a href="#聊天与娱乐" class="headerlink" title="聊天与娱乐"></a>聊天与娱乐</h3><ul><li><strong>QQ</strong>：<a href="https://im.qq.com/" target="_blank" rel="noopener">https://im.qq.com/</a></li><li><strong>微信</strong>：<a href="https://weixin.qq.com/" target="_blank" rel="noopener">https://weixin.qq.com/</a></li><li><strong>Telegram</strong>：<a href="https://telegram.org/" target="_blank" rel="noopener">https://telegram.org/</a></li><li><strong>网易云</strong>：<a href="https://music.163.com/#/download" target="_blank" rel="noopener">https://music.163.com/#/download</a></li><li><strong>QQ音乐</strong>： <a href="https://y.qq.com/" target="_blank" rel="noopener">https://y.qq.com/</a></li></ul><h3 id="日常工具"><a href="#日常工具" class="headerlink" title="日常工具"></a>日常工具</h3><ul><li><strong>下载</strong>：<a href="https://www.xunlei.com/" target="_blank" rel="noopener">迅雷</a></li><li><strong>下载2</strong>：<a href="https://motrix.app/" target="_blank" rel="noopener">Motrix</a></li><li><strong>网盘</strong>：<a href="https://pan.baidu.com/" target="_blank" rel="noopener">百度网盘</a></li><li><strong>浏览器</strong>：<a href="https://www.google.cn/intl/zh-CN/chrome/" target="_blank" rel="noopener">谷歌</a></li><li><strong>远程控制</strong>：<a href="https://www.teamviewer.cn/cn/" target="_blank" rel="noopener">Teamviewer</a></li><li><strong>手机连电脑</strong>：<a href="https://www.i4.cn/" target="_blank" rel="noopener">爱思助手</a></li><li><strong>科学上网</strong>：<a href="https://github.com/2dust/v2rayN/releases/latest" target="_blank" rel="noopener">v2rayN</a></li><li><strong>播放器</strong>：<a href="https://potplayer.en.softonic.com/windows" target="_blank" rel="noopener">Potplayer</a></li></ul><h3 id="办公"><a href="#办公" class="headerlink" title="办公"></a>办公</h3><ul><li><strong>Markdown编辑</strong>：<a href="https://www.typora.io/" target="_blank" rel="noopener">Typora</a></li><li><strong>WPS校园</strong>：<a href="https://education.wps.cn/" target="_blank" rel="noopener">WPS</a></li><li><strong>UI设计</strong>：<a href="https://icons8.cn/lunacy" target="_blank" rel="noopener">Lunacy</a></li></ul><h3 id="设计与剪辑"><a href="#设计与剪辑" class="headerlink" title="设计与剪辑"></a>设计与剪辑</h3><ul><li><strong>剪辑视频</strong>：<a href="http://www.downza.cn/soft/282275.html" target="_blank" rel="noopener">Pr2019</a></li><li><strong>修图工具</strong>：<a href="https://pan.baidu.com/s/18cG0vNhO5SYZnm1712Nypw" target="_blank" rel="noopener">Ps2020</a>，提取码74j6 </li><li><strong>压缩视频</strong>：<a href="https://pan.baidu.com/s/1zMv_4ltgEMSyt5tmwktADg" target="_blank" rel="noopener">小丸子工具箱</a></li><li><strong>流程图制作</strong>：<a href="https://pan.baidu.com/s/1ZxVuefKd6rO1cYQd2Gtsjw" target="_blank" rel="noopener">Drawio</a>，提取码138e </li></ul><h3 id="程序开发"><a href="#程序开发" class="headerlink" title="程序开发"></a>程序开发</h3><ul><li><strong>VSCode</strong>: <a href="https://code.visualstudio.com/" target="_blank" rel="noopener">https://code.visualstudio.com/</a></li><li><strong>Visual Studio</strong>: <a href="https://visualstudio.microsoft.com/zh-hans/" target="_blank" rel="noopener">https://visualstudio.microsoft.com/zh-hans/</a></li><li><strong>XShell</strong>: <a href="http://www.zdfans.com/search.asp?keyword=xshell" target="_blank" rel="noopener">http://www.zdfans.com/search.asp?keyword=xshell</a></li><li><strong>SVN</strong>: <a href="https://tortoisesvn.net/" target="_blank" rel="noopener">https://tortoisesvn.net/</a></li><li><strong>GIT</strong>: <a href="https://tortoisegit.org/download/" target="_blank" rel="noopener">https://tortoisegit.org/download/</a></li><li><strong>抓包工具Charles</strong>: <a href="https://www.charlesproxy.com/" target="_blank" rel="noopener">https://www.charlesproxy.com/</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HEXO建站</title>
      <link href="/post/hexo_build/"/>
      <url>/post/hexo_build/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>主要介绍如何搭建hexo和部署到github。</p><a id="more"></a><h2 id="环境安装"><a href="#环境安装" class="headerlink" title="环境安装"></a>环境安装</h2><ul><li><p>安装 <a href="https://nodejs.org/en/download/" target="_blank" rel="noopener">node.js</a></p></li><li><p>安装 HEXO</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm config set registry http://registry.npm.taobao.org #设置国内镜像链接</span><br><span class="line">npm install hexo-cli -g</span><br><span class="line">npm install hexo --save</span><br><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></li></ul><h2 id="新建博客"><a href="#新建博客" class="headerlink" title="新建博客"></a>新建博客</h2><ul><li><p>新建博客文件夹，在目录下输入以下命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo init #初始化博客</span><br><span class="line">hexo g   #编译成静态网页</span><br><span class="line">hexo s   #本地测试</span><br></pre></td></tr></table></figure></li><li><p>新建文章</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new "测试文章"</span><br></pre></td></tr></table></figure></li><li><p>新建页面</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo new page tags  #标签页</span><br><span class="line">hexo new page categories  #归档页</span><br></pre></td></tr></table></figure><p>打开生成的文件<code>source/tags/index.md</code>和<code>source/categories/index.md</code>，分别添加 <code>type: &quot;tags&quot;</code> 和 <code>type: &quot;categories&quot;</code>。</p></li><li><p>生成博客，并在本地部署</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>浏览器打开 <code>127.0.0.1:4000</code> 即可浏览博客</p></li></ul><h2 id="部署到Github"><a href="#部署到Github" class="headerlink" title="部署到Github"></a>部署到Github</h2><ol><li><p>在github新建项目<a href="http://xxxx.github.io/" target="_blank" rel="noopener">xxxx.github.io</a>，其中xxxx为账号名，克隆项目到本地</p></li><li><p>配置ssh</p><ul><li>生成秘钥：<code>ssh-keygen -t rsa -C &quot;你的邮件地址&quot;</code></li><li>复制公钥文件内容，默认为id_rsa.pub</li><li>登录Github，点击头像 -&gt; Settings -&gt; SSH keys -&gt; Add SSH key</li><li>把公钥粘贴到key中，填好title并点击Add key</li><li>输入命令<code>ssh -T git@github.com</code>，选yes，等待片刻可看到成功提示</li></ul></li><li><p>打开博客目录下的<code>_config.yml</code>，在文件中添加：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">    <span class="attr">repo:</span> <span class="string">git@github.com:your_name/your_name.github.io.git</span></span><br><span class="line">    <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure></li><li><p>执行编译上传命令 <code>hexo d -g</code>，浏览器打开 <code>xxxx.github.io</code> 即可浏览博客</p></li><li><p>域名解析</p><ul><li>添加一个CNAME记录，主机记录@，<a href="http://xn--xxx-2w0e630et04d.github.io/" target="_blank" rel="noopener">记录值xxx.github.io</a>，其他默认</li><li>添加一个CNAME记录，主机记录www，<a href="http://xn--xxx-2w0e630et04d.github.io/" target="_blank" rel="noopener">记录值xxx.github.io</a>，其他默认</li></ul></li><li><p>github设置</p><ul><li>打开项目’<a href="http://xxxx.github.io/" target="_blank" rel="noopener">xxxx.github.io</a>‘，选择settings页面</li><li>找到Custom domain，填写域名，不用加www</li><li>Enforce HTTPS打钩</li><li>在博客根目录source下新建CNAME文件，填写域名</li></ul></li></ol>]]></content>
      
      
      <categories>
          
          <category> 建站 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> 教程 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
